2025-07-13 01:22:25,132 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:22:25,133 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:22:25,133 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:22:25,134 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:22:25,134 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:22:25,135 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:22:25,135 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:22:25,135 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:22:25,432 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-13 01:22:25,437 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-13 01:22:25,437 uvicorn.error INFO Started reloader process [10336] using WatchFiles
2025-07-13 01:22:26,469 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:22:26,469 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:22:26,470 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:22:26,470 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:22:26,472 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:22:26,472 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:22:26,472 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:22:26,472 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:22:26,785 uvicorn.error INFO Started server process [18096]
2025-07-13 01:22:26,787 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:22:26,788 uvicorn.error INFO Application startup complete.
2025-07-13 01:23:07,421 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\user.py')}
2025-07-13 01:23:07,422 uvicorn.error WARNING WatchFiles detected changes in 'schema\user.py'. Reloading...
2025-07-13 01:23:07,483 uvicorn.error INFO Shutting down
2025-07-13 01:23:07,591 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 01:23:07,592 uvicorn.error INFO Application shutdown complete.
2025-07-13 01:23:07,593 uvicorn.error INFO Finished server process [18096]
2025-07-13 01:23:08,811 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:23:08,812 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:23:08,813 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:08,813 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:23:08,813 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:08,814 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:23:08,814 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:08,815 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:23:08,872 watchfiles.main DEBUG 6 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc.1218501167840'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\user.py'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc.1218501167840'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc')}
2025-07-13 01:23:08,872 uvicorn.error WARNING WatchFiles detected changes in 'schema\user.py'. Reloading...
2025-07-13 01:23:09,146 uvicorn.error INFO Started server process [12636]
2025-07-13 01:23:09,146 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:23:09,148 uvicorn.error INFO Application startup complete.
2025-07-13 01:23:09,151 uvicorn.error ERROR Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 691, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-07-13 01:23:09,680 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\user.py')}
2025-07-13 01:23:09,680 uvicorn.error WARNING WatchFiles detected changes in 'schema\user.py'. Reloading...
2025-07-13 01:23:10,353 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:23:10,353 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:23:10,354 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:10,355 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:23:10,355 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:10,355 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:23:10,355 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:10,356 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:23:10,670 uvicorn.error INFO Started server process [30204]
2025-07-13 01:23:10,672 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:23:10,673 uvicorn.error INFO Application startup complete.
2025-07-13 01:23:10,678 uvicorn.error ERROR Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 691, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-07-13 01:23:11,210 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc.2918216649440'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc.2918216649440')}
2025-07-13 01:23:11,865 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:23:11,866 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:23:11,866 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:11,867 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:23:11,867 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:11,867 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:23:11,867 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:11,868 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:23:12,176 uvicorn.error INFO Started server process [17428]
2025-07-13 01:23:12,178 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:23:12,179 uvicorn.error INFO Application startup complete.
2025-07-13 01:23:19,491 uvicorn.error INFO Shutting down
2025-07-13 01:23:19,601 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 01:23:19,603 uvicorn.error INFO Application shutdown complete.
2025-07-13 01:23:19,604 uvicorn.error INFO Finished server process [17428]
2025-07-13 01:23:19,746 uvicorn.error INFO Stopping reloader process [10336]
2025-07-13 01:23:21,935 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:23:21,935 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:23:21,936 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:21,937 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:23:21,937 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:21,938 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:23:21,938 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:21,938 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:23:22,254 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-13 01:23:22,256 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-13 01:23:22,256 uvicorn.error INFO Started reloader process [18844] using WatchFiles
2025-07-13 01:23:23,277 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:23:23,278 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:23:23,278 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:23,278 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:23:23,279 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:23,280 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:23:23,280 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:23,281 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:23:23,594 uvicorn.error INFO Started server process [18540]
2025-07-13 01:23:23,595 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:23:23,597 uvicorn.error INFO Application startup complete.
2025-07-13 01:23:34,655 root ERROR Error getting db session : Mapper 'Mapper[Users(user)]' has no property 'session'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2025-07-13 01:23:34,657 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2522, in get_property
    return self._props[key]
           ~~~~~~~~~~~^^^^^
KeyError: 'session'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\user.py", line 18, in add_user
    db_user = models.Users(**user.model_dump())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1661, in do_init
    self._generate_backref()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2145, in _generate_backref
    self._add_reverse_property(self.back_populates)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1592, in _add_reverse_property
    other = self.mapper.get_property(key, _configure_mappers=False)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2524, in get_property
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Mapper 'Mapper[Users(user)]' has no property 'session'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2025-07-13 01:25:42,762 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-13 01:25:42,763 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-13 01:25:42,839 uvicorn.error INFO Shutting down
2025-07-13 01:25:42,947 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 01:25:42,948 uvicorn.error INFO Application shutdown complete.
2025-07-13 01:25:42,949 uvicorn.error INFO Finished server process [18540]
2025-07-13 01:25:43,937 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2261086001968'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2261086001968'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc')}
2025-07-13 01:25:44,171 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:25:44,171 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:25:44,171 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:25:44,172 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:25:44,172 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:25:44,173 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:25:44,173 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:25:44,174 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:25:44,478 uvicorn.error INFO Started server process [3012]
2025-07-13 01:25:44,480 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:25:44,481 uvicorn.error INFO Application startup complete.
2025-07-13 01:25:50,582 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:25:50,583 sqlalchemy.engine.Engine INFO INSERT INTO user (name, email) VALUES (?, ?)
2025-07-13 01:25:50,584 sqlalchemy.engine.Engine INFO [generated in 0.00037s] ('string', 'string')
2025-07-13 01:25:50,587 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:25:50,595 root ERROR Error getting db session : Session.refresh() missing 1 required positional argument: 'instance'
2025-07-13 01:25:50,597 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\user.py", line 21, in add_user
    db.refresh()
TypeError: Session.refresh() missing 1 required positional argument: 'instance'
2025-07-13 01:25:50,694 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 01:26:50,081 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\user.py')}
2025-07-13 01:26:50,082 uvicorn.error WARNING WatchFiles detected changes in 'routes\user.py'. Reloading...
2025-07-13 01:26:50,159 uvicorn.error INFO Shutting down
2025-07-13 01:26:50,270 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 01:26:50,271 uvicorn.error INFO Application shutdown complete.
2025-07-13 01:26:50,272 uvicorn.error INFO Finished server process [3012]
2025-07-13 01:26:51,528 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:26:51,528 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:26:51,529 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:26:51,531 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:26:51,531 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:26:51,531 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:26:51,531 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:26:51,532 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:26:51,576 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\user.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\user.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\user.cpython-312.pyc.2522031606208'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\user.cpython-312.pyc.2522031606208')}
2025-07-13 01:26:51,857 uvicorn.error INFO Started server process [23308]
2025-07-13 01:26:51,859 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:26:51,860 uvicorn.error INFO Application startup complete.
2025-07-13 01:26:55,003 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:26:55,005 sqlalchemy.engine.Engine INFO INSERT INTO user (name, email) VALUES (?, ?)
2025-07-13 01:26:55,005 sqlalchemy.engine.Engine INFO [generated in 0.00040s] ('string', 'string')
2025-07-13 01:26:55,006 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 01:26:55,006 root ERROR Error getting db session : (sqlite3.IntegrityError) UNIQUE constraint failed: user.email
[SQL: INSERT INTO user (name, email) VALUES (?, ?)]
[parameters: ('string', 'string')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 01:26:55,008 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: user.email

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\user.py", line 20, in add_user
    db.commit()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: user.email
[SQL: INSERT INTO user (name, email) VALUES (?, ?)]
[parameters: ('string', 'string')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 01:28:00,037 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:28:00,038 sqlalchemy.engine.Engine INFO INSERT INTO user (name, email) VALUES (?, ?)
2025-07-13 01:28:00,039 sqlalchemy.engine.Engine INFO [cached since 65.03s ago] ('string', 'rahu83@')
2025-07-13 01:28:00,042 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:28:00,051 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:28:00,053 sqlalchemy.engine.Engine INFO SELECT user.id, user.name, user.email 
FROM user 
WHERE user.id = ?
2025-07-13 01:28:00,053 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (2,)
2025-07-13 01:28:00,056 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 01:28:00,119 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 01:28:17,059 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:28:17,061 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user
2025-07-13 01:28:17,062 sqlalchemy.engine.Engine INFO [generated in 0.00056s] ()
2025-07-13 01:28:17,064 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 14:47:33,879 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 14:47:33,879 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 14:47:33,933 uvicorn.error INFO Shutting down
2025-07-13 14:47:34,042 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 14:47:34,044 uvicorn.error INFO Application shutdown complete.
2025-07-13 14:47:34,045 uvicorn.error INFO Finished server process [23308]
2025-07-13 14:47:34,623 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes')}
2025-07-13 14:47:40,463 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 14:47:40,463 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 14:47:40,464 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:40,464 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 14:47:40,464 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:40,465 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 14:47:40,465 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:40,466 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 14:47:41,175 uvicorn.error INFO Started server process [25852]
2025-07-13 14:47:41,176 uvicorn.error INFO Waiting for application startup.
2025-07-13 14:47:41,177 uvicorn.error INFO Application startup complete.
2025-07-13 14:47:43,050 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 14:47:43,050 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 14:47:43,136 uvicorn.error INFO Shutting down
2025-07-13 14:47:43,244 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 14:47:43,245 uvicorn.error INFO Application shutdown complete.
2025-07-13 14:47:43,246 uvicorn.error INFO Finished server process [25852]
2025-07-13 14:47:44,460 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 14:47:44,461 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 14:47:44,461 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:44,462 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 14:47:44,462 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:44,462 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 14:47:44,462 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:44,463 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 14:47:44,787 uvicorn.error INFO Started server process [32012]
2025-07-13 14:47:44,789 uvicorn.error INFO Waiting for application startup.
2025-07-13 14:47:44,791 uvicorn.error INFO Application startup complete.
2025-07-13 14:47:52,262 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 14:47:52,262 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 14:47:52,336 uvicorn.error INFO Shutting down
2025-07-13 14:47:52,444 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 14:47:52,447 uvicorn.error INFO Application shutdown complete.
2025-07-13 14:47:52,448 uvicorn.error INFO Finished server process [32012]
2025-07-13 14:47:52,995 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes')}
2025-07-13 14:47:53,767 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 14:47:53,768 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 14:47:53,768 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:53,769 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 14:47:53,769 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:53,769 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 14:47:53,770 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:53,771 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 14:47:54,107 uvicorn.error INFO Started server process [31884]
2025-07-13 14:47:54,108 uvicorn.error INFO Waiting for application startup.
2025-07-13 14:47:54,109 uvicorn.error INFO Application startup complete.
2025-07-13 14:59:58,581 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 14:59:58,581 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 14:59:58,648 uvicorn.error INFO Shutting down
2025-07-13 14:59:58,756 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 14:59:58,758 uvicorn.error INFO Application shutdown complete.
2025-07-13 14:59:58,759 uvicorn.error INFO Finished server process [31884]
2025-07-13 14:59:59,992 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 14:59:59,992 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 14:59:59,992 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:59:59,993 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 14:59:59,993 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:59:59,994 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 14:59:59,994 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:59:59,994 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:00:00,324 uvicorn.error INFO Started server process [31968]
2025-07-13 15:00:00,325 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:00:00,327 uvicorn.error INFO Application startup complete.
2025-07-13 15:00:12,198 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:00:12,198 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:00:12,224 uvicorn.error INFO Shutting down
2025-07-13 15:00:12,333 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:00:12,335 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:00:12,336 uvicorn.error INFO Finished server process [31968]
2025-07-13 15:00:13,543 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:00:13,544 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:00:13,544 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:00:13,546 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:00:13,546 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:00:13,546 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:00:13,546 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:00:13,547 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:00:13,905 uvicorn.error INFO Started server process [32100]
2025-07-13 15:00:13,906 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:00:13,908 uvicorn.error INFO Application startup complete.
2025-07-13 15:01:57,380 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 15:01:57,380 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 15:01:57,393 uvicorn.error INFO Shutting down
2025-07-13 15:01:57,503 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:01:57,505 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:01:57,506 uvicorn.error INFO Finished server process [32100]
2025-07-13 15:01:58,700 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:01:58,700 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:01:58,700 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:01:58,701 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:01:58,701 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:01:58,702 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:01:58,703 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:01:58,703 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:01:59,040 uvicorn.error INFO Started server process [20020]
2025-07-13 15:01:59,041 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:01:59,042 uvicorn.error INFO Application startup complete.
2025-07-13 15:02:55,636 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\main.py')}
2025-07-13 15:02:55,636 uvicorn.error WARNING WatchFiles detected changes in 'main.py'. Reloading...
2025-07-13 15:02:55,743 uvicorn.error INFO Shutting down
2025-07-13 15:02:55,851 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:02:55,853 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:02:55,854 uvicorn.error INFO Finished server process [20020]
2025-07-13 15:02:56,484 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__\\main.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__\\main.cpython-312.pyc.1768666339504'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__\\main.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__\\main.cpython-312.pyc.1768666339504')}
2025-07-13 15:02:57,074 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:02:57,075 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:02:57,075 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:02:57,076 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:02:57,076 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:02:57,076 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:02:57,077 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:02:57,078 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:02:57,153 watchfiles.main DEBUG 7 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.1768719469568'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.1768719469568'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1768719469424'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1768719469424'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__')}
2025-07-13 15:02:57,411 uvicorn.error INFO Started server process [12124]
2025-07-13 15:02:57,414 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:02:57,416 uvicorn.error INFO Application startup complete.
2025-07-13 15:08:42,805 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\chat.py')}
2025-07-13 15:08:42,805 uvicorn.error WARNING WatchFiles detected changes in 'schema\chat.py'. Reloading...
2025-07-13 15:08:42,881 uvicorn.error INFO Shutting down
2025-07-13 15:08:42,990 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:08:42,991 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:08:42,993 uvicorn.error INFO Finished server process [12124]
2025-07-13 15:08:43,557 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema')}
2025-07-13 15:08:44,429 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:08:44,430 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:08:44,430 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:08:44,431 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:08:44,431 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:08:44,432 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:08:44,432 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:08:44,432 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:08:44,849 uvicorn.error INFO Started server process [34076]
2025-07-13 15:08:44,851 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:08:44,851 uvicorn.error INFO Application startup complete.
2025-07-13 15:08:49,409 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-13 15:08:49,409 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-13 15:08:49,433 uvicorn.error INFO Shutting down
2025-07-13 15:08:49,543 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:08:49,544 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:08:49,545 uvicorn.error INFO Finished server process [34076]
2025-07-13 15:08:50,079 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema')}
2025-07-13 15:08:50,814 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:08:50,815 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:08:50,815 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:08:50,816 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:08:50,816 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:08:50,816 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:08:50,817 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:08:50,817 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:08:51,160 uvicorn.error INFO Started server process [5240]
2025-07-13 15:08:51,162 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:08:51,163 uvicorn.error INFO Application startup complete.
2025-07-13 15:21:33,457 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-13 15:21:33,457 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-13 15:21:33,541 uvicorn.error INFO Shutting down
2025-07-13 15:21:33,649 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:21:33,650 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:21:33,651 uvicorn.error INFO Finished server process [5240]
2025-07-13 15:21:34,973 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:21:34,973 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:21:34,973 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:21:34,975 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:21:34,975 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:21:34,976 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:21:34,976 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:21:34,976 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:21:35,297 uvicorn.error INFO Started server process [32924]
2025-07-13 15:21:35,300 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:21:35,301 uvicorn.error INFO Application startup complete.
2025-07-13 15:28:50,184 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-13 15:28:50,185 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-13 15:28:50,273 uvicorn.error INFO Shutting down
2025-07-13 15:28:50,383 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:28:50,384 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:28:50,385 uvicorn.error INFO Finished server process [32924]
2025-07-13 15:28:51,617 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:28:51,619 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:28:51,619 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:28:51,620 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:28:51,620 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:28:51,620 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:28:51,620 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:28:51,621 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:28:51,953 uvicorn.error INFO Started server process [31188]
2025-07-13 15:28:51,955 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:28:51,957 uvicorn.error INFO Application startup complete.
2025-07-13 15:29:02,071 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-13 15:29:02,071 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-13 15:29:02,102 uvicorn.error INFO Shutting down
2025-07-13 15:29:02,210 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:29:02,211 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:29:02,213 uvicorn.error INFO Finished server process [31188]
2025-07-13 15:29:03,436 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:29:03,436 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:29:03,436 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:29:03,437 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:29:03,437 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:29:03,437 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:29:03,437 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:29:03,437 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:29:03,771 uvicorn.error INFO Started server process [29476]
2025-07-13 15:29:03,772 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:29:03,774 uvicorn.error INFO Application startup complete.
2025-07-13 15:31:04,778 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\chat.py')}
2025-07-13 15:31:04,779 uvicorn.error WARNING WatchFiles detected changes in 'schema\chat.py'. Reloading...
2025-07-13 15:31:04,841 uvicorn.error INFO Shutting down
2025-07-13 15:31:04,950 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:31:04,952 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:31:04,953 uvicorn.error INFO Finished server process [29476]
2025-07-13 15:31:06,285 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:31:06,285 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:31:06,286 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:31:06,287 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:31:06,287 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:31:06,287 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:31:06,287 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:31:06,288 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:31:06,608 uvicorn.error INFO Started server process [30036]
2025-07-13 15:31:06,609 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:31:06,610 uvicorn.error INFO Application startup complete.
2025-07-13 15:33:32,251 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-13 15:33:32,252 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-13 15:33:32,337 uvicorn.error INFO Shutting down
2025-07-13 15:33:32,447 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:33:32,447 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:33:32,449 uvicorn.error INFO Finished server process [30036]
2025-07-13 15:33:33,389 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2187059288880'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2187059288880'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc')}
2025-07-13 15:33:33,639 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:33:33,639 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:33:33,640 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:33:33,641 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:33:33,641 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:33:33,642 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:33:33,642 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:33:33,642 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:33:33,953 uvicorn.error INFO Started server process [34720]
2025-07-13 15:33:33,954 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:33:33,955 uvicorn.error INFO Application startup complete.
2025-07-13 15:41:45,429 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:41:45,429 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:41:45,458 uvicorn.error INFO Shutting down
2025-07-13 15:41:45,567 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:41:45,568 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:41:45,568 uvicorn.error INFO Finished server process [34720]
2025-07-13 15:41:46,992 watchfiles.main DEBUG 9 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.1281639074816'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.1281639074672'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.1281639074816'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.1281639074672'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__')}
2025-07-13 15:50:37,731 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:50:37,731 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:50:44,807 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:50:44,807 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:50:45,995 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2103577955184'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2103577955184')}
2025-07-13 15:51:10,508 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:51:10,508 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:51:11,702 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2288924248944'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2288924248944')}
2025-07-13 15:51:27,473 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:51:27,474 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:51:28,607 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2030333873008'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2030333873008'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__')}
2025-07-13 15:51:40,872 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:51:40,872 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:51:42,103 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2045605923696'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2045605923696'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__')}
2025-07-13 15:51:51,772 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:51:51,772 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:51:52,910 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2270109649776'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2270109649776'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__')}
2025-07-13 16:00:16,058 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-13 16:00:16,058 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-13 16:00:16,902 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2801696135984'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2801696135984')}
2025-07-13 16:00:34,041 uvicorn.error INFO Stopping reloader process [18844]
2025-07-13 16:22:03,228 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:22:03,228 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:22:03,228 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:03,229 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("user")
2025-07-13 16:22:03,229 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:03,229 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:22:03,229 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:03,231 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("session")
2025-07-13 16:22:03,231 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:03,231 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:22:03,231 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:03,232 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("chat_history")
2025-07-13 16:22:03,232 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:03,232 sqlalchemy.engine.Engine INFO 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	email VARCHAR, 
	PRIMARY KEY (id)
)


2025-07-13 16:22:03,232 sqlalchemy.engine.Engine INFO [no key 0.00026s] ()
2025-07-13 16:22:03,247 sqlalchemy.engine.Engine INFO CREATE UNIQUE INDEX ix_user_email ON user (email)
2025-07-13 16:22:03,247 sqlalchemy.engine.Engine INFO [no key 0.00056s] ()
2025-07-13 16:22:03,258 sqlalchemy.engine.Engine INFO CREATE INDEX ix_user_id ON user (id)
2025-07-13 16:22:03,259 sqlalchemy.engine.Engine INFO [no key 0.00043s] ()
2025-07-13 16:22:03,268 sqlalchemy.engine.Engine INFO 
CREATE TABLE session (
	id INTEGER NOT NULL, 
	session_name VARCHAR, 
	session_type VARCHAR, 
	model_name VARCHAR, 
	temperature FLOAT, 
	user_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-13 16:22:03,268 sqlalchemy.engine.Engine INFO [no key 0.00060s] ()
2025-07-13 16:22:03,278 sqlalchemy.engine.Engine INFO CREATE INDEX ix_session_id ON session (id)
2025-07-13 16:22:03,279 sqlalchemy.engine.Engine INFO [no key 0.00045s] ()
2025-07-13 16:22:03,288 sqlalchemy.engine.Engine INFO 
CREATE TABLE chat_history (
	id INTEGER NOT NULL, 
	message VARCHAR, 
	message_type VARCHAR, 
	session_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(session_id) REFERENCES session (id)
)


2025-07-13 16:22:03,289 sqlalchemy.engine.Engine INFO [no key 0.00054s] ()
2025-07-13 16:22:03,298 sqlalchemy.engine.Engine INFO CREATE INDEX ix_chat_history_id ON chat_history (id)
2025-07-13 16:22:03,298 sqlalchemy.engine.Engine INFO [no key 0.00042s] ()
2025-07-13 16:22:03,308 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:22:03,611 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-13 16:22:03,613 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-13 16:22:03,614 uvicorn.error INFO Started reloader process [33892] using WatchFiles
2025-07-13 16:22:04,673 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:22:04,674 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:22:04,674 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:04,675 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:22:04,675 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:04,675 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:22:04,677 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:04,677 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:22:05,017 uvicorn.error INFO Started server process [33632]
2025-07-13 16:22:05,019 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:22:05,019 uvicorn.error INFO Application startup complete.
2025-07-13 16:23:42,267 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 16:23:42,268 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 16:23:42,362 uvicorn.error INFO Shutting down
2025-07-13 16:23:42,471 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:23:42,472 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:23:42,473 uvicorn.error INFO Finished server process [33632]
2025-07-13 16:23:43,664 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:23:43,665 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:23:43,665 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:23:43,665 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:23:43,666 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:23:43,666 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:23:43,666 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:23:43,666 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:23:43,760 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2144949783552'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2144949783552'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-13 16:23:44,020 uvicorn.error INFO Started server process [31068]
2025-07-13 16:23:44,021 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:23:44,022 uvicorn.error INFO Application startup complete.
2025-07-13 16:24:04,807 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 16:24:04,807 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 16:24:04,848 uvicorn.error INFO Shutting down
2025-07-13 16:24:04,958 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:24:04,960 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:24:04,961 uvicorn.error INFO Finished server process [31068]
2025-07-13 16:24:06,222 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:24:06,222 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:24:06,222 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:24:06,223 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:24:06,223 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:24:06,224 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:24:06,224 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:24:06,225 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:24:06,284 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2472173390848'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2472173390848'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-13 16:24:06,559 uvicorn.error INFO Started server process [30104]
2025-07-13 16:24:06,562 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:24:06,563 uvicorn.error INFO Application startup complete.
2025-07-13 16:25:15,758 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:25:15,759 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 16:25:15,760 sqlalchemy.engine.Engine INFO [generated in 0.00054s] ('test session', 'chat', 'gemma', 0.1, 1)
2025-07-13 16:25:15,764 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:25:15,774 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:25:15,777 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 16:25:15,778 sqlalchemy.engine.Engine INFO [generated in 0.00082s] (1,)
2025-07-13 16:25:15,780 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:25:15,780 sqlalchemy.engine.Engine INFO [generated in 0.00045s] (1,)
2025-07-13 16:25:15,782 root ERROR Error getting db session : 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-07-13 16:25:15,782 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:25:15,862 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:25:15,784 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 177, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-07-13 16:26:02,322 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 16:26:02,322 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 16:26:02,375 uvicorn.error INFO Shutting down
2025-07-13 16:26:02,485 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:26:02,486 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:26:02,487 uvicorn.error INFO Finished server process [30104]
2025-07-13 16:26:03,724 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:03,725 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:26:03,726 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:26:03,726 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:26:03,727 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:26:03,727 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:26:03,727 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:26:03,728 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:26:03,776 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2847182965760'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2847182965760'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-13 16:26:04,056 uvicorn.error INFO Started server process [368]
2025-07-13 16:26:04,058 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:26:04,059 uvicorn.error INFO Application startup complete.
2025-07-13 16:26:05,682 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:05,683 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 16:26:05,684 sqlalchemy.engine.Engine INFO [generated in 0.00050s] ('test session', 'chat', 'gemma', 0.1, 1)
2025-07-13 16:26:05,687 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:26:05,697 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:05,700 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 16:26:05,700 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (2,)
2025-07-13 16:26:05,702 root ERROR Error getting db session : 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'id'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'user_id'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'temperature'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'session_name'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'session_type'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'model_name'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'owner'), 'msg': 'Field required', 'input': {}}

2025-07-13 16:26:05,702 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:26:05,703 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 177, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'id'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'user_id'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'temperature'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'session_name'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'session_type'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'model_name'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'owner'), 'msg': 'Field required', 'input': {}}

2025-07-13 16:26:05,792 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:26:20,803 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 16:26:20,803 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 16:26:20,886 uvicorn.error INFO Shutting down
2025-07-13 16:26:20,994 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:26:20,994 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:26:20,996 uvicorn.error INFO Finished server process [368]
2025-07-13 16:26:22,229 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:22,230 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:26:22,231 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:26:22,231 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:26:22,232 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:26:22,233 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:26:22,233 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:26:22,234 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:26:22,316 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2663914359808'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2663914359808'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-13 16:26:22,553 uvicorn.error INFO Started server process [13072]
2025-07-13 16:26:22,555 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:26:22,557 uvicorn.error INFO Application startup complete.
2025-07-13 16:26:24,042 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:24,043 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 16:26:24,044 sqlalchemy.engine.Engine INFO [generated in 0.00038s] ('test session', 'chat', 'gemma', 0.1, 1)
2025-07-13 16:26:24,048 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:26:24,056 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:24,058 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 16:26:24,059 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (3,)
2025-07-13 16:26:24,060 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:26:24,130 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:26:35,904 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:35,906 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-13 16:26:35,906 sqlalchemy.engine.Engine INFO [generated in 0.00062s] ()
2025-07-13 16:26:35,908 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:26:35,910 sqlalchemy.engine.Engine INFO [generated in 0.00054s] (1,)
2025-07-13 16:26:35,912 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:26:35,913 sqlalchemy.engine.Engine INFO [cached since 0.003778s ago] (1,)
2025-07-13 16:26:35,914 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:26:35,915 sqlalchemy.engine.Engine INFO [cached since 0.005442s ago] (1,)
2025-07-13 16:26:35,916 root ERROR Error getting db session : 3 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 0, 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
  {'type': 'model_attributes_type', 'loc': ('response', 1, 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
  {'type': 'model_attributes_type', 'loc': ('response', 2, 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-07-13 16:26:35,916 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:26:35,918 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 177, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 3 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 0, 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
  {'type': 'model_attributes_type', 'loc': ('response', 1, 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
  {'type': 'model_attributes_type', 'loc': ('response', 2, 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-07-13 16:28:42,024 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-13 16:28:42,024 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-13 16:28:42,047 uvicorn.error INFO Shutting down
2025-07-13 16:28:42,153 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:28:42,156 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:28:42,156 uvicorn.error INFO Finished server process [13072]
2025-07-13 16:28:43,425 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:28:43,426 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:28:43,426 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:28:43,427 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:28:43,428 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:28:43,428 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:28:43,428 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:28:43,429 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:28:43,512 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.2991203503392'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.2991203503392'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc')}
2025-07-13 16:28:43,758 uvicorn.error INFO Started server process [7524]
2025-07-13 16:28:43,760 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:28:43,761 uvicorn.error INFO Application startup complete.
2025-07-13 16:28:48,555 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:28:48,557 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-13 16:28:48,557 sqlalchemy.engine.Engine INFO [generated in 0.00035s] ()
2025-07-13 16:28:48,560 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:28:48,560 sqlalchemy.engine.Engine INFO [generated in 0.00045s] (1,)
2025-07-13 16:28:48,562 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:28:48,563 sqlalchemy.engine.Engine INFO [cached since 0.002206s ago] (1,)
2025-07-13 16:28:48,564 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:28:48,564 sqlalchemy.engine.Engine INFO [cached since 0.003287s ago] (1,)
2025-07-13 16:28:48,565 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:29:13,313 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:13,314 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 16:29:13,315 sqlalchemy.engine.Engine INFO [generated in 0.00052s] ('test session', 'chat', 'gemma', 0.1, 1)
2025-07-13 16:29:13,319 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:29:13,330 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:13,331 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 16:29:13,331 sqlalchemy.engine.Engine INFO [generated in 0.00038s] (4,)
2025-07-13 16:29:13,332 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:29:13,390 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:29:15,372 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:15,374 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 16:29:15,374 sqlalchemy.engine.Engine INFO [cached since 2.06s ago] ('test session', 'chat', 'gemma', 0.1, 1)
2025-07-13 16:29:15,377 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:29:15,420 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:15,421 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 16:29:15,421 sqlalchemy.engine.Engine INFO [cached since 2.09s ago] (5,)
2025-07-13 16:29:15,422 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:29:15,510 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:29:27,822 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 16:29:27,822 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 16:29:27,933 uvicorn.error INFO Shutting down
2025-07-13 16:29:28,041 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:29:28,043 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:29:28,044 uvicorn.error INFO Finished server process [7524]
2025-07-13 16:29:29,324 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:29,325 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:29:29,325 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:29:29,325 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:29:29,325 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:29:29,326 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:29:29,326 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:29:29,326 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:29:29,401 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2419239832576'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2419239832576')}
2025-07-13 16:29:29,656 uvicorn.error INFO Started server process [10032]
2025-07-13 16:29:29,658 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:29:29,659 uvicorn.error INFO Application startup complete.
2025-07-13 16:29:30,275 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:30,277 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 16:29:30,277 sqlalchemy.engine.Engine INFO [generated in 0.00035s] ('test session', 'chat', 'gemma', 0.1, 1)
2025-07-13 16:29:30,284 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:29:30,321 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:30,323 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 16:29:30,324 sqlalchemy.engine.Engine INFO [generated in 0.00045s] (6,)
2025-07-13 16:29:30,326 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:29:30,326 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (1,)
2025-07-13 16:29:30,327 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:29:30,371 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:31:12,955 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:31:12,956 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user
2025-07-13 16:31:12,957 sqlalchemy.engine.Engine INFO [generated in 0.00059s] ()
2025-07-13 16:31:12,958 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:31:33,891 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:31:33,892 sqlalchemy.engine.Engine INFO INSERT INTO user (name, email) VALUES (?, ?)
2025-07-13 16:31:33,892 sqlalchemy.engine.Engine INFO [generated in 0.00040s] ('rahul', 'rahu@')
2025-07-13 16:31:33,896 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:31:33,906 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:31:33,907 sqlalchemy.engine.Engine INFO SELECT user.id, user.name, user.email 
FROM user 
WHERE user.id = ?
2025-07-13 16:31:33,907 sqlalchemy.engine.Engine INFO [generated in 0.00040s] (1,)
2025-07-13 16:31:33,908 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:31:33,970 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:31:37,833 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:31:37,834 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user
2025-07-13 16:31:37,834 sqlalchemy.engine.Engine INFO [cached since 24.88s ago] ()
2025-07-13 16:31:37,835 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:31:58,564 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\user.py')}
2025-07-13 16:31:58,564 uvicorn.error WARNING WatchFiles detected changes in 'schema\user.py'. Reloading...
2025-07-13 16:31:58,589 uvicorn.error INFO Shutting down
2025-07-13 16:31:58,698 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:31:58,699 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:31:58,700 uvicorn.error INFO Finished server process [10032]
2025-07-13 16:32:00,008 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:32:00,009 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:32:00,010 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:32:00,011 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:32:00,012 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:32:00,013 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:32:00,014 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:32:00,015 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:32:00,056 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc.2142179838688'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc.2142179838688')}
2025-07-13 16:32:00,374 uvicorn.error INFO Started server process [8156]
2025-07-13 16:32:00,375 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:32:00,378 uvicorn.error INFO Application startup complete.
2025-07-13 16:32:00,564 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:32:00,566 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user
2025-07-13 16:32:00,567 sqlalchemy.engine.Engine INFO [generated in 0.00057s] ()
2025-07-13 16:32:00,569 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:32:05,851 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:32:05,853 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-13 16:32:05,853 sqlalchemy.engine.Engine INFO [generated in 0.00040s] ()
2025-07-13 16:32:05,856 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:32:05,856 sqlalchemy.engine.Engine INFO [generated in 0.00045s] (1,)
2025-07-13 16:32:05,859 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:36:03,849 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 16:36:03,849 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 16:36:03,951 uvicorn.error INFO Shutting down
2025-07-13 16:36:04,061 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:36:04,063 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:36:04,064 uvicorn.error INFO Finished server process [8156]
2025-07-13 16:36:05,301 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:36:05,302 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:36:05,302 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:36:05,302 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:36:05,303 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:36:05,303 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:36:05,303 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:36:05,305 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:36:05,365 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1452005411696'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1452005411696'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 16:36:05,638 uvicorn.error INFO Started server process [33476]
2025-07-13 16:36:05,639 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:36:05,640 uvicorn.error INFO Application startup complete.
2025-07-13 16:44:02,959 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 16:44:02,960 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 16:44:03,003 uvicorn.error INFO Shutting down
2025-07-13 16:44:03,114 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:44:03,116 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:44:03,116 uvicorn.error INFO Finished server process [33476]
2025-07-13 16:44:08,819 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:44:08,820 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:44:08,820 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:44:08,821 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:44:08,821 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:44:08,823 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:44:08,823 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:44:08,824 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:44:08,990 watchfiles.main DEBUG 9 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\chat.cpython-312.pyc.2795458808832'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\chat.cpython-312.pyc.2795458808832'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2795458808688'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\chat.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2795458808688'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 16:44:09,463 uvicorn.error INFO Started server process [22488]
2025-07-13 16:44:09,464 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:44:09,465 uvicorn.error INFO Application startup complete.
2025-07-13 16:44:24,570 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 16:44:24,570 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 16:44:24,649 uvicorn.error INFO Shutting down
2025-07-13 16:44:24,759 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:44:24,760 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:44:24,760 uvicorn.error INFO Finished server process [22488]
2025-07-13 16:44:25,953 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:44:25,954 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:44:25,954 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:44:25,955 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:44:25,955 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:44:25,956 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:44:25,956 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:44:25,957 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:44:26,004 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2363472759664'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2363472759664'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 16:44:26,283 uvicorn.error INFO Started server process [4448]
2025-07-13 16:44:26,285 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:44:26,286 uvicorn.error INFO Application startup complete.
2025-07-13 16:49:50,426 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 16:49:50,426 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 16:49:50,471 uvicorn.error INFO Shutting down
2025-07-13 16:49:50,580 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:49:50,582 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:49:50,582 uvicorn.error INFO Finished server process [4448]
2025-07-13 16:49:51,843 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:49:51,844 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:49:51,844 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:49:51,845 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:49:51,845 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:49:51,845 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:49:51,846 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:49:51,846 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:49:51,935 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1833480571760'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1833480571760'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 16:49:52,169 uvicorn.error INFO Started server process [9968]
2025-07-13 16:49:52,170 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:49:52,171 uvicorn.error INFO Application startup complete.
2025-07-13 16:59:45,270 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 16:59:45,270 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 16:59:45,343 uvicorn.error INFO Shutting down
2025-07-13 16:59:45,452 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:59:45,453 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:59:45,454 uvicorn.error INFO Finished server process [9968]
2025-07-13 16:59:46,823 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2614726511472'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2614726511472'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 16:59:47,062 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:59:47,063 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:59:47,064 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:59:47,064 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:59:47,065 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:59:47,065 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:59:47,065 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:59:47,065 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:59:47,342 uvicorn.error INFO Started server process [32244]
2025-07-13 16:59:47,344 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:59:47,345 uvicorn.error INFO Application startup complete.
2025-07-13 19:59:37,392 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 19:59:37,392 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 19:59:37,454 uvicorn.error INFO Shutting down
2025-07-13 19:59:37,562 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 19:59:37,564 uvicorn.error INFO Application shutdown complete.
2025-07-13 19:59:37,565 uvicorn.error INFO Finished server process [32244]
2025-07-13 19:59:38,933 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2931396201328'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2931396201328'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 19:59:39,186 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 19:59:39,187 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 19:59:39,187 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 19:59:39,188 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 19:59:39,188 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 19:59:39,188 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 19:59:39,188 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 19:59:39,189 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 19:59:39,485 uvicorn.error INFO Started server process [33972]
2025-07-13 19:59:39,486 uvicorn.error INFO Waiting for application startup.
2025-07-13 19:59:39,488 uvicorn.error INFO Application startup complete.
2025-07-13 20:00:19,348 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:00:19,348 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:00:19,442 uvicorn.error INFO Shutting down
2025-07-13 20:00:19,550 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:00:19,552 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:00:19,552 uvicorn.error INFO Finished server process [33972]
2025-07-13 20:00:20,891 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2121356168048'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2121356168048'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:00:21,221 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:00:21,221 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:00:21,222 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:00:21,222 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:00:21,222 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:00:21,224 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:00:21,224 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:00:21,225 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:00:21,571 uvicorn.error INFO Started server process [13500]
2025-07-13 20:00:21,573 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:00:21,576 uvicorn.error INFO Application startup complete.
2025-07-13 20:02:36,071 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:02:36,071 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:02:36,149 uvicorn.error INFO Shutting down
2025-07-13 20:02:36,258 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:02:36,259 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:02:36,260 uvicorn.error INFO Finished server process [13500]
2025-07-13 20:02:37,679 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1701250878320'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1701250878320'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:02:37,929 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:02:37,929 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:02:37,930 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:02:37,930 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:02:37,931 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:02:37,931 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:02:37,931 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:02:37,933 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:02:38,230 uvicorn.error INFO Started server process [1616]
2025-07-13 20:02:38,231 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:02:38,233 uvicorn.error INFO Application startup complete.
2025-07-13 20:03:03,993 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:03:03,996 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 20:03:03,996 sqlalchemy.engine.Engine INFO [generated in 0.00041s] ('string', 'string', 1)
2025-07-13 20:03:04,000 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:03:04,010 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:03:04,013 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 20:03:04,013 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (1,)
2025-07-13 20:03:04,014 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 20:03:04,062 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 20:03:04,273 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000018C1A8EA390>
2025-07-13 20:03:04,273 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:03:04,273 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 20:03:04,273 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 20:03:04,273 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 20:03:04,274 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:03:04,290 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Sun, 13 Jul 2025 14:33:04 GMT'), (b'Content-Length', b'29')])
2025-07-13 20:03:04,290 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 400 Bad Request"
2025-07-13 20:03:04,291 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 20:03:04,291 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 20:03:04,291 httpcore.http11 DEBUG response_closed.started
2025-07-13 20:03:04,291 httpcore.http11 DEBUG response_closed.complete
2025-07-13 20:03:04,294 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 20:03:04,294 sqlalchemy.engine.Engine INFO [generated in 0.00055s] (1,)
2025-07-13 20:03:04,296 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 20:04:01,313 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:04:01,313 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:04:01,407 uvicorn.error INFO Shutting down
2025-07-13 20:04:01,515 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:04:01,517 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:04:01,518 uvicorn.error INFO Finished server process [1616]
2025-07-13 20:04:02,872 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2251127606128'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2251127606128'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:04:03,153 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:04:03,154 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:04:03,154 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:04:03,156 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:04:03,156 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:04:03,157 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:04:03,157 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:04:03,158 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:04:03,448 uvicorn.error INFO Started server process [8040]
2025-07-13 20:04:03,451 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:04:03,452 uvicorn.error INFO Application startup complete.
2025-07-13 20:04:12,061 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:04:12,063 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 20:04:12,063 sqlalchemy.engine.Engine INFO [generated in 0.00055s] ('string', 'string', 1)
2025-07-13 20:04:12,067 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:04:12,077 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:04:12,080 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 20:04:12,080 sqlalchemy.engine.Engine INFO [generated in 0.00055s] (2,)
2025-07-13 20:04:12,082 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 20:04:12,141 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 20:04:12,346 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020C21C48AD0>
2025-07-13 20:04:12,347 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:04:12,347 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 20:04:12,347 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 20:04:12,347 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 20:04:12,347 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:04:17,355 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-07-13 20:04:17,355 httpcore.http11 DEBUG response_closed.started
2025-07-13 20:04:17,356 httpcore.http11 DEBUG response_closed.complete
2025-07-13 20:04:17,356 root ERROR Error getting db session : 
2025-07-13 20:04:17,356 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 20:04:17,358 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 32, in chats
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1583, in stream
    response = await self.send(
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout
2025-07-13 20:05:03,900 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:05:03,900 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:05:03,976 uvicorn.error INFO Shutting down
2025-07-13 20:05:04,086 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:05:04,086 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:05:04,088 uvicorn.error INFO Finished server process [8040]
2025-07-13 20:05:05,390 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2456780295024'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2456780295024'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:05:05,670 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:05:05,671 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:05:05,671 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:05:05,672 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:05:05,672 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:05:05,673 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:05:05,673 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:05:05,673 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:05:06,006 uvicorn.error INFO Started server process [1792]
2025-07-13 20:05:06,008 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:05:06,009 uvicorn.error INFO Application startup complete.
2025-07-13 20:05:07,492 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:05:07,494 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 20:05:07,494 sqlalchemy.engine.Engine INFO [generated in 0.00046s] ('string', 'string', 1)
2025-07-13 20:05:07,497 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:05:07,506 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:05:07,508 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 20:05:07,509 sqlalchemy.engine.Engine INFO [generated in 0.00037s] (3,)
2025-07-13 20:05:07,511 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 20:05:07,604 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 20:05:07,776 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023C039E8AA0>
2025-07-13 20:05:07,777 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:05:07,777 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 20:05:07,777 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 20:05:07,777 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 20:05:07,777 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:05:12,791 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-07-13 20:05:12,792 httpcore.http11 DEBUG response_closed.started
2025-07-13 20:05:12,792 httpcore.http11 DEBUG response_closed.complete
2025-07-13 20:05:12,792 root ERROR Error getting db session : 
2025-07-13 20:05:12,792 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 20:05:12,793 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 32, in chats
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1583, in stream
    response = await self.send(
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout
2025-07-13 20:09:52,341 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:09:52,341 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:09:52,396 uvicorn.error INFO Shutting down
2025-07-13 20:09:52,505 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:09:52,507 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:09:52,508 uvicorn.error INFO Finished server process [1792]
2025-07-13 20:09:54,045 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.3109589830512'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.3109589830512'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:09:54,334 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:09:54,334 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:09:54,334 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:09:54,335 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:09:54,335 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:09:54,336 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:09:54,336 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:09:54,337 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:09:54,627 uvicorn.error INFO Started server process [22180]
2025-07-13 20:09:54,629 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:09:54,630 uvicorn.error INFO Application startup complete.
2025-07-13 20:10:00,938 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:10:00,940 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 20:10:00,940 sqlalchemy.engine.Engine INFO [generated in 0.00046s] ('string', 'string', 1)
2025-07-13 20:10:00,941 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:10:00,952 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:10:00,956 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 20:10:00,956 sqlalchemy.engine.Engine INFO [generated in 0.00044s] (4,)
2025-07-13 20:10:00,957 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 20:10:01,004 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 20:10:01,219 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002D4021A8A70>
2025-07-13 20:10:01,219 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:10:01,220 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 20:10:01,220 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 20:10:01,220 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 20:10:01,220 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:10:01,438 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 14:40:01 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 20:10:01,438 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 20:10:01,439 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 20:10:12,682 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 20:10:12,682 httpcore.http11 DEBUG response_closed.started
2025-07-13 20:10:12,682 httpcore.http11 DEBUG response_closed.complete
2025-07-13 20:10:12,686 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 20:10:12,687 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (1,)
2025-07-13 20:10:12,689 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 20:12:55,233 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:12:55,233 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:12:55,338 uvicorn.error INFO Shutting down
2025-07-13 20:12:55,447 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:12:55,449 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:12:55,450 uvicorn.error INFO Finished server process [22180]
2025-07-13 20:12:56,800 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2408267139952'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2408267139952'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:12:57,063 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:12:57,063 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:12:57,064 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:12:57,064 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:12:57,064 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:12:57,065 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:12:57,065 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:12:57,066 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:12:57,344 uvicorn.error INFO Started server process [29712]
2025-07-13 20:12:57,345 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:12:57,347 uvicorn.error INFO Application startup complete.
2025-07-13 20:13:21,509 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:13:21,510 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:13:21,572 uvicorn.error INFO Shutting down
2025-07-13 20:13:21,681 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:13:21,683 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:13:21,684 uvicorn.error INFO Finished server process [29712]
2025-07-13 20:13:23,021 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1861257874288'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1861257874288'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:13:23,252 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:13:23,253 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:13:23,253 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:13:23,254 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:13:23,254 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:13:23,254 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:13:23,254 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:13:23,255 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:13:23,549 uvicorn.error INFO Started server process [32212]
2025-07-13 20:13:23,551 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:13:23,552 uvicorn.error INFO Application startup complete.
2025-07-13 21:44:24,700 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 21:44:24,700 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 21:44:24,737 uvicorn.error INFO Shutting down
2025-07-13 21:44:24,844 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 21:44:24,845 uvicorn.error INFO Application shutdown complete.
2025-07-13 21:44:24,847 uvicorn.error INFO Finished server process [32212]
2025-07-13 21:44:26,238 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2062080559984'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2062080559984'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 21:44:26,471 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:44:26,471 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 21:44:26,471 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:44:26,473 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 21:44:26,473 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:44:26,473 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 21:44:26,473 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:44:26,473 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:44:26,754 uvicorn.error INFO Started server process [21148]
2025-07-13 21:44:26,756 uvicorn.error INFO Waiting for application startup.
2025-07-13 21:44:26,758 uvicorn.error INFO Application startup complete.
2025-07-13 21:44:40,655 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:44:40,656 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:44:40,657 sqlalchemy.engine.Engine INFO [generated in 0.00034s] ('string', 'string', 1)
2025-07-13 21:44:40,661 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:44:40,669 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:44:40,672 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:44:40,672 sqlalchemy.engine.Engine INFO [generated in 0.00038s] (5,)
2025-07-13 21:44:40,673 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:44:40,675 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:44:40,761 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:44:40,936 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E01DAE8A40>
2025-07-13 21:44:40,936 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:44:40,937 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:44:40,937 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:44:40,937 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:44:40,938 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:44:45,952 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-07-13 21:44:45,952 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:44:45,953 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:44:45,984 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 47, in call_ollama_api
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1583, in stream
    response = await self.send(
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout
2025-07-13 21:44:55,755 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:44:55,756 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:44:55,756 sqlalchemy.engine.Engine INFO [cached since 15.1s ago] ('string', 'string', 1)
2025-07-13 21:44:55,760 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:44:55,768 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:44:55,770 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:44:55,770 sqlalchemy.engine.Engine INFO [cached since 15.1s ago] (6,)
2025-07-13 21:44:55,771 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:44:55,773 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:44:55,866 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:44:56,033 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E01DA53620>
2025-07-13 21:44:56,033 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:44:56,033 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:44:56,033 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:44:56,033 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:44:56,033 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:45:01,036 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-07-13 21:45:01,037 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:45:01,038 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:45:01,038 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 47, in call_ollama_api
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1583, in stream
    response = await self.send(
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout
2025-07-13 21:45:18,082 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\config_vars.py')}
2025-07-13 21:45:18,082 uvicorn.error WARNING WatchFiles detected changes in 'utils\config_vars.py'. Reloading...
2025-07-13 21:45:18,189 uvicorn.error INFO Shutting down
2025-07-13 21:45:18,299 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 21:45:18,301 uvicorn.error INFO Application shutdown complete.
2025-07-13 21:45:18,302 uvicorn.error INFO Finished server process [21148]
2025-07-13 21:45:19,321 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc.2448224836112'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc.2448224836112'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc')}
2025-07-13 21:45:19,906 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:45:19,907 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 21:45:19,907 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:45:19,908 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 21:45:19,908 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:45:19,908 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 21:45:19,908 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:45:19,909 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:45:20,203 uvicorn.error INFO Started server process [17884]
2025-07-13 21:45:20,205 uvicorn.error INFO Waiting for application startup.
2025-07-13 21:45:20,206 uvicorn.error INFO Application startup complete.
2025-07-13 21:45:21,659 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:45:21,662 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:45:21,662 sqlalchemy.engine.Engine INFO [generated in 0.00043s] ('string', 'string', 1)
2025-07-13 21:45:21,665 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:45:21,674 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:45:21,676 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:45:21,678 sqlalchemy.engine.Engine INFO [generated in 0.00057s] (7,)
2025-07-13 21:45:21,678 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:45:21,681 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:45:21,738 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:45:21,961 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023A086E8470>
2025-07-13 21:45:21,962 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:45:21,962 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:45:21,962 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:45:21,962 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:45:21,962 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:45:31,181 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:15:31 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:45:31,181 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:45:31,182 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:45:47,315 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:45:47,315 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:45:47,315 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:50:19,876 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:50:19,876 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:50:19,876 sqlalchemy.engine.Engine INFO [cached since 298.2s ago] ('string', 'string', 1)
2025-07-13 21:50:19,880 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:50:19,889 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:50:19,889 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:50:19,890 sqlalchemy.engine.Engine INFO [cached since 298.2s ago] (8,)
2025-07-13 21:50:19,891 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:50:19,893 httpcore.connection DEBUG close.started
2025-07-13 21:50:19,894 httpcore.connection DEBUG close.complete
2025-07-13 21:50:19,894 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:50:19,976 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:50:20,152 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023A08653230>
2025-07-13 21:50:20,155 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:50:20,155 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:50:20,156 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:50:20,156 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:50:20,157 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:50:20,389 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:20:20 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:50:20,390 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:50:20,390 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:50:23,646 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:50:23,646 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:50:23,646 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:50:28,022 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:50:28,023 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:50:28,023 sqlalchemy.engine.Engine INFO [cached since 306.4s ago] ('string', 'string', 1)
2025-07-13 21:50:28,026 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:50:28,036 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:50:28,036 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:50:28,036 sqlalchemy.engine.Engine INFO [cached since 306.4s ago] (9,)
2025-07-13 21:50:28,038 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:50:28,040 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:50:28,041 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:50:28,041 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:50:28,041 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:50:28,041 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:50:28,113 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:50:28,237 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:20:28 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:50:28,237 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:50:28,237 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:50:32,508 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:50:32,508 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:50:32,508 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:52:18,640 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:52:18,640 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:52:18,640 sqlalchemy.engine.Engine INFO [cached since 417s ago] ('string', 'string', 1)
2025-07-13 21:52:18,643 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:52:18,654 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:52:18,654 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:52:18,655 sqlalchemy.engine.Engine INFO [cached since 417s ago] (10,)
2025-07-13 21:52:18,655 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:52:18,660 httpcore.connection DEBUG close.started
2025-07-13 21:52:18,660 httpcore.connection DEBUG close.complete
2025-07-13 21:52:18,661 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:52:18,735 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:52:18,908 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023A087155B0>
2025-07-13 21:52:18,909 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:52:18,909 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:52:18,909 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:52:18,909 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:52:18,909 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:52:19,131 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:22:19 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:52:19,131 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:52:19,132 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:52:25,454 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:52:25,454 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:52:25,454 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:57:20,266 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:57:20,266 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:57:20,267 sqlalchemy.engine.Engine INFO [cached since 718.6s ago] ('string', 'string', 1)
2025-07-13 21:57:20,271 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:57:20,281 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:57:20,282 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:57:20,282 sqlalchemy.engine.Engine INFO [cached since 718.6s ago] (11,)
2025-07-13 21:57:20,283 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:57:20,286 httpcore.connection DEBUG close.started
2025-07-13 21:57:20,287 httpcore.connection DEBUG close.complete
2025-07-13 21:57:20,287 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:57:20,351 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:57:20,532 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023A086EB2F0>
2025-07-13 21:57:20,532 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:57:20,532 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:57:20,533 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:57:20,533 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:57:20,533 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:57:20,752 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:27:20 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:57:20,752 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:57:20,753 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:57:25,399 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:57:25,399 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:57:25,399 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:58:04,649 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 21:58:04,649 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 21:58:04,695 uvicorn.error INFO Shutting down
2025-07-13 21:58:04,804 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 21:58:04,805 uvicorn.error INFO Application shutdown complete.
2025-07-13 21:58:04,805 uvicorn.error INFO Finished server process [17884]
2025-07-13 21:58:06,229 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2660678650736'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2660678650736'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 21:58:06,524 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:58:06,524 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 21:58:06,525 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:58:06,525 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 21:58:06,526 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:58:06,526 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 21:58:06,526 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:58:06,527 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:58:06,810 uvicorn.error INFO Started server process [33472]
2025-07-13 21:58:06,812 uvicorn.error INFO Waiting for application startup.
2025-07-13 21:58:06,814 uvicorn.error INFO Application startup complete.
2025-07-13 21:58:11,444 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:58:11,446 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:58:11,446 sqlalchemy.engine.Engine INFO [generated in 0.00038s] ('string', 'string', 1)
2025-07-13 21:58:11,448 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:58:11,459 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:58:11,460 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:58:11,461 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (12,)
2025-07-13 21:58:11,461 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:58:11,463 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:58:11,523 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:58:11,727 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000026B7CE984A0>
2025-07-13 21:58:11,727 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:58:11,728 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:58:11,728 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:58:11,728 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:58:11,728 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:58:11,952 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:28:11 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:58:11,953 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:58:11,953 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:58:16,267 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:58:16,267 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:58:16,268 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:58:48,417 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 21:58:48,417 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 21:58:48,517 uvicorn.error INFO Shutting down
2025-07-13 21:58:48,627 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 21:58:48,628 uvicorn.error INFO Application shutdown complete.
2025-07-13 21:58:48,629 uvicorn.error INFO Finished server process [33472]
2025-07-13 21:58:49,963 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2717660760944'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2717660760944'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 21:58:50,236 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:58:50,237 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 21:58:50,237 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:58:50,238 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 21:58:50,238 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:58:50,239 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 21:58:50,239 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:58:50,239 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:58:50,530 uvicorn.error INFO Started server process [31540]
2025-07-13 21:58:50,531 uvicorn.error INFO Waiting for application startup.
2025-07-13 21:58:50,532 uvicorn.error INFO Application startup complete.
2025-07-13 21:58:51,447 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:58:51,449 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:58:51,449 sqlalchemy.engine.Engine INFO [generated in 0.00034s] ('string', 'string', 1)
2025-07-13 21:58:51,451 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:58:51,461 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:58:51,464 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:58:51,464 sqlalchemy.engine.Engine INFO [generated in 0.00040s] (13,)
2025-07-13 21:58:51,465 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:58:51,466 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:58:51,527 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:58:51,733 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000278C14E83B0>
2025-07-13 21:58:51,733 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:58:51,734 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:58:51,734 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:58:51,734 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:58:51,734 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:58:51,934 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:28:51 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:58:51,935 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:58:51,935 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:58:57,545 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:58:57,545 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:58:57,545 httpcore.http11 DEBUG response_closed.complete
2025-07-13 22:00:49,386 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:00:49,386 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 22:00:49,387 sqlalchemy.engine.Engine INFO [cached since 117.9s ago] ('string', 'string', 1)
2025-07-13 22:00:49,390 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:00:49,400 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:00:49,400 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 22:00:49,401 sqlalchemy.engine.Engine INFO [cached since 117.9s ago] (14,)
2025-07-13 22:00:49,403 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 22:00:49,405 httpcore.connection DEBUG close.started
2025-07-13 22:00:49,405 httpcore.connection DEBUG close.complete
2025-07-13 22:00:49,405 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 22:00:49,479 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 22:00:49,681 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000278C14AA930>
2025-07-13 22:00:49,681 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 22:00:49,681 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 22:00:49,682 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 22:00:49,682 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 22:00:49,682 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 22:00:49,882 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:30:49 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 22:00:49,882 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 22:00:49,882 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 22:00:54,535 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 22:00:54,535 httpcore.http11 DEBUG response_closed.started
2025-07-13 22:00:54,535 httpcore.http11 DEBUG response_closed.complete
2025-07-13 22:01:15,128 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 22:01:15,128 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 22:01:15,160 uvicorn.error INFO Shutting down
2025-07-13 22:01:15,268 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 22:01:15,269 uvicorn.error INFO Application shutdown complete.
2025-07-13 22:01:15,270 uvicorn.error INFO Finished server process [31540]
2025-07-13 22:01:17,042 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2518123563888'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2518123563888'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 22:01:17,300 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:01:17,301 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 22:01:17,301 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:01:17,302 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 22:01:17,302 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:01:17,303 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 22:01:17,303 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:01:17,303 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:01:17,591 uvicorn.error INFO Started server process [4524]
2025-07-13 22:01:17,593 uvicorn.error INFO Waiting for application startup.
2025-07-13 22:01:17,594 uvicorn.error INFO Application startup complete.
2025-07-13 22:04:04,566 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:04:04,570 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 22:04:04,570 sqlalchemy.engine.Engine INFO [generated in 0.00064s] (1,)
2025-07-13 22:04:04,573 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 22:09:15,591 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 22:09:15,592 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 22:09:15,661 uvicorn.error INFO Shutting down
2025-07-13 22:09:15,770 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 22:09:15,771 uvicorn.error INFO Application shutdown complete.
2025-07-13 22:09:15,772 uvicorn.error INFO Finished server process [4524]
2025-07-13 22:09:17,130 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2351102708592'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2351102708592'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 22:09:17,374 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:09:17,374 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 22:09:17,374 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:09:17,377 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 22:09:17,377 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:09:17,377 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 22:09:17,378 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:09:17,379 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:09:17,658 uvicorn.error INFO Started server process [12972]
2025-07-13 22:09:17,660 uvicorn.error INFO Waiting for application startup.
2025-07-13 22:09:17,661 uvicorn.error INFO Application startup complete.
2025-07-13 22:10:24,470 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 22:10:24,470 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 22:10:24,502 uvicorn.error INFO Shutting down
2025-07-13 22:10:24,610 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 22:10:24,612 uvicorn.error INFO Application shutdown complete.
2025-07-13 22:10:24,613 uvicorn.error INFO Finished server process [12972]
2025-07-13 22:10:25,920 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1825852115824'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1825852115824'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 22:10:26,160 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:10:26,161 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 22:10:26,161 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:10:26,162 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 22:10:26,162 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:10:26,163 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 22:10:26,163 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:10:26,164 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:10:26,450 uvicorn.error INFO Started server process [30456]
2025-07-13 22:10:26,452 uvicorn.error INFO Waiting for application startup.
2025-07-13 22:10:26,453 uvicorn.error INFO Application startup complete.
2025-07-13 22:10:30,665 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:10:30,667 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 22:10:30,669 sqlalchemy.engine.Engine INFO [generated in 0.00053s] (1,)
2025-07-13 22:10:30,671 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 22:10:30,672 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (1,)
2025-07-13 22:10:30,674 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 22:10:30,674 sqlalchemy.engine.Engine INFO [cached since 0.003089s ago] (1,)
2025-07-13 22:10:30,675 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 22:12:07,864 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 22:12:07,864 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 22:12:07,889 uvicorn.error INFO Shutting down
2025-07-13 22:12:07,998 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 22:12:07,999 uvicorn.error INFO Application shutdown complete.
2025-07-13 22:12:08,000 uvicorn.error INFO Finished server process [30456]
2025-07-13 22:12:09,294 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1838697368432'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1838697368432'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 22:12:09,561 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:12:09,562 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 22:12:09,562 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:12:09,563 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 22:12:09,563 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:12:09,563 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 22:12:09,564 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:12:09,564 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:12:09,847 uvicorn.error INFO Started server process [21424]
2025-07-13 22:12:09,848 uvicorn.error INFO Waiting for application startup.
2025-07-13 22:12:09,850 uvicorn.error INFO Application startup complete.
2025-07-13 22:12:18,829 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 22:12:18,830 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 22:12:18,900 uvicorn.error INFO Shutting down
2025-07-13 22:12:19,009 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 22:12:19,010 uvicorn.error INFO Application shutdown complete.
2025-07-13 22:12:19,012 uvicorn.error INFO Finished server process [21424]
2025-07-13 22:12:20,401 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2179146730352'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2179146730352'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 22:12:20,634 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:12:20,634 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 22:12:20,634 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:12:20,636 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 22:12:20,636 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:12:20,636 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 22:12:20,636 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:12:20,637 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:12:20,921 uvicorn.error INFO Started server process [27236]
2025-07-13 22:12:20,922 uvicorn.error INFO Waiting for application startup.
2025-07-13 22:12:20,924 uvicorn.error INFO Application startup complete.
2025-07-13 22:23:16,896 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 22:23:16,897 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 22:23:16,905 uvicorn.error INFO Shutting down
2025-07-13 22:23:17,015 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 22:23:17,016 uvicorn.error INFO Application shutdown complete.
2025-07-13 22:23:17,017 uvicorn.error INFO Finished server process [27236]
2025-07-13 22:23:18,370 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2668702747504'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2668702747504'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 22:23:18,649 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:23:18,649 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 22:23:18,649 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:23:18,650 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 22:23:18,651 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:23:18,651 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 22:23:18,651 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:23:18,652 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:23:18,939 uvicorn.error INFO Started server process [10436]
2025-07-13 22:23:18,940 uvicorn.error INFO Waiting for application startup.
2025-07-13 22:23:18,941 uvicorn.error INFO Application startup complete.
2025-07-13 22:23:26,364 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:23:26,366 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 22:23:26,366 sqlalchemy.engine.Engine INFO [generated in 0.00047s] ('\nhi', 'human', 1)
2025-07-13 22:23:26,369 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:23:26,379 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:23:26,382 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 22:23:26,382 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (15,)
2025-07-13 22:23:26,383 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 22:23:26,388 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 41, in call_ollama_api
    |     ollama_chats = db_to_ollama(chats=chats)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 65, in db_to_ollama
    |     for chat_ in chats:
    |                  ^^^^^
    | TypeError: 'ChatHistory' object is not iterable
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 41, in call_ollama_api
    ollama_chats = db_to_ollama(chats=chats)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 65, in db_to_ollama
    for chat_ in chats:
                 ^^^^^
TypeError: 'ChatHistory' object is not iterable
2025-07-13 22:23:26,447 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:04:34,645 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:04:34,645 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:04:34,709 uvicorn.error INFO Shutting down
2025-07-13 23:04:34,818 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:04:34,819 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:04:34,820 uvicorn.error INFO Finished server process [10436]
2025-07-13 23:04:39,513 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1355512564592'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1355512564592'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:04:39,946 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:39,946 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:04:39,947 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:04:39,947 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:04:39,948 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:04:39,948 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:04:39,949 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:04:39,949 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:04:40,241 uvicorn.error INFO Started server process [3432]
2025-07-13 23:04:40,242 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:04:40,243 uvicorn.error INFO Application startup complete.
2025-07-13 23:04:40,268 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:40,269 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:04:40,269 sqlalchemy.engine.Engine INFO [generated in 0.00037s] ('hi\n', 'human', 1)
2025-07-13 23:04:40,274 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:04:40,284 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:40,286 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:04:40,286 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (16,)
2025-07-13 23:04:40,287 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:04:40,288 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:40,290 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:04:40,290 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (1,)
2025-07-13 23:04:40,291 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:04:40,292 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (1, 1, 0)
2025-07-13 23:04:40,294 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:04:40,294 sqlalchemy.engine.Engine INFO [generated in 0.00038s] (1,)
2025-07-13 23:04:40,296 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:04:40,296 sqlalchemy.engine.Engine INFO [cached since 0.0043s ago] (1, 1, 0)
2025-07-13 23:04:40,297 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:04:40,297 sqlalchemy.engine.Engine INFO [cached since 0.003049s ago] (1,)
2025-07-13 23:04:40,298 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:04:40,371 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:04:40,564 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000013B9AF3B2F0>
2025-07-13 23:04:40,564 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:04:40,564 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:04:40,565 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:04:40,565 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:04:40,565 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:04:40,570 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Sun, 13 Jul 2025 17:34:40 GMT'), (b'Content-Length', b'59')])
2025-07-13 23:04:40,570 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 404 Not Found"
2025-07-13 23:04:40,570 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:04:40,571 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:04:40,571 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:04:40,571 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:04:40,572 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 59, in call_ollama_api
    |     content += json.loads(chunk).message.content
    |     ^^^^^^^
    | UnboundLocalError: cannot access local variable 'content' where it is not associated with a value
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 59, in call_ollama_api
    content += json.loads(chunk).message.content
    ^^^^^^^
UnboundLocalError: cannot access local variable 'content' where it is not associated with a value
2025-07-13 23:04:55,645 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:04:55,645 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:04:55,733 uvicorn.error INFO Shutting down
2025-07-13 23:04:55,840 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:04:55,842 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:04:55,843 uvicorn.error INFO Finished server process [3432]
2025-07-13 23:04:57,146 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2012579384176'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2012579384176'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:04:57,384 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:57,384 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:04:57,386 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:04:57,386 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:04:57,386 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:04:57,387 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:04:57,387 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:04:57,388 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:04:57,682 uvicorn.error INFO Started server process [5272]
2025-07-13 23:04:57,684 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:04:57,685 uvicorn.error INFO Application startup complete.
2025-07-13 23:04:58,901 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:58,903 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:04:58,903 sqlalchemy.engine.Engine INFO [generated in 0.00031s] ('hi\n', 'human', 1)
2025-07-13 23:04:58,906 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:04:58,916 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:58,918 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:04:58,919 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (17,)
2025-07-13 23:04:58,920 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:04:58,922 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:58,923 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:04:58,924 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (1,)
2025-07-13 23:04:58,925 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:04:58,926 sqlalchemy.engine.Engine INFO [generated in 0.00043s] (1, 1, 0)
2025-07-13 23:04:58,928 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:04:58,928 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (1,)
2025-07-13 23:04:58,929 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:04:58,929 sqlalchemy.engine.Engine INFO [cached since 0.003914s ago] (1, 1, 0)
2025-07-13 23:04:58,930 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:04:58,930 sqlalchemy.engine.Engine INFO [cached since 0.002448s ago] (1,)
2025-07-13 23:04:58,932 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:04:59,012 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:04:59,199 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001D4972EACC0>
2025-07-13 23:04:59,200 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:04:59,200 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:04:59,200 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:04:59,200 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:04:59,200 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:04:59,202 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Sun, 13 Jul 2025 17:34:59 GMT'), (b'Content-Length', b'59')])
2025-07-13 23:04:59,202 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 404 Not Found"
2025-07-13 23:04:59,202 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:04:59,202 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:04:59,202 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:04:59,203 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:04:59,203 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 256, in stream_response
    |     chunk = chunk.encode(self.charset)
    |             ^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'encode'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 256, in stream_response
    chunk = chunk.encode(self.charset)
            ^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'encode'
2025-07-13 23:05:51,333 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:05:51,333 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:05:51,374 uvicorn.error INFO Shutting down
2025-07-13 23:05:51,481 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:05:51,483 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:05:51,484 uvicorn.error INFO Finished server process [5272]
2025-07-13 23:05:51,486 asyncio ERROR an error occurred during closing of asynchronous generator <async_generator object call_ollama_api at 0x000001D49728E340>
asyncgen: <async_generator object call_ollama_api at 0x000001D49728E340>
Traceback (most recent call last):
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 61, in call_ollama_api
    yield '{"DONE": "DONE"}'
    ^^^^^^^^^^^^^^^^^^^^^^
GeneratorExit

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 52, in call_ollama_api
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 267, in __aexit__
    raise RuntimeError("generator didn't stop after athrow()")
RuntimeError: generator didn't stop after athrow()
2025-07-13 23:05:52,779 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2051682421616'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2051682421616'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:05:53,081 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:05:53,082 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:05:53,082 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:05:53,083 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:05:53,083 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:05:53,083 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:05:53,083 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:05:53,083 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:05:53,374 uvicorn.error INFO Started server process [21188]
2025-07-13 23:05:53,376 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:05:53,377 uvicorn.error INFO Application startup complete.
2025-07-13 23:05:54,881 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:05:54,883 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:05:54,884 sqlalchemy.engine.Engine INFO [generated in 0.00053s] ('\nhi', 'human', 1)
2025-07-13 23:05:54,887 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:05:54,898 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:05:54,901 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:05:54,901 sqlalchemy.engine.Engine INFO [generated in 0.00049s] (18,)
2025-07-13 23:05:54,902 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:05:54,905 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:05:54,907 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:05:54,907 sqlalchemy.engine.Engine INFO [generated in 0.00063s] (1,)
2025-07-13 23:05:54,910 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:05:54,911 sqlalchemy.engine.Engine INFO [generated in 0.00050s] (1, 1, 0)
2025-07-13 23:05:54,913 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:05:54,914 sqlalchemy.engine.Engine INFO [generated in 0.00046s] (1,)
2025-07-13 23:05:54,915 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:05:54,916 sqlalchemy.engine.Engine INFO [cached since 0.005687s ago] (1, 1, 0)
2025-07-13 23:05:54,917 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:05:54,917 sqlalchemy.engine.Engine INFO [cached since 0.004068s ago] (1,)
2025-07-13 23:05:54,919 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:05:54,997 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:05:55,190 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DDB1DBE930>
2025-07-13 23:05:55,191 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:05:55,191 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:05:55,191 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:05:55,191 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:05:55,191 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:05:55,193 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Sun, 13 Jul 2025 17:35:55 GMT'), (b'Content-Length', b'59')])
2025-07-13 23:05:55,193 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 404 Not Found"
2025-07-13 23:05:55,194 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:05:55,194 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:05:55,194 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:05:55,194 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:07:03,054 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:07:03,054 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:07:03,128 uvicorn.error INFO Shutting down
2025-07-13 23:07:03,236 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:07:03,237 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:07:03,238 uvicorn.error INFO Finished server process [21188]
2025-07-13 23:07:04,611 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2701584190320'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2701584190320'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:07:04,879 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:07:04,880 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:07:04,880 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:07:04,881 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:07:04,881 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:07:04,882 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:07:04,882 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:07:04,883 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:07:05,177 uvicorn.error INFO Started server process [17700]
2025-07-13 23:07:05,178 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:07:05,179 uvicorn.error INFO Application startup complete.
2025-07-13 23:07:23,909 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:07:23,909 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:07:23,959 uvicorn.error INFO Shutting down
2025-07-13 23:07:24,068 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:07:24,070 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:07:24,070 uvicorn.error INFO Finished server process [17700]
2025-07-13 23:07:25,359 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2303556078448'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2303556078448'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:07:25,615 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:07:25,615 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:07:25,616 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:07:25,617 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:07:25,617 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:07:25,618 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:07:25,618 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:07:25,619 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:07:25,912 uvicorn.error INFO Started server process [13068]
2025-07-13 23:07:25,913 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:07:25,914 uvicorn.error INFO Application startup complete.
2025-07-13 23:07:33,552 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:07:33,554 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:07:33,554 sqlalchemy.engine.Engine INFO [generated in 0.00055s] ('\nhi', 'human', 1)
2025-07-13 23:07:33,557 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:07:33,566 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:07:33,569 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:07:33,569 sqlalchemy.engine.Engine INFO [generated in 0.00054s] (19,)
2025-07-13 23:07:33,571 root ERROR Error getting db session : 'ChatInput' object has no attribute 'ChatOutput'
2025-07-13 23:07:33,571 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:07:33,572 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 38, in chats
    async def call_ollama_api(chats: list[chat.ChatOutput]):
                                          ^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'ChatInput' object has no attribute 'ChatOutput'
2025-07-13 23:07:33,622 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:07:59,122 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:07:59,123 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:07:59,156 uvicorn.error INFO Shutting down
2025-07-13 23:07:59,265 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:07:59,266 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:07:59,267 uvicorn.error INFO Finished server process [13068]
2025-07-13 23:08:00,619 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2101616069488'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2101616069488'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:08:00,870 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:08:00,871 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:08:00,871 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:08:00,872 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:08:00,872 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:08:00,872 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:08:00,873 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:08:00,873 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:08:01,163 uvicorn.error INFO Started server process [31592]
2025-07-13 23:08:01,164 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:08:01,166 uvicorn.error INFO Application startup complete.
2025-07-13 23:08:39,471 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:08:39,471 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:08:39,488 uvicorn.error INFO Shutting down
2025-07-13 23:08:39,598 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:08:39,599 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:08:39,600 uvicorn.error INFO Finished server process [31592]
2025-07-13 23:08:40,889 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1213311306608'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1213311306608'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:08:41,161 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:08:41,161 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:08:41,162 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:08:41,162 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:08:41,162 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:08:41,163 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:08:41,163 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:08:41,164 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:08:41,444 uvicorn.error INFO Started server process [18460]
2025-07-13 23:08:41,447 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:08:41,448 uvicorn.error INFO Application startup complete.
2025-07-13 23:08:48,104 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:08:48,106 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:08:48,106 sqlalchemy.engine.Engine INFO [generated in 0.00041s] ('\nhi', 'human', 1)
2025-07-13 23:08:48,109 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:08:48,119 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:08:48,121 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:08:48,121 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (20,)
2025-07-13 23:08:48,124 root ERROR Error getting db session : chats.<locals>.call_ollama_api() takes 0 positional arguments but 1 was given
2025-07-13 23:08:48,124 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:08:48,126 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 60, in chats
    return StreamingResponse(call_ollama_api(chats), media_type="text/stream")
                             ^^^^^^^^^^^^^^^^^^^^^^
TypeError: chats.<locals>.call_ollama_api() takes 0 positional arguments but 1 was given
2025-07-13 23:08:48,188 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:09:12,438 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:09:12,438 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:09:12,472 uvicorn.error INFO Shutting down
2025-07-13 23:09:12,581 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:09:12,582 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:09:12,583 uvicorn.error INFO Finished server process [18460]
2025-07-13 23:09:14,027 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2860430740336'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2860430740336'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:09:14,306 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:09:14,307 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:09:14,307 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:14,308 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:09:14,308 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:14,309 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:09:14,309 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:14,309 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:09:14,593 uvicorn.error INFO Started server process [29800]
2025-07-13 23:09:14,594 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:09:14,595 uvicorn.error INFO Application startup complete.
2025-07-13 23:09:15,966 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:09:15,970 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:09:15,970 sqlalchemy.engine.Engine INFO [generated in 0.00051s] ('\nhi', 'human', 1)
2025-07-13 23:09:15,974 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:09:15,983 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:09:15,985 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:09:15,986 sqlalchemy.engine.Engine INFO [generated in 0.00038s] (21,)
2025-07-13 23:09:15,987 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:09:15,988 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:09:15,989 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:09:15,989 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (1,)
2025-07-13 23:09:15,991 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:09:15,991 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (1, 1, 0)
2025-07-13 23:09:15,994 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:09:15,994 sqlalchemy.engine.Engine INFO [generated in 0.00046s] (1,)
2025-07-13 23:09:15,995 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:09:15,995 sqlalchemy.engine.Engine INFO [cached since 0.00447s ago] (1, 1, 0)
2025-07-13 23:09:15,996 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:09:15,997 sqlalchemy.engine.Engine INFO [cached since 0.003197s ago] (1,)
2025-07-13 23:09:15,997 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:09:16,039 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:09:16,276 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000299FF10AF30>
2025-07-13 23:09:16,276 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:09:16,276 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:09:16,276 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:09:16,276 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:09:16,276 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:09:16,278 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Sun, 13 Jul 2025 17:39:16 GMT'), (b'Content-Length', b'59')])
2025-07-13 23:09:16,278 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 404 Not Found"
2025-07-13 23:09:16,278 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:09:16,278 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:09:16,278 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:09:16,278 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:09:16,279 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 56, in call_ollama_api
    |     content += json.loads(chunk).message.content
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'message'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 56, in call_ollama_api
    content += json.loads(chunk).message.content
               ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'message'
2025-07-13 23:09:49,478 uvicorn.error INFO Shutting down
2025-07-13 23:09:49,586 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:09:49,588 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:09:49,589 uvicorn.error INFO Finished server process [29800]
2025-07-13 23:09:49,742 uvicorn.error INFO Stopping reloader process [33892]
2025-07-13 23:09:56,164 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:09:56,164 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:09:56,164 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:56,165 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:09:56,165 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:56,167 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:09:56,167 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:56,167 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:09:56,469 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-13 23:09:56,472 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-13 23:09:56,473 uvicorn.error INFO Started reloader process [30552] using WatchFiles
2025-07-13 23:09:57,870 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:09:57,871 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:09:57,871 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:57,872 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:09:57,872 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:57,873 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:09:57,873 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:57,873 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:09:58,153 uvicorn.error INFO Started server process [11360]
2025-07-13 23:09:58,155 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:09:58,157 uvicorn.error INFO Application startup complete.
2025-07-13 23:10:54,280 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:10:54,282 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 23:10:54,283 sqlalchemy.engine.Engine INFO [generated in 0.00048s] ('hi', 'chat', 'gemma3n:latest', 0.0, 1)
2025-07-13 23:10:54,286 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:10:54,294 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:10:54,298 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:10:54,298 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (7,)
2025-07-13 23:10:54,301 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 23:10:54,301 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (1,)
2025-07-13 23:10:54,303 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:10:54,351 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:11:04,361 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:11:04,362 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:11:04,363 sqlalchemy.engine.Engine INFO [generated in 0.00049s] ('string', 'string', 2)
2025-07-13 23:11:04,367 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:11:04,381 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:11:04,383 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:11:04,384 sqlalchemy.engine.Engine INFO [generated in 0.00086s] (22,)
2025-07-13 23:11:04,385 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:11:04,387 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:11:04,387 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:11:04,389 sqlalchemy.engine.Engine INFO [generated in 0.00044s] (2,)
2025-07-13 23:11:04,391 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:11:04,391 sqlalchemy.engine.Engine INFO [generated in 0.00037s] (2, 1, 0)
2025-07-13 23:11:04,392 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:11:04,393 sqlalchemy.engine.Engine INFO [generated in 0.00043s] (2,)
2025-07-13 23:11:04,394 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:11:04,394 sqlalchemy.engine.Engine INFO [cached since 0.003439s ago] (2, 1, 0)
2025-07-13 23:11:04,395 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:11:04,396 sqlalchemy.engine.Engine INFO [cached since 0.003553s ago] (2,)
2025-07-13 23:11:04,397 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:11:04,437 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:11:04,667 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000026FC08108C0>
2025-07-13 23:11:04,668 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:11:04,668 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:11:04,668 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:11:04,668 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:11:04,669 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:11:04,670 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Sun, 13 Jul 2025 17:41:04 GMT'), (b'Content-Length', b'59')])
2025-07-13 23:11:04,671 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 404 Not Found"
2025-07-13 23:11:04,671 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:11:04,671 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:11:04,671 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:11:04,671 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:11:04,672 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 56, in call_ollama_api
    |     content += json.loads(chunk).message.content
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'message'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 56, in call_ollama_api
    content += json.loads(chunk).message.content
               ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'message'
2025-07-13 23:11:58,753 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:11:58,754 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:11:58,754 sqlalchemy.engine.Engine INFO [cached since 54.37s ago] (2,)
2025-07-13 23:11:58,756 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:11:58,756 sqlalchemy.engine.Engine INFO [cached since 54.36s ago] (2,)
2025-07-13 23:11:58,757 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:12:39,811 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:12:39,811 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-13 23:12:39,811 sqlalchemy.engine.Engine INFO [generated in 0.00037s] ()
2025-07-13 23:12:39,818 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 23:12:39,818 sqlalchemy.engine.Engine INFO [cached since 105.5s ago] (1,)
2025-07-13 23:12:39,820 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:12:50,880 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:12:50,882 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:12:50,882 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] ('string', 'string', 7)
2025-07-13 23:12:50,886 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:12:50,896 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:12:50,896 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:12:50,896 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] (23,)
2025-07-13 23:12:50,898 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:12:50,900 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:12:50,902 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:12:50,902 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] (7,)
2025-07-13 23:12:50,903 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:12:50,903 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] (7, 1, 0)
2025-07-13 23:12:50,904 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:12:50,904 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] (7,)
2025-07-13 23:12:50,906 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:12:50,906 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] (7, 1, 0)
2025-07-13 23:12:50,907 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:12:50,907 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] (7,)
2025-07-13 23:12:50,908 httpcore.connection DEBUG close.started
2025-07-13 23:12:50,909 httpcore.connection DEBUG close.complete
2025-07-13 23:12:50,910 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:12:50,957 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:12:51,177 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000026FC090C770>
2025-07-13 23:12:51,177 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:12:51,177 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:12:51,178 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:12:51,178 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:12:51,178 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:13:11,188 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-07-13 23:13:11,188 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:13:11,188 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:13:11,189 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 49, in call_ollama_api
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1583, in stream
    response = await self.send(
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout
2025-07-13 23:13:20,551 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:13:20,552 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:13:20,552 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] ('string', 'string', 7)
2025-07-13 23:13:20,555 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:13:20,565 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:13:20,565 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:13:20,566 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] (24,)
2025-07-13 23:13:20,566 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:13:20,569 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:13:20,570 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:13:20,571 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] (7,)
2025-07-13 23:13:20,572 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:13:20,572 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] (7, 1, 0)
2025-07-13 23:13:20,573 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:13:20,573 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] (7,)
2025-07-13 23:13:20,573 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:13:20,573 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] (7, 1, 0)
2025-07-13 23:13:20,575 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:13:20,575 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] (7,)
2025-07-13 23:13:20,576 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:13:20,644 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:13:20,826 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000026FC090F800>
2025-07-13 23:13:20,827 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:13:20,827 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:13:20,827 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:13:20,827 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:13:20,827 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:13:28,753 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:43:28 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:13:28,753 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:13:28,754 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:13:28,754 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:13:28,754 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:13:28,754 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 56, in call_ollama_api
    |     content += json.loads(chunk).message.content
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'message'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 56, in call_ollama_api
    content += json.loads(chunk).message.content
               ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'message'
2025-07-13 23:13:28,762 httpcore.http11 DEBUG receive_response_body.failed exception=GeneratorExit()
2025-07-13 23:14:34,502 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:14:34,503 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:14:34,568 uvicorn.error INFO Shutting down
2025-07-13 23:14:34,672 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:14:34,673 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:14:34,674 uvicorn.error INFO Finished server process [11360]
2025-07-13 23:14:36,898 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1968975399792'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1968975399792')}
2025-07-13 23:14:37,230 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:14:37,230 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:14:37,230 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:14:37,232 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:14:37,232 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:14:37,233 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:14:37,233 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:14:37,234 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:14:37,518 uvicorn.error INFO Started server process [32320]
2025-07-13 23:14:37,519 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:14:37,521 uvicorn.error INFO Application startup complete.
2025-07-13 23:14:41,081 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:14:41,083 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:14:41,083 sqlalchemy.engine.Engine INFO [generated in 0.00049s] ('string', 'string', 7)
2025-07-13 23:14:41,086 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:14:41,094 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:14:41,096 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:14:41,097 sqlalchemy.engine.Engine INFO [generated in 0.00048s] (25,)
2025-07-13 23:14:41,098 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:14:41,100 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:14:41,102 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:14:41,102 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (7,)
2025-07-13 23:14:41,104 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:14:41,104 sqlalchemy.engine.Engine INFO [generated in 0.00038s] (7, 1, 0)
2025-07-13 23:14:41,106 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:14:41,106 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (7,)
2025-07-13 23:14:41,107 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:14:41,107 sqlalchemy.engine.Engine INFO [cached since 0.0039s ago] (7, 1, 0)
2025-07-13 23:14:41,109 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:14:41,109 sqlalchemy.engine.Engine INFO [cached since 0.003047s ago] (7,)
2025-07-13 23:14:41,111 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:14:41,177 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:14:41,392 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001CA702EA8D0>
2025-07-13 23:14:41,392 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:14:41,394 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:14:41,394 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:14:41,394 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:14:41,394 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:14:41,516 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:44:41 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:14:41,516 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:14:41,518 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:14:41,518 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:14:41,518 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:14:41,518 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 57, in call_ollama_api
    |     content += data["message"]["content"]
    |                ~~~~^^^^^^^^^^^
    | KeyError: 'message'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 57, in call_ollama_api
    content += data["message"]["content"]
               ~~~~^^^^^^^^^^^
KeyError: 'message'
2025-07-13 23:14:41,536 httpcore.http11 DEBUG receive_response_body.failed exception=GeneratorExit()
2025-07-13 23:15:21,067 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:15:21,067 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:15:21,100 uvicorn.error INFO Shutting down
2025-07-13 23:15:21,208 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:15:21,210 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:15:21,211 uvicorn.error INFO Finished server process [32320]
2025-07-13 23:15:22,551 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2091798383472'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2091798383472')}
2025-07-13 23:15:22,799 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:15:22,799 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:15:22,800 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:15:22,800 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:15:22,801 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:15:22,801 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:15:22,801 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:15:22,801 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:15:23,080 uvicorn.error INFO Started server process [18260]
2025-07-13 23:15:23,081 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:15:23,082 uvicorn.error INFO Application startup complete.
2025-07-13 23:15:23,591 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:15:23,592 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:15:23,592 sqlalchemy.engine.Engine INFO [generated in 0.00039s] ('string', 'string', 7)
2025-07-13 23:15:23,595 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:15:23,605 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:15:23,608 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:15:23,608 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (26,)
2025-07-13 23:15:23,609 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:15:23,610 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:15:23,612 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:15:23,612 sqlalchemy.engine.Engine INFO [generated in 0.00043s] (7,)
2025-07-13 23:15:23,613 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:15:23,614 sqlalchemy.engine.Engine INFO [generated in 0.00048s] (7, 1, 0)
2025-07-13 23:15:23,616 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:15:23,617 sqlalchemy.engine.Engine INFO [generated in 0.00053s] (7,)
2025-07-13 23:15:23,618 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:15:23,620 sqlalchemy.engine.Engine INFO [cached since 0.005728s ago] (7, 1, 0)
2025-07-13 23:15:23,620 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:15:23,621 sqlalchemy.engine.Engine INFO [cached since 0.004624s ago] (7,)
2025-07-13 23:15:23,623 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:15:23,670 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:15:23,877 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E70901A6C0>
2025-07-13 23:15:23,877 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:15:23,877 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:15:23,877 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:15:23,877 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:15:23,877 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:15:23,979 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:45:23 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:15:23,981 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:15:23,981 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:15:23,982 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:15:23,982 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:15:23,982 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:16:30,407 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:16:30,407 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:16:30,492 uvicorn.error INFO Shutting down
2025-07-13 23:16:30,601 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:16:30,604 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:16:30,605 uvicorn.error INFO Finished server process [18260]
2025-07-13 23:16:31,907 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2410273852272'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2410273852272'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:16:32,169 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:16:32,169 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:16:32,169 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:16:32,170 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:16:32,170 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:16:32,170 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:16:32,170 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:16:32,172 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:16:32,465 uvicorn.error INFO Started server process [15200]
2025-07-13 23:16:32,467 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:16:32,468 uvicorn.error INFO Application startup complete.
2025-07-13 23:16:33,162 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:16:33,164 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:16:33,164 sqlalchemy.engine.Engine INFO [generated in 0.00047s] ('string', 'string', 7)
2025-07-13 23:16:33,170 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:16:33,179 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:16:33,181 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:16:33,181 sqlalchemy.engine.Engine INFO [generated in 0.00059s] (27,)
2025-07-13 23:16:33,184 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:16:33,188 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:16:33,190 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:16:33,190 sqlalchemy.engine.Engine INFO [generated in 0.00074s] (7,)
2025-07-13 23:16:33,193 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:16:33,193 sqlalchemy.engine.Engine INFO [generated in 0.00050s] (7, 1, 0)
2025-07-13 23:16:33,196 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:16:33,197 sqlalchemy.engine.Engine INFO [generated in 0.00056s] (7,)
2025-07-13 23:16:33,199 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:16:33,199 sqlalchemy.engine.Engine INFO [cached since 0.006404s ago] (7, 1, 0)
2025-07-13 23:16:33,201 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:16:33,201 sqlalchemy.engine.Engine INFO [cached since 0.004282s ago] (7,)
2025-07-13 23:16:33,202 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:16:33,266 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:16:33,457 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002312F9FA7B0>
2025-07-13 23:16:33,457 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:16:33,457 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:16:33,458 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:16:33,458 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:16:33,458 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:16:33,565 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:46:33 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:16:33,565 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:16:33,565 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:16:33,566 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:16:33,566 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:16:33,566 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:16:55,526 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:16:55,527 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 23:16:55,531 sqlalchemy.engine.Engine INFO [generated in 0.00356s] ('hi', 'chat', 'gemma3n:latest', 0.0, 1)
2025-07-13 23:16:55,538 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:16:55,548 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:16:55,549 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:16:55,550 sqlalchemy.engine.Engine INFO [generated in 0.00055s] (8,)
2025-07-13 23:16:55,552 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 23:16:55,552 sqlalchemy.engine.Engine INFO [generated in 0.00036s] (1,)
2025-07-13 23:16:55,554 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:16:55,628 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:18:02,793 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:18:02,793 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 23:18:02,794 sqlalchemy.engine.Engine INFO [cached since 67.27s ago] ('hi', 'chat', 'gemma3n:latest', 0.0, 1)
2025-07-13 23:18:02,797 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:18:02,808 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:18:02,808 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:18:02,808 sqlalchemy.engine.Engine INFO [cached since 67.26s ago] (9,)
2025-07-13 23:18:02,810 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 23:18:02,810 sqlalchemy.engine.Engine INFO [cached since 67.26s ago] (1,)
2025-07-13 23:18:02,812 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:18:02,882 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:18:24,876 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:18:24,876 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:18:24,877 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] ('hi', 'human', 9)
2025-07-13 23:18:24,880 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:18:24,889 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:18:24,890 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:18:24,890 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] (28,)
2025-07-13 23:18:24,891 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:18:24,893 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:18:24,893 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:18:24,893 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] (9,)
2025-07-13 23:18:24,894 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:18:24,894 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] (9, 1, 0)
2025-07-13 23:18:24,896 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:18:24,897 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] (9,)
2025-07-13 23:18:24,903 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:18:24,905 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] (9, 1, 0)
2025-07-13 23:18:24,907 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:18:24,912 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] (9,)
2025-07-13 23:18:24,917 httpcore.connection DEBUG close.started
2025-07-13 23:18:24,918 httpcore.connection DEBUG close.complete
2025-07-13 23:18:24,918 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:18:24,962 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:18:25,183 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002312FA31AF0>
2025-07-13 23:18:25,183 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:18:25,183 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:18:25,183 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:18:25,183 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:18:25,183 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:18:25,297 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:48:25 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:18:25,297 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:18:25,297 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:18:25,298 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:18:25,298 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:18:25,298 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:22:19,022 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:22:19,023 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:22:19,023 sqlalchemy.engine.Engine INFO [cached since 345.9s ago] ('\nhi', 'user', 9)
2025-07-13 23:22:19,027 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:22:19,035 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:22:19,035 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:22:19,037 sqlalchemy.engine.Engine INFO [cached since 345.9s ago] (29,)
2025-07-13 23:22:19,038 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:22:19,040 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:22:19,041 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:22:19,041 sqlalchemy.engine.Engine INFO [cached since 345.9s ago] (9,)
2025-07-13 23:22:19,042 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:22:19,043 sqlalchemy.engine.Engine INFO [cached since 345.8s ago] (9, 1, 0)
2025-07-13 23:22:19,044 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:22:19,044 sqlalchemy.engine.Engine INFO [cached since 345.8s ago] (9,)
2025-07-13 23:22:19,045 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:22:19,045 sqlalchemy.engine.Engine INFO [cached since 345.9s ago] (9, 1, 0)
2025-07-13 23:22:19,046 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:22:19,047 sqlalchemy.engine.Engine INFO [cached since 345.9s ago] (9,)
2025-07-13 23:22:19,048 httpcore.connection DEBUG close.started
2025-07-13 23:22:19,049 httpcore.connection DEBUG close.complete
2025-07-13 23:22:19,049 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:22:19,110 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:22:19,301 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002312FA33020>
2025-07-13 23:22:19,301 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:22:19,301 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:22:19,302 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:22:19,302 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:22:19,302 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:22:19,982 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:52:19 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:22:19,983 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:22:19,983 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:22:40,126 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:22:40,126 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:22:40,126 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:22:48,819 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:22:48,819 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:22:48,821 sqlalchemy.engine.Engine INFO [cached since 375.7s ago] ('hello my name is rahul\n', 'user', 9)
2025-07-13 23:22:48,824 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:22:48,834 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:22:48,834 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:22:48,835 sqlalchemy.engine.Engine INFO [cached since 375.7s ago] (30,)
2025-07-13 23:22:48,836 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:22:48,838 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:22:48,838 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:22:48,838 sqlalchemy.engine.Engine INFO [cached since 375.6s ago] (9,)
2025-07-13 23:22:48,839 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:22:48,840 sqlalchemy.engine.Engine INFO [cached since 375.6s ago] (9, 1, 0)
2025-07-13 23:22:48,841 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:22:48,841 sqlalchemy.engine.Engine INFO [cached since 375.6s ago] (9,)
2025-07-13 23:22:48,842 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:22:48,842 sqlalchemy.engine.Engine INFO [cached since 375.6s ago] (9, 1, 0)
2025-07-13 23:22:48,842 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:22:48,842 sqlalchemy.engine.Engine INFO [cached since 375.6s ago] (9,)
2025-07-13 23:22:48,845 httpcore.connection DEBUG close.started
2025-07-13 23:22:48,845 httpcore.connection DEBUG close.complete
2025-07-13 23:22:48,845 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:22:48,932 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:22:49,111 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002312FA332F0>
2025-07-13 23:22:49,111 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:22:49,111 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:22:49,112 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:22:49,112 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:22:49,112 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:22:49,835 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:52:49 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:22:49,836 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:22:49,836 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:22:55,309 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:22:55,309 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:22:55,309 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:23:23,448 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:23:23,449 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:23:23,449 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] ('what is my name ?\n', 'user', 9)
2025-07-13 23:23:23,452 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:23:23,460 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:23:23,461 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:23:23,461 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] (31,)
2025-07-13 23:23:23,462 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:23:23,464 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:23:23,465 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:23:23,465 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] (9,)
2025-07-13 23:23:23,466 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:23:23,467 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] (9, 1, 0)
2025-07-13 23:23:23,468 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:23:23,468 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] (9,)
2025-07-13 23:23:23,469 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:23:23,470 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] (9, 1, 0)
2025-07-13 23:23:23,471 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:23:23,471 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] (9,)
2025-07-13 23:23:23,473 httpcore.connection DEBUG close.started
2025-07-13 23:23:23,473 httpcore.connection DEBUG close.complete
2025-07-13 23:23:23,473 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:23:23,551 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:23:23,727 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002312FA32150>
2025-07-13 23:23:23,727 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:23:23,727 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:23:23,728 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:23:23,728 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:23:23,728 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:23:24,464 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:53:24 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:23:24,464 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:23:24,464 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:23:26,137 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:23:26,137 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:23:26,137 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:28:31,183 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:28:31,183 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:28:31,213 uvicorn.error INFO Shutting down
2025-07-13 23:28:31,321 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:28:31,322 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:28:31,324 uvicorn.error INFO Finished server process [15200]
2025-07-13 23:28:32,697 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1997650807664'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1997650807664')}
2025-07-13 23:28:32,957 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:28:32,958 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:28:32,958 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:28:32,959 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:28:32,959 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:28:32,959 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:28:32,960 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:28:32,960 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:28:33,255 uvicorn.error INFO Started server process [6712]
2025-07-13 23:28:33,256 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:28:33,258 uvicorn.error INFO Application startup complete.
2025-07-13 23:28:42,825 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:28:42,827 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 23:28:42,827 sqlalchemy.engine.Engine INFO [generated in 0.00054s] ('hi', 'chat', 'gemma3n:latest', 0.0, 1)
2025-07-13 23:28:42,831 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:28:42,840 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:28:42,843 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:28:42,844 sqlalchemy.engine.Engine INFO [generated in 0.00044s] (10,)
2025-07-13 23:28:42,846 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 23:28:42,846 sqlalchemy.engine.Engine INFO [generated in 0.00046s] (1,)
2025-07-13 23:28:42,848 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:28:42,932 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:29:21,335 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:29:21,337 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:29:21,337 sqlalchemy.engine.Engine INFO [generated in 0.00045s] ('hi', 'user', 10)
2025-07-13 23:29:21,340 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:29:21,350 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:29:21,352 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:29:21,352 sqlalchemy.engine.Engine INFO [generated in 0.00057s] (32,)
2025-07-13 23:29:21,354 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:29:21,356 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 39, in call_ollama_api
    |     ollama_chats = db_to_ollama(chats=user_chat)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 76, in db_to_ollama
    |     temp_chat["role"] = chat_.message_type
    |                         ^^^^^^^^^^^^^^^^^^
    | AttributeError: 'tuple' object has no attribute 'message_type'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 39, in call_ollama_api
    ollama_chats = db_to_ollama(chats=user_chat)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 76, in db_to_ollama
    temp_chat["role"] = chat_.message_type
                        ^^^^^^^^^^^^^^^^^^
AttributeError: 'tuple' object has no attribute 'message_type'
2025-07-13 23:29:21,435 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:31:06,593 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:31:06,594 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:31:06,595 sqlalchemy.engine.Engine INFO [generated in 0.00043s] (10,)
2025-07-13 23:31:06,596 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:31:06,597 sqlalchemy.engine.Engine INFO [generated in 0.00049s] (10,)
2025-07-13 23:31:06,598 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:32:13,801 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:32:13,801 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:32:13,802 sqlalchemy.engine.Engine INFO [cached since 172.5s ago] ('\nhi', 'user', 10)
2025-07-13 23:32:13,806 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:32:13,816 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:32:13,817 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:32:13,818 sqlalchemy.engine.Engine INFO [cached since 172.5s ago] (33,)
2025-07-13 23:32:13,819 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:32:13,822 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 39, in call_ollama_api
    |     ollama_chats = db_to_ollama(chats=user_chat)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 76, in db_to_ollama
    |     temp_chat["role"] = chat_.message_type
    |                         ^^^^^^^^^^^^^^^^^^
    | AttributeError: 'tuple' object has no attribute 'message_type'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 39, in call_ollama_api
    ollama_chats = db_to_ollama(chats=user_chat)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 76, in db_to_ollama
    temp_chat["role"] = chat_.message_type
                        ^^^^^^^^^^^^^^^^^^
AttributeError: 'tuple' object has no attribute 'message_type'
2025-07-13 23:32:13,905 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:32:42,687 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:32:42,687 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:32:42,702 uvicorn.error INFO Shutting down
2025-07-13 23:32:42,810 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:32:42,812 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:32:42,813 uvicorn.error INFO Finished server process [6712]
2025-07-13 23:32:44,151 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1654165949296'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1654165949296'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:32:44,416 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:32:44,417 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:32:44,417 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:32:44,417 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:32:44,418 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:32:44,418 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:32:44,418 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:32:44,418 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:32:44,704 uvicorn.error INFO Started server process [12052]
2025-07-13 23:32:44,706 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:32:44,707 uvicorn.error INFO Application startup complete.
2025-07-13 23:33:17,412 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:33:17,413 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 23:33:17,414 sqlalchemy.engine.Engine INFO [generated in 0.00066s] ('hi', 'chat', 'gemma3n:latest', 0.0, 1)
2025-07-13 23:33:17,417 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:33:17,429 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:33:17,431 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:33:17,432 sqlalchemy.engine.Engine INFO [generated in 0.00050s] (11,)
2025-07-13 23:33:17,434 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 23:33:17,434 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (1,)
2025-07-13 23:33:17,436 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:33:17,489 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:33:29,578 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:33:29,580 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:33:29,580 sqlalchemy.engine.Engine INFO [generated in 0.00039s] ('hi', 'user', 11)
2025-07-13 23:33:29,584 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:33:29,593 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:33:29,594 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:33:29,594 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (34,)
2025-07-13 23:33:29,596 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:33:29,599 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:33:29,600 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:33:29,601 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (11,)
2025-07-13 23:33:29,602 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:33:29,602 sqlalchemy.engine.Engine INFO [generated in 0.00049s] (11, 1, 0)
2025-07-13 23:33:29,604 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:33:29,605 sqlalchemy.engine.Engine INFO [generated in 0.00044s] (11,)
2025-07-13 23:33:29,606 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:33:29,606 sqlalchemy.engine.Engine INFO [cached since 0.004067s ago] (11, 1, 0)
2025-07-13 23:33:29,607 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:33:29,607 sqlalchemy.engine.Engine INFO [cached since 0.00307s ago] (11,)
2025-07-13 23:33:29,609 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:33:29,674 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:33:29,879 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000018124188BF0>
2025-07-13 23:33:29,879 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:33:29,880 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:33:29,880 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:33:29,880 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:33:29,880 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:33:42,920 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 18:03:42 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:33:42,920 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:33:42,920 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:33:46,744 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:33:46,744 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:33:46,744 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:33:46,745 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:33:46,745 sqlalchemy.engine.Engine INFO [cached since 17.17s ago] ('', 'assistant', 11)
2025-07-13 23:33:46,748 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:33:46,757 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:33:46,758 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:33:46,758 sqlalchemy.engine.Engine INFO [cached since 17.16s ago] (35,)
2025-07-13 23:33:46,818 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:34:13,726 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:34:13,727 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:34:13,727 sqlalchemy.engine.Engine INFO [cached since 44.13s ago] (11,)
2025-07-13 23:34:13,728 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:34:13,728 sqlalchemy.engine.Engine INFO [cached since 44.12s ago] (11,)
2025-07-13 23:34:13,731 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:34:13,731 sqlalchemy.engine.Engine INFO [cached since 44.13s ago] (11,)
2025-07-13 23:34:13,733 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:35:54,695 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:35:54,695 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:35:54,713 uvicorn.error INFO Shutting down
2025-07-13 23:35:54,820 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:35:54,821 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:35:54,822 uvicorn.error INFO Finished server process [12052]
2025-07-13 23:35:56,277 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2268233747312'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2268233747312')}
2025-07-13 23:35:56,570 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:35:56,570 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:35:56,570 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:35:56,571 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:35:56,571 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:35:56,572 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:35:56,572 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:35:56,572 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:35:56,858 uvicorn.error INFO Started server process [24652]
2025-07-13 23:35:56,861 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:35:56,862 uvicorn.error INFO Application startup complete.
2025-07-13 23:36:01,016 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:36:01,016 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:36:01,113 uvicorn.error INFO Shutting down
2025-07-13 23:36:01,223 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:36:01,224 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:36:01,225 uvicorn.error INFO Finished server process [24652]
2025-07-13 23:36:02,596 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2259494914928'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2259494914928')}
2025-07-13 23:36:02,865 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:02,865 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:36:02,865 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:36:02,867 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:36:02,867 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:36:02,867 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:36:02,867 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:36:02,868 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:36:03,160 uvicorn.error INFO Started server process [32864]
2025-07-13 23:36:03,161 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:36:03,161 uvicorn.error INFO Application startup complete.
2025-07-13 23:36:06,547 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:06,548 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:36:06,549 sqlalchemy.engine.Engine INFO [generated in 0.00044s] ('hi\n', 'user', 11)
2025-07-13 23:36:06,550 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:36:06,560 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:06,562 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:36:06,563 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (36,)
2025-07-13 23:36:06,563 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:36:06,565 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:06,568 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:36:06,568 sqlalchemy.engine.Engine INFO [generated in 0.00046s] (11,)
2025-07-13 23:36:06,570 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:36:06,570 sqlalchemy.engine.Engine INFO [generated in 0.00043s] (11, 1, 0)
2025-07-13 23:36:06,573 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:36:06,573 sqlalchemy.engine.Engine INFO [generated in 0.00066s] (11,)
2025-07-13 23:36:06,575 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:36:06,576 sqlalchemy.engine.Engine INFO [cached since 0.005713s ago] (11, 1, 0)
2025-07-13 23:36:06,577 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:36:06,578 sqlalchemy.engine.Engine INFO [cached since 0.005236s ago] (11,)
2025-07-13 23:36:06,580 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:36:06,619 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:36:06,847 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020E147EA840>
2025-07-13 23:36:06,847 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:36:06,847 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:36:06,847 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:36:06,847 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:36:06,847 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:36:07,622 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 18:06:07 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:36:07,622 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:36:07,622 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:36:11,175 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:36:11,175 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:36:11,175 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:36:11,178 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 256, in stream_response
    |     chunk = chunk.encode(self.charset)
    |             ^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'encode'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 256, in stream_response
    chunk = chunk.encode(self.charset)
            ^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'encode'
2025-07-13 23:36:30,922 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:36:30,922 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:36:31,011 uvicorn.error INFO Shutting down
2025-07-13 23:36:31,121 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:36:31,122 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:36:31,123 uvicorn.error INFO Finished server process [32864]
2025-07-13 23:36:32,512 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1957491395440'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1957491395440')}
2025-07-13 23:36:32,737 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:32,737 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:36:32,737 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:36:32,739 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:36:32,739 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:36:32,740 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:36:32,740 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:36:32,741 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:36:33,019 uvicorn.error INFO Started server process [32524]
2025-07-13 23:36:33,021 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:36:33,022 uvicorn.error INFO Application startup complete.
2025-07-13 23:36:34,207 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:34,208 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:36:34,209 sqlalchemy.engine.Engine INFO [generated in 0.00048s] ('\nhi', 'user', 11)
2025-07-13 23:36:34,212 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:36:34,221 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:34,223 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:36:34,223 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (37,)
2025-07-13 23:36:34,225 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:36:34,228 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:34,230 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:36:34,230 sqlalchemy.engine.Engine INFO [generated in 0.00051s] (11,)
2025-07-13 23:36:34,232 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:36:34,232 sqlalchemy.engine.Engine INFO [generated in 0.00045s] (11, 1, 0)
2025-07-13 23:36:34,234 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:36:34,235 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (11,)
2025-07-13 23:36:34,236 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:36:34,236 sqlalchemy.engine.Engine INFO [cached since 0.00495s ago] (11, 1, 0)
2025-07-13 23:36:34,237 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:36:34,237 sqlalchemy.engine.Engine INFO [cached since 0.003266s ago] (11,)
2025-07-13 23:36:34,239 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:36:34,279 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:36:34,504 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001C7C3AEA960>
2025-07-13 23:36:34,505 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:36:34,505 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:36:34,505 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:36:34,505 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:36:34,505 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:36:35,021 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 18:06:35 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:36:35,021 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:36:35,022 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:36:40,414 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:36:40,414 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:36:40,414 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:36:40,414 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:36:40,415 sqlalchemy.engine.Engine INFO [cached since 6.207s ago] ('content', 'assistant', 11)
2025-07-13 23:36:40,418 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:36:40,426 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:40,427 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:36:40,427 sqlalchemy.engine.Engine INFO [cached since 6.204s ago] (38,)
2025-07-13 23:36:40,500 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:37:13,352 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:37:13,352 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:37:13,415 uvicorn.error INFO Shutting down
2025-07-13 23:37:13,524 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:37:13,525 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:37:13,527 uvicorn.error INFO Finished server process [32524]
2025-07-13 23:37:14,970 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1889105365872'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1889105365872'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:37:15,189 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:37:15,190 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:37:15,190 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:37:15,190 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:37:15,190 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:37:15,191 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:37:15,191 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:37:15,191 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:37:15,482 uvicorn.error INFO Started server process [22568]
2025-07-13 23:37:15,482 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:37:15,484 uvicorn.error INFO Application startup complete.
2025-07-13 23:37:16,489 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:37:16,491 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:37:16,491 sqlalchemy.engine.Engine INFO [generated in 0.00040s] ('\nhi', 'user', 11)
2025-07-13 23:37:16,498 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:37:16,540 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:37:16,543 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:37:16,543 sqlalchemy.engine.Engine INFO [generated in 0.00046s] (39,)
2025-07-13 23:37:16,544 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:37:16,546 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:37:16,547 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:37:16,548 sqlalchemy.engine.Engine INFO [generated in 0.00044s] (11,)
2025-07-13 23:37:16,549 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:37:16,550 sqlalchemy.engine.Engine INFO [generated in 0.00049s] (11, 1, 0)
2025-07-13 23:37:16,554 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:37:16,554 sqlalchemy.engine.Engine INFO [generated in 0.00064s] (11,)
2025-07-13 23:37:16,556 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:37:16,556 sqlalchemy.engine.Engine INFO [cached since 0.006333s ago] (11, 1, 0)
2025-07-13 23:37:16,557 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:37:16,557 sqlalchemy.engine.Engine INFO [cached since 0.004324s ago] (11,)
2025-07-13 23:37:16,559 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:37:16,637 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:37:16,836 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001B7D78EA600>
2025-07-13 23:37:16,836 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:37:16,837 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:37:16,837 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:37:16,837 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:37:16,837 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:37:17,530 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 18:07:17 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:37:17,530 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:37:17,530 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:37:21,505 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:37:21,505 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:37:21,505 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:37:21,506 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:37:21,506 sqlalchemy.engine.Engine INFO [cached since 5.015s ago] ("Hi there! \U0001f44b How can I help you today? \U0001f60a \n\nIs there anything you'd like to talk about, or a question you have? I'm ready to chat! \u2728\n\n\n\n", 'assistant', 11)
2025-07-13 23:37:21,509 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:37:21,517 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:37:21,517 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:37:21,518 sqlalchemy.engine.Engine INFO [cached since 4.975s ago] (40,)
2025-07-13 23:37:21,582 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:37:29,593 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:37:29,593 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:37:29,593 sqlalchemy.engine.Engine INFO [cached since 13.05s ago] (11,)
2025-07-13 23:37:29,595 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:37:29,596 sqlalchemy.engine.Engine INFO [cached since 13.04s ago] (11,)
2025-07-13 23:37:29,597 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:37:29,597 sqlalchemy.engine.Engine INFO [cached since 13.04s ago] (11,)
2025-07-13 23:37:29,597 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 17:50:47,523 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain')}
2025-07-14 17:51:02,647 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\file.py')}
2025-07-14 17:51:02,648 uvicorn.error WARNING WatchFiles detected changes in 'langchain\file.py'. Reloading...
2025-07-14 17:51:02,671 uvicorn.error INFO Shutting down
2025-07-14 17:51:02,780 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 17:51:02,783 uvicorn.error INFO Application shutdown complete.
2025-07-14 17:51:02,785 uvicorn.error INFO Finished server process [22568]
2025-07-14 17:51:03,426 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain')}
2025-07-14 17:51:09,611 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 17:51:09,612 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 17:51:09,612 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 17:51:09,613 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 17:51:09,613 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 17:51:09,614 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 17:51:09,614 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 17:51:09,614 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 17:51:09,902 uvicorn.error INFO Started server process [5368]
2025-07-14 17:51:09,905 uvicorn.error INFO Waiting for application startup.
2025-07-14 17:51:09,906 uvicorn.error INFO Application startup complete.
2025-07-14 18:13:04,695 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:13:04,697 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:13:04,698 sqlalchemy.engine.Engine INFO [generated in 0.00047s] ()
2025-07-14 18:13:04,701 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:13:04,703 sqlalchemy.engine.Engine INFO [generated in 0.00065s] (1,)
2025-07-14 18:13:04,706 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:13:04,711 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:13:04,712 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:13:04,712 sqlalchemy.engine.Engine INFO [cached since 0.0147s ago] ()
2025-07-14 18:13:04,714 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:13:04,714 sqlalchemy.engine.Engine INFO [cached since 0.01253s ago] (1,)
2025-07-14 18:13:04,716 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:15:35,959 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:15:35,960 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:15:35,960 sqlalchemy.engine.Engine INFO [cached since 151.3s ago] ()
2025-07-14 18:15:35,961 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:15:35,961 sqlalchemy.engine.Engine INFO [cached since 151.3s ago] (1,)
2025-07-14 18:15:35,963 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:15:48,632 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:15:48,633 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:15:48,633 sqlalchemy.engine.Engine INFO [cached since 163.9s ago] ()
2025-07-14 18:15:48,635 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:15:48,635 sqlalchemy.engine.Engine INFO [cached since 163.9s ago] (1,)
2025-07-14 18:15:48,636 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:15:51,045 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:15:51,046 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:15:51,046 sqlalchemy.engine.Engine INFO [cached since 166.3s ago] ()
2025-07-14 18:15:51,048 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:15:51,048 sqlalchemy.engine.Engine INFO [cached since 166.3s ago] (1,)
2025-07-14 18:15:51,049 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:16:25,529 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:16:25,530 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:16:25,530 sqlalchemy.engine.Engine INFO [cached since 200.8s ago] ()
2025-07-14 18:16:25,531 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:16:25,532 sqlalchemy.engine.Engine INFO [cached since 200.8s ago] (1,)
2025-07-14 18:16:25,533 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:16:30,422 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:16:30,425 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:16:30,425 sqlalchemy.engine.Engine INFO [cached since 205.7s ago] ()
2025-07-14 18:16:30,429 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:16:30,429 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:16:30,429 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:16:30,430 sqlalchemy.engine.Engine INFO [cached since 205.7s ago] (1,)
2025-07-14 18:16:30,430 sqlalchemy.engine.Engine INFO [cached since 205.7s ago] ()
2025-07-14 18:16:30,434 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:16:30,436 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:16:30,437 sqlalchemy.engine.Engine INFO [cached since 205.7s ago] (1,)
2025-07-14 18:16:30,442 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:17:11,419 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:17:11,421 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:17:11,421 sqlalchemy.engine.Engine INFO [cached since 246.7s ago] ()
2025-07-14 18:17:11,423 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:17:11,423 sqlalchemy.engine.Engine INFO [cached since 246.7s ago] (1,)
2025-07-14 18:17:11,425 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:17:41,758 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:17:41,758 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:17:41,759 sqlalchemy.engine.Engine INFO [cached since 277.1s ago] ()
2025-07-14 18:17:41,763 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:17:41,763 sqlalchemy.engine.Engine INFO [cached since 277.1s ago] (1,)
2025-07-14 18:17:41,765 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:17:41,770 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:17:41,770 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:17:41,771 sqlalchemy.engine.Engine INFO [cached since 277.1s ago] ()
2025-07-14 18:17:41,772 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:17:41,772 sqlalchemy.engine.Engine INFO [cached since 277.1s ago] (1,)
2025-07-14 18:17:41,774 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:20:19,001 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:20:19,002 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:20:19,002 sqlalchemy.engine.Engine INFO [cached since 434.3s ago] ()
2025-07-14 18:20:19,004 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:20:19,004 sqlalchemy.engine.Engine INFO [cached since 434.3s ago] (1,)
2025-07-14 18:20:19,005 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:20:33,258 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:20:33,259 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:20:33,259 sqlalchemy.engine.Engine INFO [cached since 448.6s ago] ()
2025-07-14 18:20:33,261 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:20:33,261 sqlalchemy.engine.Engine INFO [cached since 448.6s ago] (1,)
2025-07-14 18:20:33,263 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:20:37,351 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:20:37,351 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:20:37,352 sqlalchemy.engine.Engine INFO [cached since 452.7s ago] ()
2025-07-14 18:20:37,355 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:20:37,355 sqlalchemy.engine.Engine INFO [cached since 452.7s ago] (1,)
2025-07-14 18:20:37,357 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:20:37,366 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:20:37,367 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:20:37,367 sqlalchemy.engine.Engine INFO [cached since 452.7s ago] ()
2025-07-14 18:20:37,369 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:20:37,370 sqlalchemy.engine.Engine INFO [cached since 452.7s ago] (1,)
2025-07-14 18:20:37,372 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:21:42,875 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:21:42,877 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:21:42,878 sqlalchemy.engine.Engine INFO [cached since 518.2s ago] ()
2025-07-14 18:21:42,880 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:21:42,880 sqlalchemy.engine.Engine INFO [cached since 518.2s ago] (1,)
2025-07-14 18:21:42,881 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:21:42,886 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:21:42,886 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:21:42,886 sqlalchemy.engine.Engine INFO [cached since 518.2s ago] ()
2025-07-14 18:21:42,889 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:21:42,889 sqlalchemy.engine.Engine INFO [cached since 518.2s ago] (1,)
2025-07-14 18:21:42,890 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:23:30,002 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:23:30,003 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:23:30,003 sqlalchemy.engine.Engine INFO [cached since 625.3s ago] ()
2025-07-14 18:23:30,004 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:23:30,005 sqlalchemy.engine.Engine INFO [cached since 625.3s ago] (1,)
2025-07-14 18:23:30,006 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:24:24,645 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:24:24,647 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:24:24,647 sqlalchemy.engine.Engine INFO [cached since 679.9s ago] ()
2025-07-14 18:24:24,648 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:24:24,648 sqlalchemy.engine.Engine INFO [cached since 679.9s ago] (1,)
2025-07-14 18:24:24,650 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:37:30,374 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:37:30,374 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:37:30,374 sqlalchemy.engine.Engine INFO [cached since 1466s ago] ()
2025-07-14 18:37:30,375 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:37:30,375 sqlalchemy.engine.Engine INFO [cached since 1466s ago] (1,)
2025-07-14 18:37:30,377 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:38:38,373 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:38:38,373 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:38:38,374 sqlalchemy.engine.Engine INFO [cached since 1534s ago] ()
2025-07-14 18:38:38,374 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:38:38,376 sqlalchemy.engine.Engine INFO [cached since 1534s ago] (1,)
2025-07-14 18:38:38,377 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:38:44,761 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:38:44,762 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:38:44,762 sqlalchemy.engine.Engine INFO [cached since 1540s ago] ()
2025-07-14 18:38:44,764 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:38:44,764 sqlalchemy.engine.Engine INFO [cached since 1540s ago] (1,)
2025-07-14 18:38:44,765 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:38:44,772 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:38:44,773 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:38:44,773 sqlalchemy.engine.Engine INFO [cached since 1540s ago] ()
2025-07-14 18:38:44,774 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:38:44,774 sqlalchemy.engine.Engine INFO [cached since 1540s ago] (1,)
2025-07-14 18:38:44,776 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:38:57,237 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:38:57,240 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:38:57,242 sqlalchemy.engine.Engine INFO [generated in 0.00075s] ('hello', 'user', 11)
2025-07-14 18:38:57,246 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:38:57,257 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:38:57,260 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:38:57,261 sqlalchemy.engine.Engine INFO [generated in 0.00130s] (41,)
2025-07-14 18:38:57,264 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:38:57,268 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:38:57,269 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 18:38:57,269 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (11,)
2025-07-14 18:38:57,271 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:38:57,271 sqlalchemy.engine.Engine INFO [generated in 0.00055s] (11, 1, 0)
2025-07-14 18:38:57,274 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:38:57,274 sqlalchemy.engine.Engine INFO [generated in 0.00058s] (11,)
2025-07-14 18:38:57,276 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:38:57,276 sqlalchemy.engine.Engine INFO [cached since 0.00489s ago] (11, 1, 0)
2025-07-14 18:38:57,278 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:38:57,279 sqlalchemy.engine.Engine INFO [cached since 0.005132s ago] (11,)
2025-07-14 18:38:57,281 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 18:38:57,320 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:38:57,528 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002143124F800>
2025-07-14 18:38:57,528 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 18:38:57,528 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 18:38:57,529 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 18:38:57,529 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 18:38:57,529 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 18:39:17,553 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-07-14 18:39:17,553 httpcore.http11 DEBUG response_closed.started
2025-07-14 18:39:17,554 httpcore.http11 DEBUG response_closed.complete
2025-07-14 18:39:17,559 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 50, in call_ollama_api
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1583, in stream
    response = await self.send(
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout
2025-07-14 18:39:44,046 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:39:44,048 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 18:39:44,048 sqlalchemy.engine.Engine INFO [generated in 0.00103s] ('hi', 'chat', 'gemma3n:latest', 0.0, 1)
2025-07-14 18:39:44,050 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:39:44,059 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:39:44,059 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:39:44,061 sqlalchemy.engine.Engine INFO [generated in 0.00035s] (12,)
2025-07-14 18:39:44,062 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:39:44,062 sqlalchemy.engine.Engine INFO [cached since 1599s ago] (1,)
2025-07-14 18:39:44,063 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:39:44,153 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:40:24,396 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:40:24,397 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:40:24,397 sqlalchemy.engine.Engine INFO [cached since 1640s ago] ()
2025-07-14 18:40:24,398 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:40:24,398 sqlalchemy.engine.Engine INFO [cached since 1640s ago] (1,)
2025-07-14 18:40:24,399 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:40:50,829 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:40:50,832 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:40:50,835 sqlalchemy.engine.Engine INFO [cached since 1666s ago] ()
2025-07-14 18:40:50,838 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:40:50,844 sqlalchemy.engine.Engine INFO [cached since 1666s ago] (1,)
2025-07-14 18:40:50,848 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:40:50,860 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:40:50,861 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:40:50,862 sqlalchemy.engine.Engine INFO [cached since 1666s ago] ()
2025-07-14 18:40:50,865 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:40:50,865 sqlalchemy.engine.Engine INFO [cached since 1666s ago] (1,)
2025-07-14 18:40:50,867 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:40:55,297 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:40:55,297 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:40:55,298 sqlalchemy.engine.Engine INFO [cached since 118.1s ago] ('hi', 'user', 11)
2025-07-14 18:40:55,302 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:40:55,310 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:40:55,310 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:40:55,310 sqlalchemy.engine.Engine INFO [cached since 118.1s ago] (42,)
2025-07-14 18:40:55,312 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:40:55,314 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:40:55,315 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 18:40:55,315 sqlalchemy.engine.Engine INFO [cached since 118s ago] (11,)
2025-07-14 18:40:55,317 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:40:55,317 sqlalchemy.engine.Engine INFO [cached since 118s ago] (11, 1, 0)
2025-07-14 18:40:55,318 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:40:55,318 sqlalchemy.engine.Engine INFO [cached since 118s ago] (11,)
2025-07-14 18:40:55,319 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:40:55,321 sqlalchemy.engine.Engine INFO [cached since 118s ago] (11, 1, 0)
2025-07-14 18:40:55,322 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:40:55,322 sqlalchemy.engine.Engine INFO [cached since 118s ago] (11,)
2025-07-14 18:40:55,324 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 18:40:55,384 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:40:55,590 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002143130A900>
2025-07-14 18:40:55,591 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 18:40:55,591 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 18:40:55,591 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 18:40:55,591 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 18:40:55,591 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 18:41:10,307 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:11:10 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 18:41:10,308 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 18:41:10,309 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 18:41:14,830 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 18:41:14,830 httpcore.http11 DEBUG response_closed.started
2025-07-14 18:41:14,832 httpcore.http11 DEBUG response_closed.complete
2025-07-14 18:41:14,833 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:41:14,833 sqlalchemy.engine.Engine INFO [cached since 137.6s ago] ('Hello to you too! \U0001f60a  It\'s nice to "meet" you.  How are you doing today?  Is there anything on your mind?  Let me know! \u2728\n\n\n\n', 'assistant', 11)
2025-07-14 18:41:14,836 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:41:14,845 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:41:14,846 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:41:14,847 sqlalchemy.engine.Engine INFO [cached since 137.6s ago] (43,)
2025-07-14 18:41:14,900 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:42:58,415 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:42:58,415 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:42:58,415 sqlalchemy.engine.Engine INFO [cached since 1794s ago] ()
2025-07-14 18:42:58,417 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:42:58,417 sqlalchemy.engine.Engine INFO [cached since 1794s ago] (1,)
2025-07-14 18:42:58,418 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:43:12,906 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:12,906 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:43:12,907 sqlalchemy.engine.Engine INFO [cached since 1808s ago] ()
2025-07-14 18:43:12,912 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:43:12,914 sqlalchemy.engine.Engine INFO [cached since 1808s ago] (1,)
2025-07-14 18:43:12,915 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:43:12,922 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:12,923 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:43:12,923 sqlalchemy.engine.Engine INFO [cached since 1808s ago] ()
2025-07-14 18:43:12,924 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:43:12,926 sqlalchemy.engine.Engine INFO [cached since 1808s ago] (1,)
2025-07-14 18:43:12,927 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:43:16,924 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:16,924 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 18:43:16,925 sqlalchemy.engine.Engine INFO [cached since 212.9s ago] ('hello', 'chat', 'gemma3n:latest', 0.0, 2)
2025-07-14 18:43:16,928 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:43:16,937 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:16,938 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:43:16,938 sqlalchemy.engine.Engine INFO [cached since 212.9s ago] (13,)
2025-07-14 18:43:16,941 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:43:16,941 sqlalchemy.engine.Engine INFO [cached since 1812s ago] (2,)
2025-07-14 18:43:16,942 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:43:17,002 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:43:17,089 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:17,089 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:43:17,089 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] ('hello', 'user', 11)
2025-07-14 18:43:17,092 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:43:17,101 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:17,102 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:43:17,102 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] (44,)
2025-07-14 18:43:17,104 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:43:17,106 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:17,107 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 18:43:17,107 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] (11,)
2025-07-14 18:43:17,108 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:43:17,108 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] (11, 1, 0)
2025-07-14 18:43:17,110 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:43:17,111 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] (11,)
2025-07-14 18:43:17,112 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:43:17,112 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] (11, 1, 0)
2025-07-14 18:43:17,113 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:43:17,113 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] (11,)
2025-07-14 18:43:17,114 httpcore.connection DEBUG close.started
2025-07-14 18:43:17,116 httpcore.connection DEBUG close.complete
2025-07-14 18:43:17,116 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 18:43:17,358 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:43:17,370 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002143141FB90>
2025-07-14 18:43:17,370 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 18:43:17,371 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 18:43:17,371 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 18:43:17,371 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 18:43:17,371 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 18:43:20,276 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:13:20 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 18:43:20,276 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 18:43:20,276 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 18:43:23,098 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 18:43:23,098 httpcore.http11 DEBUG response_closed.started
2025-07-14 18:43:23,098 httpcore.http11 DEBUG response_closed.complete
2025-07-14 18:43:23,099 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:43:23,099 sqlalchemy.engine.Engine INFO [cached since 265.9s ago] ("Hi! \U0001f44b How can I help you today?  Just let me know what you're looking for! \U0001f60a\n\n\n\n", 'assistant', 11)
2025-07-14 18:43:23,103 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:43:23,111 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:23,112 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:43:23,112 sqlalchemy.engine.Engine INFO [cached since 265.9s ago] (45,)
2025-07-14 18:43:23,166 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:44:34,261 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:44:34,261 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:44:34,262 sqlalchemy.engine.Engine INFO [cached since 1890s ago] ()
2025-07-14 18:44:34,263 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:44:34,264 sqlalchemy.engine.Engine INFO [cached since 1890s ago] (1,)
2025-07-14 18:44:34,265 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:44:34,265 sqlalchemy.engine.Engine INFO [cached since 1890s ago] (2,)
2025-07-14 18:44:34,266 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:45:53,693 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-14 18:45:53,695 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-14 18:45:53,770 uvicorn.error INFO Shutting down
2025-07-14 18:45:53,879 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 18:45:53,881 uvicorn.error INFO Application shutdown complete.
2025-07-14 18:45:53,882 uvicorn.error INFO Finished server process [5368]
2025-07-14 18:45:55,593 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:45:55,593 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 18:45:55,593 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:45:55,594 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 18:45:55,594 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:45:55,595 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 18:45:55,595 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:45:55,595 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:45:55,686 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2034626578448'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2034626578448')}
2025-07-14 18:45:55,880 uvicorn.error INFO Started server process [32652]
2025-07-14 18:45:55,881 uvicorn.error INFO Waiting for application startup.
2025-07-14 18:45:55,882 uvicorn.error INFO Application startup complete.
2025-07-14 18:47:30,086 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-14 18:47:30,087 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-14 18:47:30,124 uvicorn.error INFO Shutting down
2025-07-14 18:47:30,235 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 18:47:30,236 uvicorn.error INFO Application shutdown complete.
2025-07-14 18:47:30,237 uvicorn.error INFO Finished server process [32652]
2025-07-14 18:47:31,898 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:47:31,898 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 18:47:31,899 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:47:31,899 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 18:47:31,900 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:47:31,900 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 18:47:31,900 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:47:31,901 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:47:31,960 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2397188507664'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2397188507664'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-14 18:47:32,230 uvicorn.error INFO Started server process [31676]
2025-07-14 18:47:32,231 uvicorn.error INFO Waiting for application startup.
2025-07-14 18:47:32,232 uvicorn.error INFO Application startup complete.
2025-07-14 18:47:51,701 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:47:51,704 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session, user 
WHERE user.id = ?
2025-07-14 18:47:51,704 sqlalchemy.engine.Engine INFO [generated in 0.00046s] (2,)
2025-07-14 18:47:51,705 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:48:04,367 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:48:04,368 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session, user 
WHERE user.id = ?
2025-07-14 18:48:04,368 sqlalchemy.engine.Engine INFO [cached since 12.66s ago] (1,)
2025-07-14 18:48:04,374 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:04,374 sqlalchemy.engine.Engine INFO [generated in 0.00083s] (1,)
2025-07-14 18:48:04,376 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:04,376 sqlalchemy.engine.Engine INFO [cached since 0.003606s ago] (2,)
2025-07-14 18:48:04,378 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:48:33,402 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:48:33,403 sqlalchemy.engine.Engine INFO INSERT INTO user (name, email) VALUES (?, ?)
2025-07-14 18:48:33,404 sqlalchemy.engine.Engine INFO [generated in 0.00041s] ('rahul', 'rahu')
2025-07-14 18:48:33,407 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:48:33,417 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:48:33,418 sqlalchemy.engine.Engine INFO SELECT user.id, user.name, user.email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:33,419 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (2,)
2025-07-14 18:48:33,420 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:48:33,483 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:48:41,382 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:48:41,383 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session, user 
WHERE user.id = ?
2025-07-14 18:48:41,383 sqlalchemy.engine.Engine INFO [cached since 49.68s ago] (2,)
2025-07-14 18:48:41,385 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:41,385 sqlalchemy.engine.Engine INFO [cached since 37.01s ago] (1,)
2025-07-14 18:48:41,387 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:41,387 sqlalchemy.engine.Engine INFO [cached since 37.01s ago] (2,)
2025-07-14 18:48:41,389 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:48:46,816 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:48:46,817 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session, user 
WHERE user.id = ?
2025-07-14 18:48:46,817 sqlalchemy.engine.Engine INFO [cached since 55.11s ago] (2,)
2025-07-14 18:48:46,819 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:46,819 sqlalchemy.engine.Engine INFO [cached since 42.45s ago] (1,)
2025-07-14 18:48:46,820 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:46,821 sqlalchemy.engine.Engine INFO [cached since 42.45s ago] (2,)
2025-07-14 18:48:46,822 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:48:46,829 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:48:46,829 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session, user 
WHERE user.id = ?
2025-07-14 18:48:46,831 sqlalchemy.engine.Engine INFO [cached since 55.13s ago] (2,)
2025-07-14 18:48:46,832 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:46,832 sqlalchemy.engine.Engine INFO [cached since 42.46s ago] (1,)
2025-07-14 18:48:46,833 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:46,833 sqlalchemy.engine.Engine INFO [cached since 42.46s ago] (2,)
2025-07-14 18:48:46,834 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:49:28,517 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-14 18:49:28,518 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-14 18:49:28,569 uvicorn.error INFO Shutting down
2025-07-14 18:49:28,678 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 18:49:28,680 uvicorn.error INFO Application shutdown complete.
2025-07-14 18:49:28,680 uvicorn.error INFO Finished server process [31676]
2025-07-14 18:49:30,020 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.1784886349088'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.1784886349088')}
2025-07-14 18:49:30,267 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:49:30,267 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 18:49:30,267 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:49:30,268 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 18:49:30,268 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:49:30,269 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 18:49:30,270 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:49:30,270 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:49:30,553 uvicorn.error INFO Started server process [4848]
2025-07-14 18:49:30,554 uvicorn.error INFO Waiting for application startup.
2025-07-14 18:49:30,555 uvicorn.error INFO Application startup complete.
2025-07-14 18:51:13,890 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-14 18:51:13,890 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-14 18:51:13,914 uvicorn.error INFO Shutting down
2025-07-14 18:51:14,023 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 18:51:14,025 uvicorn.error INFO Application shutdown complete.
2025-07-14 18:51:14,026 uvicorn.error INFO Finished server process [4848]
2025-07-14 18:51:15,617 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:51:15,618 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 18:51:15,618 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:51:15,619 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 18:51:15,619 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:51:15,619 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 18:51:15,621 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:51:15,621 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:51:15,716 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2513698932752'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2513698932752'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-14 18:51:15,914 uvicorn.error INFO Started server process [9600]
2025-07-14 18:51:15,915 uvicorn.error INFO Waiting for application startup.
2025-07-14 18:51:15,917 uvicorn.error INFO Application startup complete.
2025-07-14 18:51:19,426 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:51:19,428 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 18:51:19,428 sqlalchemy.engine.Engine INFO [generated in 0.00038s] (2,)
2025-07-14 18:51:19,431 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:51:19,431 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (2,)
2025-07-14 18:51:19,433 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:51:19,437 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:51:19,439 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 18:51:19,439 sqlalchemy.engine.Engine INFO [cached since 0.01076s ago] (2,)
2025-07-14 18:51:19,441 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:51:19,441 sqlalchemy.engine.Engine INFO [cached since 0.009924s ago] (2,)
2025-07-14 18:51:19,442 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:51:41,703 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:51:41,703 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 18:51:41,704 sqlalchemy.engine.Engine INFO [cached since 22.28s ago] (2,)
2025-07-14 18:51:41,704 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:51:41,705 sqlalchemy.engine.Engine INFO [cached since 22.27s ago] (2,)
2025-07-14 18:51:41,705 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:51:41,715 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:51:41,715 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 18:51:41,716 sqlalchemy.engine.Engine INFO [cached since 22.29s ago] (2,)
2025-07-14 18:51:41,718 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:51:41,718 sqlalchemy.engine.Engine INFO [cached since 22.29s ago] (2,)
2025-07-14 18:51:41,719 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:52:10,139 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:52:10,141 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 18:52:10,142 sqlalchemy.engine.Engine INFO [generated in 0.00052s] ('what is fastapi', 'chat', 'gemma3n:latest', 0.0, 2)
2025-07-14 18:52:10,145 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:52:10,154 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:52:10,155 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:52:10,155 sqlalchemy.engine.Engine INFO [generated in 0.00048s] (14,)
2025-07-14 18:52:10,157 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:52:10,157 sqlalchemy.engine.Engine INFO [cached since 50.73s ago] (2,)
2025-07-14 18:52:10,158 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:52:10,247 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:52:10,294 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:52:10,295 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:52:10,296 sqlalchemy.engine.Engine INFO [generated in 0.00035s] ('what is fastapi', 'user', 11)
2025-07-14 18:52:10,298 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:52:10,307 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:52:10,309 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:52:10,310 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (46,)
2025-07-14 18:52:10,311 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:52:10,313 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:52:10,314 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 18:52:10,314 sqlalchemy.engine.Engine INFO [generated in 0.00040s] (11,)
2025-07-14 18:52:10,316 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:52:10,317 sqlalchemy.engine.Engine INFO [generated in 0.00058s] (11, 1, 0)
2025-07-14 18:52:10,318 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:52:10,319 sqlalchemy.engine.Engine INFO [generated in 0.00048s] (11,)
2025-07-14 18:52:10,320 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:52:10,321 sqlalchemy.engine.Engine INFO [cached since 0.004469s ago] (11, 1, 0)
2025-07-14 18:52:10,322 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:52:10,322 sqlalchemy.engine.Engine INFO [cached since 0.003615s ago] (11,)
2025-07-14 18:52:10,323 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 18:52:10,587 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000024944311C40>
2025-07-14 18:52:10,587 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 18:52:10,587 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 18:52:10,588 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 18:52:10,588 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 18:52:10,588 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 18:52:10,608 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:52:28,833 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:22:28 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 18:52:28,833 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 18:52:28,834 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 18:53:37,971 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 18:53:37,972 httpcore.http11 DEBUG response_closed.started
2025-07-14 18:53:37,972 httpcore.http11 DEBUG response_closed.complete
2025-07-14 18:53:37,972 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:53:37,973 sqlalchemy.engine.Engine INFO [cached since 87.68s ago] ("Okay, let's break down what FastAPI is!\n\n**FastAPI is a modern, fast (high-performance), web framework for building APIs with Python 3.7+ based on  ... (2300 characters truncated) ... ave any specific questions about FastAPI?  For example, are you wondering how to get started, or what it's used for?  I'm happy to elaborate!\n\n\n\n", 'assistant', 11)
2025-07-14 18:53:37,977 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:53:37,986 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:53:37,987 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:53:37,987 sqlalchemy.engine.Engine INFO [cached since 87.68s ago] (47,)
2025-07-14 18:53:38,036 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:14:58,004 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:14:58,005 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:14:58,005 sqlalchemy.engine.Engine INFO [cached since 1419s ago] (2,)
2025-07-14 19:14:58,007 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:14:58,007 sqlalchemy.engine.Engine INFO [cached since 1419s ago] (2,)
2025-07-14 19:14:58,008 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:16:30,648 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:16:30,650 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:16:30,650 sqlalchemy.engine.Engine INFO [cached since 1511s ago] (2,)
2025-07-14 19:16:30,652 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:16:30,652 sqlalchemy.engine.Engine INFO [cached since 1511s ago] (2,)
2025-07-14 19:16:30,654 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:16:47,285 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:16:47,285 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 19:16:47,285 sqlalchemy.engine.Engine INFO [cached since 1477s ago] ('\nmy name is rahul ', 'chat', 'gemma3n:latest', 0.0, 2)
2025-07-14 19:16:47,288 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:16:47,297 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:16:47,297 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:16:47,299 sqlalchemy.engine.Engine INFO [cached since 1477s ago] (15,)
2025-07-14 19:16:47,300 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:16:47,301 sqlalchemy.engine.Engine INFO [cached since 1528s ago] (2,)
2025-07-14 19:16:47,301 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:16:47,357 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:16:47,429 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:16:47,429 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:16:47,429 sqlalchemy.engine.Engine INFO [cached since 1477s ago] ('\nmy name is rahul ', 'user', -1)
2025-07-14 19:16:47,432 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:16:47,440 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:16:47,441 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:16:47,441 sqlalchemy.engine.Engine INFO [cached since 1477s ago] (48,)
2025-07-14 19:16:47,442 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:16:47,445 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:16:47,445 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:16:47,445 sqlalchemy.engine.Engine INFO [cached since 1477s ago] (-1,)
2025-07-14 19:16:47,446 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:16:47,447 sqlalchemy.engine.Engine INFO [cached since 1477s ago] (-1, 1, 0)
2025-07-14 19:16:47,447 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:16:47,449 sqlalchemy.engine.Engine INFO [cached since 1477s ago] (-1,)
2025-07-14 19:16:47,467 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 44, in call_ollama_api
    |     "temperature": chats[0].owner.temperature,
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'NoneType' object has no attribute 'temperature'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 44, in call_ollama_api
    "temperature": chats[0].owner.temperature,
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'temperature'
2025-07-14 19:16:47,710 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:18:22,236 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:22,238 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:18:22,238 sqlalchemy.engine.Engine INFO [cached since 1623s ago] (2,)
2025-07-14 19:18:22,240 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:18:22,240 sqlalchemy.engine.Engine INFO [cached since 1623s ago] (2,)
2025-07-14 19:18:22,241 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:18:25,728 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:25,729 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:18:25,729 sqlalchemy.engine.Engine INFO [cached since 1626s ago] (2,)
2025-07-14 19:18:25,730 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:18:25,730 sqlalchemy.engine.Engine INFO [cached since 1626s ago] (2,)
2025-07-14 19:18:25,731 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:18:25,738 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:25,738 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:18:25,739 sqlalchemy.engine.Engine INFO [cached since 1626s ago] (2,)
2025-07-14 19:18:25,740 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:18:25,740 sqlalchemy.engine.Engine INFO [cached since 1626s ago] (2,)
2025-07-14 19:18:25,742 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:18:38,290 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:38,290 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 19:18:38,291 sqlalchemy.engine.Engine INFO [cached since 1588s ago] ('hello ', 'chat', 'gemma3n:latest', 0.0, 2)
2025-07-14 19:18:38,294 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:18:38,302 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:38,303 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:18:38,303 sqlalchemy.engine.Engine INFO [cached since 1588s ago] (16,)
2025-07-14 19:18:38,306 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:18:38,306 sqlalchemy.engine.Engine INFO [cached since 1639s ago] (2,)
2025-07-14 19:18:38,307 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:18:38,381 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:18:38,416 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:38,416 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:18:38,416 sqlalchemy.engine.Engine INFO [cached since 1588s ago] ('hello ', 'user', -1)
2025-07-14 19:18:38,419 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:18:38,427 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:38,427 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:18:38,429 sqlalchemy.engine.Engine INFO [cached since 1588s ago] (49,)
2025-07-14 19:18:38,430 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:18:38,433 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:38,433 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:18:38,433 sqlalchemy.engine.Engine INFO [cached since 1588s ago] (-1,)
2025-07-14 19:18:38,434 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:18:38,434 sqlalchemy.engine.Engine INFO [cached since 1588s ago] (-1, 1, 0)
2025-07-14 19:18:38,435 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:18:38,435 sqlalchemy.engine.Engine INFO [cached since 1588s ago] (-1,)
2025-07-14 19:18:38,436 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 44, in call_ollama_api
    |     "temperature": chats[0].owner.temperature,
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'NoneType' object has no attribute 'temperature'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 44, in call_ollama_api
    "temperature": chats[0].owner.temperature,
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'temperature'
2025-07-14 19:18:38,735 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:20:06,832 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:06,833 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:20:06,833 sqlalchemy.engine.Engine INFO [cached since 1727s ago] (2,)
2025-07-14 19:20:06,834 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:20:06,835 sqlalchemy.engine.Engine INFO [cached since 1727s ago] (2,)
2025-07-14 19:20:06,837 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:20:17,634 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:17,635 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:20:17,635 sqlalchemy.engine.Engine INFO [cached since 1738s ago] (2,)
2025-07-14 19:20:17,637 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:20:17,637 sqlalchemy.engine.Engine INFO [cached since 1738s ago] (2,)
2025-07-14 19:20:17,639 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:20:24,498 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:24,498 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 19:20:24,499 sqlalchemy.engine.Engine INFO [cached since 1694s ago] ('\nhi', 'chat', 'gemma3n:latest', 0.0, 2)
2025-07-14 19:20:24,502 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:20:24,510 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:24,511 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:20:24,512 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (17,)
2025-07-14 19:20:24,514 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:20:24,514 sqlalchemy.engine.Engine INFO [cached since 1745s ago] (2,)
2025-07-14 19:20:24,515 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:20:24,592 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:20:24,625 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:24,626 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:20:24,626 sqlalchemy.engine.Engine INFO [cached since 1694s ago] ('\nhi', 'user', 17)
2025-07-14 19:20:24,628 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:20:24,637 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:24,637 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:20:24,638 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (50,)
2025-07-14 19:20:24,639 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:20:24,641 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:24,642 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:20:24,642 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (17,)
2025-07-14 19:20:24,643 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:20:24,643 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (17, 1, 0)
2025-07-14 19:20:24,644 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:20:24,645 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (17,)
2025-07-14 19:20:24,646 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:20:24,646 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (17, 1, 0)
2025-07-14 19:20:24,647 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:20:24,647 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (17,)
2025-07-14 19:20:24,648 httpcore.connection DEBUG close.started
2025-07-14 19:20:24,649 httpcore.connection DEBUG close.complete
2025-07-14 19:20:24,649 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:20:24,907 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000249442EAC90>
2025-07-14 19:20:24,908 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:20:24,908 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:20:24,908 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:20:24,908 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:20:24,909 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:20:24,944 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:20:39,574 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:50:39 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:20:39,575 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:20:39,575 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:20:47,968 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:20:47,968 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:20:47,968 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:20:47,969 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:20:47,970 sqlalchemy.engine.Engine INFO [cached since 1718s ago] ("Hi there! \U0001f44b \n\nHow can I help you today?  I'm ready for anything - whether you have a question, want to brainstorm ideas, need help writing something, or just want to chat. \U0001f60a \n\nLet me know what's on your mind!\n\n\n\n", 'assistant', 17)
2025-07-14 19:20:47,976 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:20:47,986 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:47,987 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:20:47,987 sqlalchemy.engine.Engine INFO [cached since 1718s ago] (51,)
2025-07-14 19:20:48,044 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:22:16,000 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:22:16,001 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:22:16,001 sqlalchemy.engine.Engine INFO [cached since 1806s ago] ('\nmy name is rahul ', 'user', 17)
2025-07-14 19:22:16,007 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:22:16,019 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:22:16,019 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:22:16,020 sqlalchemy.engine.Engine INFO [cached since 1806s ago] (52,)
2025-07-14 19:22:16,022 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:22:16,028 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:22:16,031 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:22:16,031 sqlalchemy.engine.Engine INFO [cached since 1806s ago] (17,)
2025-07-14 19:22:16,035 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:22:16,035 sqlalchemy.engine.Engine INFO [cached since 1806s ago] (17, 1, 0)
2025-07-14 19:22:16,036 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:22:16,038 sqlalchemy.engine.Engine INFO [cached since 1806s ago] (17,)
2025-07-14 19:22:16,040 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:22:16,042 sqlalchemy.engine.Engine INFO [cached since 1806s ago] (17, 1, 0)
2025-07-14 19:22:16,044 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:22:16,044 sqlalchemy.engine.Engine INFO [cached since 1806s ago] (17,)
2025-07-14 19:22:16,047 httpcore.connection DEBUG close.started
2025-07-14 19:22:16,047 httpcore.connection DEBUG close.complete
2025-07-14 19:22:16,048 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:22:16,108 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:22:16,299 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000024944253AD0>
2025-07-14 19:22:16,299 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:22:16,300 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:22:16,300 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:22:16,301 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:22:16,301 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:22:23,018 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:52:23 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:22:23,019 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:22:23,019 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:22:36,245 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:22:36,245 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:22:36,245 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:22:36,246 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:22:36,246 sqlalchemy.engine.Engine INFO [cached since 1826s ago] ("Hi Rahul! It's nice to meet you. \U0001f60a \n\nI'm a large language model, and I'm here to assist you with whatever you need. \n\nIs there anything specific  ... (150 characters truncated) ... *Give me a task:** Like writing a story, summarizing something, or brainstorming ideas.\n* **Just chat:**  We can have a casual conversation.\n\n\n\n", 'assistant', 17)
2025-07-14 19:22:36,249 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:22:36,258 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:22:36,259 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:22:36,259 sqlalchemy.engine.Engine INFO [cached since 1826s ago] (53,)
2025-07-14 19:22:36,334 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:25:20,453 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:25:20,455 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:25:20,455 sqlalchemy.engine.Engine INFO [cached since 1990s ago] ('\nwhat is my name ', 'user', 17)
2025-07-14 19:25:20,458 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:25:20,467 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:25:20,468 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:25:20,468 sqlalchemy.engine.Engine INFO [cached since 1990s ago] (54,)
2025-07-14 19:25:20,470 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:25:20,471 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:25:20,473 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:25:20,473 sqlalchemy.engine.Engine INFO [cached since 1990s ago] (17,)
2025-07-14 19:25:20,474 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:25:20,474 sqlalchemy.engine.Engine INFO [cached since 1990s ago] (17, 1, 0)
2025-07-14 19:25:20,475 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:25:20,476 sqlalchemy.engine.Engine INFO [cached since 1990s ago] (17,)
2025-07-14 19:25:20,477 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:25:20,477 sqlalchemy.engine.Engine INFO [cached since 1990s ago] (17, 1, 0)
2025-07-14 19:25:20,478 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:25:20,480 sqlalchemy.engine.Engine INFO [cached since 1990s ago] (17,)
2025-07-14 19:25:20,481 httpcore.connection DEBUG close.started
2025-07-14 19:25:20,481 httpcore.connection DEBUG close.complete
2025-07-14 19:25:20,481 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:25:20,647 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:25:20,751 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002494432D190>
2025-07-14 19:25:20,751 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:25:20,751 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:25:20,752 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:25:20,752 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:25:20,752 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:25:27,563 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:55:27 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:25:27,563 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:25:27,563 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:25:31,507 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:25:31,507 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:25:31,508 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:25:31,508 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:25:31,509 sqlalchemy.engine.Engine INFO [cached since 2001s ago] ('Your name is Rahul! \U0001f60a \n\nI know this because you just told me! \U0001f609 \n\nIs there anything else I can help you with, Rahul?\n\n\n\n', 'assistant', 17)
2025-07-14 19:25:31,511 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:25:31,549 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:25:31,549 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:25:31,550 sqlalchemy.engine.Engine INFO [cached since 2001s ago] (55,)
2025-07-14 19:25:31,620 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:26:16,128 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:16,129 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:26:16,129 sqlalchemy.engine.Engine INFO [cached since 2097s ago] (2,)
2025-07-14 19:26:16,131 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:16,133 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:26:16,134 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:26:16,135 sqlalchemy.engine.Engine INFO [cached since 2097s ago] (2,)
2025-07-14 19:26:16,135 sqlalchemy.engine.Engine INFO [cached since 2097s ago] (2,)
2025-07-14 19:26:16,138 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:26:16,139 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:26:16,139 sqlalchemy.engine.Engine INFO [cached since 2097s ago] (2,)
2025-07-14 19:26:16,143 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:26:26,076 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:26,076 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 19:26:26,076 sqlalchemy.engine.Engine INFO [cached since 2056s ago] ('hi', 'chat', 'gemma3n:latest', 0.0, 2)
2025-07-14 19:26:26,080 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:26:26,089 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:26,089 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:26:26,090 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (18,)
2025-07-14 19:26:26,091 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:26:26,091 sqlalchemy.engine.Engine INFO [cached since 2107s ago] (2,)
2025-07-14 19:26:26,094 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:26:26,145 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:26:26,201 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:26,203 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:26:26,203 sqlalchemy.engine.Engine INFO [cached since 2056s ago] ('hi', 'user', 18)
2025-07-14 19:26:26,204 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:26:26,213 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:26,214 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:26:26,214 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (56,)
2025-07-14 19:26:26,215 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:26:26,217 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:26,218 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:26:26,218 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (18,)
2025-07-14 19:26:26,219 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:26:26,220 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (18, 1, 0)
2025-07-14 19:26:26,220 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:26:26,220 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (18,)
2025-07-14 19:26:26,221 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:26:26,221 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (18, 1, 0)
2025-07-14 19:26:26,222 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:26:26,222 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (18,)
2025-07-14 19:26:26,225 httpcore.connection DEBUG close.started
2025-07-14 19:26:26,225 httpcore.connection DEBUG close.complete
2025-07-14 19:26:26,225 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:26:26,484 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002494432FE60>
2025-07-14 19:26:26,484 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:26:26,484 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:26:26,485 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:26:26,485 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:26:26,485 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:26:26,505 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:26:26,926 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:56:26 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:26:26,926 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:26:26,926 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:26:33,722 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:26:33,722 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:26:33,722 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:26:33,723 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:26:33,723 sqlalchemy.engine.Engine INFO [cached since 2063s ago] ("Hi there! \U0001f44b \n\nHow can I help you today?  I'm ready for anything - whether you have a question, need a creative idea, want to chat, or just want to test me out. \U0001f60a \n\nJust let me know what's on your mind!\n\n\n\n", 'assistant', 18)
2025-07-14 19:26:33,726 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:26:33,735 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:33,735 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:26:33,735 sqlalchemy.engine.Engine INFO [cached since 2063s ago] (57,)
2025-07-14 19:26:33,794 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:26:40,472 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:40,472 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:26:40,473 sqlalchemy.engine.Engine INFO [cached since 2070s ago] ('my name is rahul\n', 'user', 18)
2025-07-14 19:26:40,476 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:26:40,485 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:40,485 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:26:40,485 sqlalchemy.engine.Engine INFO [cached since 2070s ago] (58,)
2025-07-14 19:26:40,487 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:26:40,489 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:40,489 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:26:40,490 sqlalchemy.engine.Engine INFO [cached since 2070s ago] (18,)
2025-07-14 19:26:40,491 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:26:40,491 sqlalchemy.engine.Engine INFO [cached since 2070s ago] (18, 1, 0)
2025-07-14 19:26:40,493 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:26:40,493 sqlalchemy.engine.Engine INFO [cached since 2070s ago] (18,)
2025-07-14 19:26:40,494 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:26:40,494 sqlalchemy.engine.Engine INFO [cached since 2070s ago] (18, 1, 0)
2025-07-14 19:26:40,496 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:26:40,496 sqlalchemy.engine.Engine INFO [cached since 2070s ago] (18,)
2025-07-14 19:26:40,497 httpcore.connection DEBUG close.started
2025-07-14 19:26:40,497 httpcore.connection DEBUG close.complete
2025-07-14 19:26:40,498 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:26:40,548 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:26:40,768 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002494432FD70>
2025-07-14 19:26:40,769 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:26:40,769 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:26:40,769 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:26:40,769 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:26:40,769 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:26:44,571 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:56:44 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:26:44,571 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:26:44,572 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:26:50,552 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:26:50,552 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:26:50,552 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:26:50,554 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:26:50,555 sqlalchemy.engine.Engine INFO [cached since 2080s ago] ("Hi Rahul! It's nice to meet you. \U0001f60a \n\nIt's good to know your name. Is there anything specific you'd like to talk about or anything I can help you with? \n\nJust let me know! \u2728\n\n\n\n", 'assistant', 18)
2025-07-14 19:26:50,558 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:26:50,567 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:50,568 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:26:50,570 sqlalchemy.engine.Engine INFO [cached since 2080s ago] (59,)
2025-07-14 19:26:50,663 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:27:11,366 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:11,367 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:27:11,367 sqlalchemy.engine.Engine INFO [cached since 2101s ago] ('what is my name\n', 'user', 18)
2025-07-14 19:27:11,371 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:27:11,379 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:11,380 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:27:11,381 sqlalchemy.engine.Engine INFO [cached since 2101s ago] (60,)
2025-07-14 19:27:11,382 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:27:11,383 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:11,385 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:27:11,385 sqlalchemy.engine.Engine INFO [cached since 2101s ago] (18,)
2025-07-14 19:27:11,386 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:27:11,386 sqlalchemy.engine.Engine INFO [cached since 2101s ago] (18, 1, 0)
2025-07-14 19:27:11,387 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:27:11,387 sqlalchemy.engine.Engine INFO [cached since 2101s ago] (18,)
2025-07-14 19:27:11,388 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:27:11,389 sqlalchemy.engine.Engine INFO [cached since 2101s ago] (18, 1, 0)
2025-07-14 19:27:11,390 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:27:11,390 sqlalchemy.engine.Engine INFO [cached since 2101s ago] (18,)
2025-07-14 19:27:11,392 httpcore.connection DEBUG close.started
2025-07-14 19:27:11,393 httpcore.connection DEBUG close.complete
2025-07-14 19:27:11,393 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:27:11,464 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:27:11,659 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000024944253A70>
2025-07-14 19:27:11,659 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:27:11,660 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:27:11,660 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:27:11,660 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:27:11,660 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:27:14,958 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:57:14 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:27:14,958 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:27:14,958 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:27:18,931 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:27:18,931 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:27:18,931 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:27:18,932 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:27:18,932 sqlalchemy.engine.Engine INFO [cached since 2109s ago] ("Your name is Rahul! \U0001f60a \n\nI know this because you just told me. \U0001f609 \n\nIs there anything else you'd like to know or talk about?\n\n\n\n", 'assistant', 18)
2025-07-14 19:27:18,934 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:27:18,944 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:18,944 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:27:18,945 sqlalchemy.engine.Engine INFO [cached since 2109s ago] (61,)
2025-07-14 19:27:19,038 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:27:46,356 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:46,357 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:27:46,357 sqlalchemy.engine.Engine INFO [cached since 2187s ago] (2,)
2025-07-14 19:27:46,358 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:27:46,359 sqlalchemy.engine.Engine INFO [cached since 2187s ago] (2,)
2025-07-14 19:27:46,361 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:27:59,202 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:59,202 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:27:59,203 sqlalchemy.engine.Engine INFO [cached since 2200s ago] (2,)
2025-07-14 19:27:59,203 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:59,205 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:27:59,206 sqlalchemy.engine.Engine INFO [cached since 2200s ago] (2,)
2025-07-14 19:27:59,207 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:27:59,207 sqlalchemy.engine.Engine INFO [cached since 2200s ago] (2,)
2025-07-14 19:27:59,208 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:27:59,209 sqlalchemy.engine.Engine INFO [cached since 2200s ago] (2,)
2025-07-14 19:27:59,210 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:27:59,212 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:28:06,690 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:28:06,690 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:28:06,690 sqlalchemy.engine.Engine INFO [cached since 2156s ago] ('hi', 'user', 18)
2025-07-14 19:28:06,694 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:28:06,704 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:28:06,704 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:28:06,705 sqlalchemy.engine.Engine INFO [cached since 2156s ago] (62,)
2025-07-14 19:28:06,706 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:28:06,707 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:28:06,707 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:28:06,708 sqlalchemy.engine.Engine INFO [cached since 2156s ago] (18,)
2025-07-14 19:28:06,710 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:28:06,710 sqlalchemy.engine.Engine INFO [cached since 2156s ago] (18, 1, 0)
2025-07-14 19:28:06,711 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:28:06,711 sqlalchemy.engine.Engine INFO [cached since 2156s ago] (18,)
2025-07-14 19:28:06,712 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:28:06,712 sqlalchemy.engine.Engine INFO [cached since 2156s ago] (18, 1, 0)
2025-07-14 19:28:06,713 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:28:06,714 sqlalchemy.engine.Engine INFO [cached since 2156s ago] (18,)
2025-07-14 19:28:06,716 httpcore.connection DEBUG close.started
2025-07-14 19:28:06,716 httpcore.connection DEBUG close.complete
2025-07-14 19:28:06,716 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:28:06,985 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002494432F800>
2025-07-14 19:28:06,985 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:28:06,986 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:28:06,986 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:28:06,986 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:28:06,986 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:28:07,007 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:28:09,701 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:58:09 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:28:09,701 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:28:09,702 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:28:13,843 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:28:13,843 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:28:13,843 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:28:13,844 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:28:13,844 sqlalchemy.engine.Engine INFO [cached since 2164s ago] ("Hi Rahul! \U0001f44b Great to hear from you again. \U0001f60a \n\nHow are you doing today? Anything interesting happening? Let me know what's on your mind! \u2728\n\n\n\n", 'assistant', 18)
2025-07-14 19:28:13,848 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:28:13,856 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:28:13,858 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:28:13,858 sqlalchemy.engine.Engine INFO [cached since 2164s ago] (63,)
2025-07-14 19:28:13,948 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:31:38,250 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-14 19:31:38,251 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-14 19:31:38,285 uvicorn.error INFO Shutting down
2025-07-14 19:31:38,394 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 19:31:38,395 uvicorn.error INFO Application shutdown complete.
2025-07-14 19:31:38,396 uvicorn.error INFO Finished server process [9600]
2025-07-14 19:31:39,970 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1223062473584'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1223062473584'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-14 19:31:40,304 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:31:40,305 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 19:31:40,305 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 19:31:40,306 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 19:31:40,306 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 19:31:40,306 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 19:31:40,307 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 19:31:40,307 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:31:40,611 uvicorn.error INFO Started server process [19992]
2025-07-14 19:31:40,612 uvicorn.error INFO Waiting for application startup.
2025-07-14 19:31:40,614 uvicorn.error INFO Application startup complete.
2025-07-14 19:31:45,737 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:31:45,740 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:31:45,740 sqlalchemy.engine.Engine INFO [generated in 0.00041s] ('\nhi', 'user', 18)
2025-07-14 19:31:45,741 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:31:45,751 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:31:45,754 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:31:45,754 sqlalchemy.engine.Engine INFO [generated in 0.00037s] (64,)
2025-07-14 19:31:45,755 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:31:45,758 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:31:45,760 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:31:45,760 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (18,)
2025-07-14 19:31:45,762 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:31:45,762 sqlalchemy.engine.Engine INFO [generated in 0.00037s] (18, 1, 0)
2025-07-14 19:31:45,764 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:31:45,764 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (18,)
2025-07-14 19:31:45,765 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:31:45,766 sqlalchemy.engine.Engine INFO [cached since 0.003763s ago] (18, 1, 0)
2025-07-14 19:31:45,767 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:31:45,767 sqlalchemy.engine.Engine INFO [cached since 0.003032s ago] (18,)
2025-07-14 19:31:45,768 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:31:45,822 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:31:46,048 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000011CC44E6A80>
2025-07-14 19:31:46,048 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:31:46,048 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:31:46,049 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:31:46,049 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:31:46,049 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:31:48,850 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 14:01:48 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:31:48,850 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:31:48,851 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:31:52,159 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:31:52,159 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:31:52,159 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:31:52,160 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:31:52,160 sqlalchemy.engine.Engine INFO [cached since 6.421s ago] ('Hi Rahul! \U0001f60a \n\nJust checking in. Is there anything I can help you with right now?  Feel free to ask anything or just chat! \u2728\n\n\n\n', 'assistant', 18)
2025-07-14 19:31:52,164 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:31:52,172 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:31:52,174 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:31:52,174 sqlalchemy.engine.Engine INFO [cached since 6.419s ago] (65,)
2025-07-14 19:31:52,228 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:32:18,089 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-14 19:32:18,089 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-14 19:32:18,103 uvicorn.error INFO Shutting down
2025-07-14 19:32:18,213 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 19:32:18,215 uvicorn.error INFO Application shutdown complete.
2025-07-14 19:32:18,216 uvicorn.error INFO Finished server process [19992]
2025-07-14 19:32:19,520 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2709449362288'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2709449362288')}
2025-07-14 19:32:19,768 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:32:19,769 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 19:32:19,769 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 19:32:19,770 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 19:32:19,771 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 19:32:19,772 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 19:32:19,772 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 19:32:19,772 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:32:20,048 uvicorn.error INFO Started server process [34424]
2025-07-14 19:32:20,050 uvicorn.error INFO Waiting for application startup.
2025-07-14 19:32:20,051 uvicorn.error INFO Application startup complete.

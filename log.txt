2025-07-13 01:22:25,132 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:22:25,133 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:22:25,133 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:22:25,134 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:22:25,134 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:22:25,135 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:22:25,135 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:22:25,135 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:22:25,432 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-13 01:22:25,437 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-13 01:22:25,437 uvicorn.error INFO Started reloader process [10336] using WatchFiles
2025-07-13 01:22:26,469 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:22:26,469 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:22:26,470 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:22:26,470 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:22:26,472 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:22:26,472 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:22:26,472 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:22:26,472 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:22:26,785 uvicorn.error INFO Started server process [18096]
2025-07-13 01:22:26,787 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:22:26,788 uvicorn.error INFO Application startup complete.
2025-07-13 01:23:07,421 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\user.py')}
2025-07-13 01:23:07,422 uvicorn.error WARNING WatchFiles detected changes in 'schema\user.py'. Reloading...
2025-07-13 01:23:07,483 uvicorn.error INFO Shutting down
2025-07-13 01:23:07,591 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 01:23:07,592 uvicorn.error INFO Application shutdown complete.
2025-07-13 01:23:07,593 uvicorn.error INFO Finished server process [18096]
2025-07-13 01:23:08,811 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:23:08,812 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:23:08,813 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:08,813 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:23:08,813 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:08,814 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:23:08,814 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:08,815 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:23:08,872 watchfiles.main DEBUG 6 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc.1218501167840'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\user.py'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc.1218501167840'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc')}
2025-07-13 01:23:08,872 uvicorn.error WARNING WatchFiles detected changes in 'schema\user.py'. Reloading...
2025-07-13 01:23:09,146 uvicorn.error INFO Started server process [12636]
2025-07-13 01:23:09,146 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:23:09,148 uvicorn.error INFO Application startup complete.
2025-07-13 01:23:09,151 uvicorn.error ERROR Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 691, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-07-13 01:23:09,680 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\user.py')}
2025-07-13 01:23:09,680 uvicorn.error WARNING WatchFiles detected changes in 'schema\user.py'. Reloading...
2025-07-13 01:23:10,353 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:23:10,353 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:23:10,354 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:10,355 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:23:10,355 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:10,355 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:23:10,355 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:10,356 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:23:10,670 uvicorn.error INFO Started server process [30204]
2025-07-13 01:23:10,672 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:23:10,673 uvicorn.error INFO Application startup complete.
2025-07-13 01:23:10,678 uvicorn.error ERROR Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 691, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-07-13 01:23:11,210 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc.2918216649440'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc.2918216649440')}
2025-07-13 01:23:11,865 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:23:11,866 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:23:11,866 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:11,867 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:23:11,867 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:11,867 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:23:11,867 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:11,868 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:23:12,176 uvicorn.error INFO Started server process [17428]
2025-07-13 01:23:12,178 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:23:12,179 uvicorn.error INFO Application startup complete.
2025-07-13 01:23:19,491 uvicorn.error INFO Shutting down
2025-07-13 01:23:19,601 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 01:23:19,603 uvicorn.error INFO Application shutdown complete.
2025-07-13 01:23:19,604 uvicorn.error INFO Finished server process [17428]
2025-07-13 01:23:19,746 uvicorn.error INFO Stopping reloader process [10336]
2025-07-13 01:23:21,935 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:23:21,935 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:23:21,936 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:21,937 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:23:21,937 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:21,938 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:23:21,938 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:21,938 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:23:22,254 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-13 01:23:22,256 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-13 01:23:22,256 uvicorn.error INFO Started reloader process [18844] using WatchFiles
2025-07-13 01:23:23,277 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:23:23,278 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:23:23,278 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:23,278 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:23:23,279 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:23,280 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:23:23,280 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:23:23,281 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:23:23,594 uvicorn.error INFO Started server process [18540]
2025-07-13 01:23:23,595 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:23:23,597 uvicorn.error INFO Application startup complete.
2025-07-13 01:23:34,655 root ERROR Error getting db session : Mapper 'Mapper[Users(user)]' has no property 'session'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2025-07-13 01:23:34,657 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2522, in get_property
    return self._props[key]
           ~~~~~~~~~~~^^^^^
KeyError: 'session'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\user.py", line 18, in add_user
    db_user = models.Users(**user.model_dump())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\event\attr.py", line 497, in __call__
    fn(*args, **kw)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4406, in _event_on_init
    instrumenting_mapper._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1661, in do_init
    self._generate_backref()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2145, in _generate_backref
    self._add_reverse_property(self.back_populates)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1592, in _add_reverse_property
    other = self.mapper.get_property(key, _configure_mappers=False)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2524, in get_property
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Mapper 'Mapper[Users(user)]' has no property 'session'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2025-07-13 01:25:42,762 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-13 01:25:42,763 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-13 01:25:42,839 uvicorn.error INFO Shutting down
2025-07-13 01:25:42,947 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 01:25:42,948 uvicorn.error INFO Application shutdown complete.
2025-07-13 01:25:42,949 uvicorn.error INFO Finished server process [18540]
2025-07-13 01:25:43,937 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2261086001968'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2261086001968'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc')}
2025-07-13 01:25:44,171 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:25:44,171 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:25:44,171 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:25:44,172 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:25:44,172 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:25:44,173 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:25:44,173 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:25:44,174 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:25:44,478 uvicorn.error INFO Started server process [3012]
2025-07-13 01:25:44,480 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:25:44,481 uvicorn.error INFO Application startup complete.
2025-07-13 01:25:50,582 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:25:50,583 sqlalchemy.engine.Engine INFO INSERT INTO user (name, email) VALUES (?, ?)
2025-07-13 01:25:50,584 sqlalchemy.engine.Engine INFO [generated in 0.00037s] ('string', 'string')
2025-07-13 01:25:50,587 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:25:50,595 root ERROR Error getting db session : Session.refresh() missing 1 required positional argument: 'instance'
2025-07-13 01:25:50,597 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\user.py", line 21, in add_user
    db.refresh()
TypeError: Session.refresh() missing 1 required positional argument: 'instance'
2025-07-13 01:25:50,694 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 01:26:50,081 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\user.py')}
2025-07-13 01:26:50,082 uvicorn.error WARNING WatchFiles detected changes in 'routes\user.py'. Reloading...
2025-07-13 01:26:50,159 uvicorn.error INFO Shutting down
2025-07-13 01:26:50,270 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 01:26:50,271 uvicorn.error INFO Application shutdown complete.
2025-07-13 01:26:50,272 uvicorn.error INFO Finished server process [3012]
2025-07-13 01:26:51,528 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:26:51,528 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 01:26:51,529 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:26:51,531 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 01:26:51,531 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:26:51,531 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 01:26:51,531 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 01:26:51,532 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:26:51,576 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\user.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\user.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\user.cpython-312.pyc.2522031606208'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\user.cpython-312.pyc.2522031606208')}
2025-07-13 01:26:51,857 uvicorn.error INFO Started server process [23308]
2025-07-13 01:26:51,859 uvicorn.error INFO Waiting for application startup.
2025-07-13 01:26:51,860 uvicorn.error INFO Application startup complete.
2025-07-13 01:26:55,003 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:26:55,005 sqlalchemy.engine.Engine INFO INSERT INTO user (name, email) VALUES (?, ?)
2025-07-13 01:26:55,005 sqlalchemy.engine.Engine INFO [generated in 0.00040s] ('string', 'string')
2025-07-13 01:26:55,006 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 01:26:55,006 root ERROR Error getting db session : (sqlite3.IntegrityError) UNIQUE constraint failed: user.email
[SQL: INSERT INTO user (name, email) VALUES (?, ?)]
[parameters: ('string', 'string')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 01:26:55,008 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: user.email

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\user.py", line 20, in add_user
    db.commit()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: user.email
[SQL: INSERT INTO user (name, email) VALUES (?, ?)]
[parameters: ('string', 'string')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 01:28:00,037 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:28:00,038 sqlalchemy.engine.Engine INFO INSERT INTO user (name, email) VALUES (?, ?)
2025-07-13 01:28:00,039 sqlalchemy.engine.Engine INFO [cached since 65.03s ago] ('string', 'rahu83@')
2025-07-13 01:28:00,042 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 01:28:00,051 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:28:00,053 sqlalchemy.engine.Engine INFO SELECT user.id, user.name, user.email 
FROM user 
WHERE user.id = ?
2025-07-13 01:28:00,053 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (2,)
2025-07-13 01:28:00,056 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 01:28:00,119 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 01:28:17,059 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 01:28:17,061 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user
2025-07-13 01:28:17,062 sqlalchemy.engine.Engine INFO [generated in 0.00056s] ()
2025-07-13 01:28:17,064 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 14:47:33,879 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 14:47:33,879 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 14:47:33,933 uvicorn.error INFO Shutting down
2025-07-13 14:47:34,042 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 14:47:34,044 uvicorn.error INFO Application shutdown complete.
2025-07-13 14:47:34,045 uvicorn.error INFO Finished server process [23308]
2025-07-13 14:47:34,623 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes')}
2025-07-13 14:47:40,463 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 14:47:40,463 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 14:47:40,464 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:40,464 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 14:47:40,464 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:40,465 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 14:47:40,465 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:40,466 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 14:47:41,175 uvicorn.error INFO Started server process [25852]
2025-07-13 14:47:41,176 uvicorn.error INFO Waiting for application startup.
2025-07-13 14:47:41,177 uvicorn.error INFO Application startup complete.
2025-07-13 14:47:43,050 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 14:47:43,050 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 14:47:43,136 uvicorn.error INFO Shutting down
2025-07-13 14:47:43,244 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 14:47:43,245 uvicorn.error INFO Application shutdown complete.
2025-07-13 14:47:43,246 uvicorn.error INFO Finished server process [25852]
2025-07-13 14:47:44,460 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 14:47:44,461 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 14:47:44,461 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:44,462 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 14:47:44,462 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:44,462 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 14:47:44,462 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:44,463 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 14:47:44,787 uvicorn.error INFO Started server process [32012]
2025-07-13 14:47:44,789 uvicorn.error INFO Waiting for application startup.
2025-07-13 14:47:44,791 uvicorn.error INFO Application startup complete.
2025-07-13 14:47:52,262 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 14:47:52,262 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 14:47:52,336 uvicorn.error INFO Shutting down
2025-07-13 14:47:52,444 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 14:47:52,447 uvicorn.error INFO Application shutdown complete.
2025-07-13 14:47:52,448 uvicorn.error INFO Finished server process [32012]
2025-07-13 14:47:52,995 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes')}
2025-07-13 14:47:53,767 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 14:47:53,768 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 14:47:53,768 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:53,769 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 14:47:53,769 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:53,769 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 14:47:53,770 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:47:53,771 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 14:47:54,107 uvicorn.error INFO Started server process [31884]
2025-07-13 14:47:54,108 uvicorn.error INFO Waiting for application startup.
2025-07-13 14:47:54,109 uvicorn.error INFO Application startup complete.
2025-07-13 14:59:58,581 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 14:59:58,581 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 14:59:58,648 uvicorn.error INFO Shutting down
2025-07-13 14:59:58,756 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 14:59:58,758 uvicorn.error INFO Application shutdown complete.
2025-07-13 14:59:58,759 uvicorn.error INFO Finished server process [31884]
2025-07-13 14:59:59,992 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 14:59:59,992 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 14:59:59,992 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:59:59,993 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 14:59:59,993 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:59:59,994 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 14:59:59,994 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 14:59:59,994 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:00:00,324 uvicorn.error INFO Started server process [31968]
2025-07-13 15:00:00,325 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:00:00,327 uvicorn.error INFO Application startup complete.
2025-07-13 15:00:12,198 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:00:12,198 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:00:12,224 uvicorn.error INFO Shutting down
2025-07-13 15:00:12,333 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:00:12,335 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:00:12,336 uvicorn.error INFO Finished server process [31968]
2025-07-13 15:00:13,543 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:00:13,544 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:00:13,544 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:00:13,546 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:00:13,546 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:00:13,546 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:00:13,546 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:00:13,547 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:00:13,905 uvicorn.error INFO Started server process [32100]
2025-07-13 15:00:13,906 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:00:13,908 uvicorn.error INFO Application startup complete.
2025-07-13 15:01:57,380 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 15:01:57,380 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 15:01:57,393 uvicorn.error INFO Shutting down
2025-07-13 15:01:57,503 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:01:57,505 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:01:57,506 uvicorn.error INFO Finished server process [32100]
2025-07-13 15:01:58,700 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:01:58,700 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:01:58,700 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:01:58,701 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:01:58,701 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:01:58,702 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:01:58,703 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:01:58,703 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:01:59,040 uvicorn.error INFO Started server process [20020]
2025-07-13 15:01:59,041 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:01:59,042 uvicorn.error INFO Application startup complete.
2025-07-13 15:02:55,636 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\main.py')}
2025-07-13 15:02:55,636 uvicorn.error WARNING WatchFiles detected changes in 'main.py'. Reloading...
2025-07-13 15:02:55,743 uvicorn.error INFO Shutting down
2025-07-13 15:02:55,851 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:02:55,853 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:02:55,854 uvicorn.error INFO Finished server process [20020]
2025-07-13 15:02:56,484 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__\\main.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__\\main.cpython-312.pyc.1768666339504'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__\\main.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__\\main.cpython-312.pyc.1768666339504')}
2025-07-13 15:02:57,074 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:02:57,075 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:02:57,075 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:02:57,076 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:02:57,076 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:02:57,076 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:02:57,077 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:02:57,078 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:02:57,153 watchfiles.main DEBUG 7 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.1768719469568'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.1768719469568'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1768719469424'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1768719469424'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__')}
2025-07-13 15:02:57,411 uvicorn.error INFO Started server process [12124]
2025-07-13 15:02:57,414 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:02:57,416 uvicorn.error INFO Application startup complete.
2025-07-13 15:08:42,805 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\chat.py')}
2025-07-13 15:08:42,805 uvicorn.error WARNING WatchFiles detected changes in 'schema\chat.py'. Reloading...
2025-07-13 15:08:42,881 uvicorn.error INFO Shutting down
2025-07-13 15:08:42,990 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:08:42,991 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:08:42,993 uvicorn.error INFO Finished server process [12124]
2025-07-13 15:08:43,557 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema')}
2025-07-13 15:08:44,429 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:08:44,430 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:08:44,430 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:08:44,431 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:08:44,431 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:08:44,432 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:08:44,432 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:08:44,432 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:08:44,849 uvicorn.error INFO Started server process [34076]
2025-07-13 15:08:44,851 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:08:44,851 uvicorn.error INFO Application startup complete.
2025-07-13 15:08:49,409 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-13 15:08:49,409 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-13 15:08:49,433 uvicorn.error INFO Shutting down
2025-07-13 15:08:49,543 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:08:49,544 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:08:49,545 uvicorn.error INFO Finished server process [34076]
2025-07-13 15:08:50,079 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema')}
2025-07-13 15:08:50,814 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:08:50,815 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:08:50,815 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:08:50,816 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:08:50,816 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:08:50,816 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:08:50,817 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:08:50,817 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:08:51,160 uvicorn.error INFO Started server process [5240]
2025-07-13 15:08:51,162 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:08:51,163 uvicorn.error INFO Application startup complete.
2025-07-13 15:21:33,457 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-13 15:21:33,457 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-13 15:21:33,541 uvicorn.error INFO Shutting down
2025-07-13 15:21:33,649 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:21:33,650 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:21:33,651 uvicorn.error INFO Finished server process [5240]
2025-07-13 15:21:34,973 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:21:34,973 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:21:34,973 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:21:34,975 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:21:34,975 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:21:34,976 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:21:34,976 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:21:34,976 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:21:35,297 uvicorn.error INFO Started server process [32924]
2025-07-13 15:21:35,300 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:21:35,301 uvicorn.error INFO Application startup complete.
2025-07-13 15:28:50,184 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-13 15:28:50,185 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-13 15:28:50,273 uvicorn.error INFO Shutting down
2025-07-13 15:28:50,383 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:28:50,384 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:28:50,385 uvicorn.error INFO Finished server process [32924]
2025-07-13 15:28:51,617 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:28:51,619 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:28:51,619 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:28:51,620 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:28:51,620 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:28:51,620 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:28:51,620 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:28:51,621 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:28:51,953 uvicorn.error INFO Started server process [31188]
2025-07-13 15:28:51,955 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:28:51,957 uvicorn.error INFO Application startup complete.
2025-07-13 15:29:02,071 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-13 15:29:02,071 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-13 15:29:02,102 uvicorn.error INFO Shutting down
2025-07-13 15:29:02,210 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:29:02,211 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:29:02,213 uvicorn.error INFO Finished server process [31188]
2025-07-13 15:29:03,436 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:29:03,436 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:29:03,436 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:29:03,437 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:29:03,437 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:29:03,437 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:29:03,437 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:29:03,437 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:29:03,771 uvicorn.error INFO Started server process [29476]
2025-07-13 15:29:03,772 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:29:03,774 uvicorn.error INFO Application startup complete.
2025-07-13 15:31:04,778 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\chat.py')}
2025-07-13 15:31:04,779 uvicorn.error WARNING WatchFiles detected changes in 'schema\chat.py'. Reloading...
2025-07-13 15:31:04,841 uvicorn.error INFO Shutting down
2025-07-13 15:31:04,950 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:31:04,952 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:31:04,953 uvicorn.error INFO Finished server process [29476]
2025-07-13 15:31:06,285 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:31:06,285 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:31:06,286 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:31:06,287 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:31:06,287 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:31:06,287 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:31:06,287 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:31:06,288 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:31:06,608 uvicorn.error INFO Started server process [30036]
2025-07-13 15:31:06,609 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:31:06,610 uvicorn.error INFO Application startup complete.
2025-07-13 15:33:32,251 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-13 15:33:32,252 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-13 15:33:32,337 uvicorn.error INFO Shutting down
2025-07-13 15:33:32,447 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:33:32,447 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:33:32,449 uvicorn.error INFO Finished server process [30036]
2025-07-13 15:33:33,389 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2187059288880'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2187059288880'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc')}
2025-07-13 15:33:33,639 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 15:33:33,639 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 15:33:33,640 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:33:33,641 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 15:33:33,641 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:33:33,642 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 15:33:33,642 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 15:33:33,642 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 15:33:33,953 uvicorn.error INFO Started server process [34720]
2025-07-13 15:33:33,954 uvicorn.error INFO Waiting for application startup.
2025-07-13 15:33:33,955 uvicorn.error INFO Application startup complete.
2025-07-13 15:41:45,429 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:41:45,429 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:41:45,458 uvicorn.error INFO Shutting down
2025-07-13 15:41:45,567 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 15:41:45,568 uvicorn.error INFO Application shutdown complete.
2025-07-13 15:41:45,568 uvicorn.error INFO Finished server process [34720]
2025-07-13 15:41:46,992 watchfiles.main DEBUG 9 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.1281639074816'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.1281639074672'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.1281639074816'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.1281639074672'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__')}
2025-07-13 15:50:37,731 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:50:37,731 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:50:44,807 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:50:44,807 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:50:45,995 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2103577955184'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2103577955184')}
2025-07-13 15:51:10,508 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:51:10,508 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:51:11,702 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2288924248944'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2288924248944')}
2025-07-13 15:51:27,473 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:51:27,474 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:51:28,607 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2030333873008'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2030333873008'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__')}
2025-07-13 15:51:40,872 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:51:40,872 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:51:42,103 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2045605923696'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2045605923696'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__')}
2025-07-13 15:51:51,772 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 15:51:51,772 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 15:51:52,910 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2270109649776'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2270109649776'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__')}
2025-07-13 16:00:16,058 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-13 16:00:16,058 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-13 16:00:16,902 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2801696135984'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2801696135984')}
2025-07-13 16:00:34,041 uvicorn.error INFO Stopping reloader process [18844]
2025-07-13 16:22:03,228 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:22:03,228 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:22:03,228 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:03,229 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("user")
2025-07-13 16:22:03,229 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:03,229 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:22:03,229 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:03,231 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("session")
2025-07-13 16:22:03,231 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:03,231 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:22:03,231 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:03,232 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("chat_history")
2025-07-13 16:22:03,232 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:03,232 sqlalchemy.engine.Engine INFO 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	email VARCHAR, 
	PRIMARY KEY (id)
)


2025-07-13 16:22:03,232 sqlalchemy.engine.Engine INFO [no key 0.00026s] ()
2025-07-13 16:22:03,247 sqlalchemy.engine.Engine INFO CREATE UNIQUE INDEX ix_user_email ON user (email)
2025-07-13 16:22:03,247 sqlalchemy.engine.Engine INFO [no key 0.00056s] ()
2025-07-13 16:22:03,258 sqlalchemy.engine.Engine INFO CREATE INDEX ix_user_id ON user (id)
2025-07-13 16:22:03,259 sqlalchemy.engine.Engine INFO [no key 0.00043s] ()
2025-07-13 16:22:03,268 sqlalchemy.engine.Engine INFO 
CREATE TABLE session (
	id INTEGER NOT NULL, 
	session_name VARCHAR, 
	session_type VARCHAR, 
	model_name VARCHAR, 
	temperature FLOAT, 
	user_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-13 16:22:03,268 sqlalchemy.engine.Engine INFO [no key 0.00060s] ()
2025-07-13 16:22:03,278 sqlalchemy.engine.Engine INFO CREATE INDEX ix_session_id ON session (id)
2025-07-13 16:22:03,279 sqlalchemy.engine.Engine INFO [no key 0.00045s] ()
2025-07-13 16:22:03,288 sqlalchemy.engine.Engine INFO 
CREATE TABLE chat_history (
	id INTEGER NOT NULL, 
	message VARCHAR, 
	message_type VARCHAR, 
	session_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(session_id) REFERENCES session (id)
)


2025-07-13 16:22:03,289 sqlalchemy.engine.Engine INFO [no key 0.00054s] ()
2025-07-13 16:22:03,298 sqlalchemy.engine.Engine INFO CREATE INDEX ix_chat_history_id ON chat_history (id)
2025-07-13 16:22:03,298 sqlalchemy.engine.Engine INFO [no key 0.00042s] ()
2025-07-13 16:22:03,308 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:22:03,611 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-13 16:22:03,613 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-13 16:22:03,614 uvicorn.error INFO Started reloader process [33892] using WatchFiles
2025-07-13 16:22:04,673 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:22:04,674 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:22:04,674 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:04,675 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:22:04,675 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:04,675 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:22:04,677 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:22:04,677 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:22:05,017 uvicorn.error INFO Started server process [33632]
2025-07-13 16:22:05,019 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:22:05,019 uvicorn.error INFO Application startup complete.
2025-07-13 16:23:42,267 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 16:23:42,268 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 16:23:42,362 uvicorn.error INFO Shutting down
2025-07-13 16:23:42,471 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:23:42,472 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:23:42,473 uvicorn.error INFO Finished server process [33632]
2025-07-13 16:23:43,664 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:23:43,665 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:23:43,665 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:23:43,665 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:23:43,666 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:23:43,666 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:23:43,666 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:23:43,666 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:23:43,760 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2144949783552'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2144949783552'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-13 16:23:44,020 uvicorn.error INFO Started server process [31068]
2025-07-13 16:23:44,021 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:23:44,022 uvicorn.error INFO Application startup complete.
2025-07-13 16:24:04,807 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 16:24:04,807 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 16:24:04,848 uvicorn.error INFO Shutting down
2025-07-13 16:24:04,958 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:24:04,960 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:24:04,961 uvicorn.error INFO Finished server process [31068]
2025-07-13 16:24:06,222 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:24:06,222 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:24:06,222 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:24:06,223 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:24:06,223 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:24:06,224 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:24:06,224 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:24:06,225 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:24:06,284 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2472173390848'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2472173390848'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-13 16:24:06,559 uvicorn.error INFO Started server process [30104]
2025-07-13 16:24:06,562 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:24:06,563 uvicorn.error INFO Application startup complete.
2025-07-13 16:25:15,758 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:25:15,759 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 16:25:15,760 sqlalchemy.engine.Engine INFO [generated in 0.00054s] ('test session', 'chat', 'gemma', 0.1, 1)
2025-07-13 16:25:15,764 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:25:15,774 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:25:15,777 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 16:25:15,778 sqlalchemy.engine.Engine INFO [generated in 0.00082s] (1,)
2025-07-13 16:25:15,780 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:25:15,780 sqlalchemy.engine.Engine INFO [generated in 0.00045s] (1,)
2025-07-13 16:25:15,782 root ERROR Error getting db session : 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-07-13 16:25:15,782 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:25:15,862 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:25:15,784 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 177, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-07-13 16:26:02,322 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 16:26:02,322 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 16:26:02,375 uvicorn.error INFO Shutting down
2025-07-13 16:26:02,485 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:26:02,486 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:26:02,487 uvicorn.error INFO Finished server process [30104]
2025-07-13 16:26:03,724 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:03,725 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:26:03,726 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:26:03,726 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:26:03,727 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:26:03,727 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:26:03,727 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:26:03,728 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:26:03,776 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2847182965760'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2847182965760'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-13 16:26:04,056 uvicorn.error INFO Started server process [368]
2025-07-13 16:26:04,058 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:26:04,059 uvicorn.error INFO Application startup complete.
2025-07-13 16:26:05,682 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:05,683 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 16:26:05,684 sqlalchemy.engine.Engine INFO [generated in 0.00050s] ('test session', 'chat', 'gemma', 0.1, 1)
2025-07-13 16:26:05,687 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:26:05,697 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:05,700 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 16:26:05,700 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (2,)
2025-07-13 16:26:05,702 root ERROR Error getting db session : 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'id'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'user_id'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'temperature'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'session_name'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'session_type'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'model_name'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'owner'), 'msg': 'Field required', 'input': {}}

2025-07-13 16:26:05,702 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:26:05,703 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 177, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'id'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'user_id'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'temperature'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'session_name'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'session_type'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'model_name'), 'msg': 'Field required', 'input': {}}
  {'type': 'missing', 'loc': ('response', 'owner'), 'msg': 'Field required', 'input': {}}

2025-07-13 16:26:05,792 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:26:20,803 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 16:26:20,803 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 16:26:20,886 uvicorn.error INFO Shutting down
2025-07-13 16:26:20,994 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:26:20,994 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:26:20,996 uvicorn.error INFO Finished server process [368]
2025-07-13 16:26:22,229 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:22,230 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:26:22,231 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:26:22,231 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:26:22,232 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:26:22,233 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:26:22,233 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:26:22,234 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:26:22,316 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2663914359808'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2663914359808'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-13 16:26:22,553 uvicorn.error INFO Started server process [13072]
2025-07-13 16:26:22,555 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:26:22,557 uvicorn.error INFO Application startup complete.
2025-07-13 16:26:24,042 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:24,043 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 16:26:24,044 sqlalchemy.engine.Engine INFO [generated in 0.00038s] ('test session', 'chat', 'gemma', 0.1, 1)
2025-07-13 16:26:24,048 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:26:24,056 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:24,058 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 16:26:24,059 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (3,)
2025-07-13 16:26:24,060 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:26:24,130 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:26:35,904 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:26:35,906 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-13 16:26:35,906 sqlalchemy.engine.Engine INFO [generated in 0.00062s] ()
2025-07-13 16:26:35,908 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:26:35,910 sqlalchemy.engine.Engine INFO [generated in 0.00054s] (1,)
2025-07-13 16:26:35,912 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:26:35,913 sqlalchemy.engine.Engine INFO [cached since 0.003778s ago] (1,)
2025-07-13 16:26:35,914 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:26:35,915 sqlalchemy.engine.Engine INFO [cached since 0.005442s ago] (1,)
2025-07-13 16:26:35,916 root ERROR Error getting db session : 3 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 0, 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
  {'type': 'model_attributes_type', 'loc': ('response', 1, 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
  {'type': 'model_attributes_type', 'loc': ('response', 2, 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-07-13 16:26:35,916 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:26:35,918 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 177, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 3 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 0, 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
  {'type': 'model_attributes_type', 'loc': ('response', 1, 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
  {'type': 'model_attributes_type', 'loc': ('response', 2, 'owner'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-07-13 16:28:42,024 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-13 16:28:42,024 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-13 16:28:42,047 uvicorn.error INFO Shutting down
2025-07-13 16:28:42,153 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:28:42,156 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:28:42,156 uvicorn.error INFO Finished server process [13072]
2025-07-13 16:28:43,425 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:28:43,426 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:28:43,426 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:28:43,427 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:28:43,428 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:28:43,428 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:28:43,428 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:28:43,429 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:28:43,512 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.2991203503392'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.2991203503392'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc')}
2025-07-13 16:28:43,758 uvicorn.error INFO Started server process [7524]
2025-07-13 16:28:43,760 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:28:43,761 uvicorn.error INFO Application startup complete.
2025-07-13 16:28:48,555 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:28:48,557 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-13 16:28:48,557 sqlalchemy.engine.Engine INFO [generated in 0.00035s] ()
2025-07-13 16:28:48,560 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:28:48,560 sqlalchemy.engine.Engine INFO [generated in 0.00045s] (1,)
2025-07-13 16:28:48,562 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:28:48,563 sqlalchemy.engine.Engine INFO [cached since 0.002206s ago] (1,)
2025-07-13 16:28:48,564 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:28:48,564 sqlalchemy.engine.Engine INFO [cached since 0.003287s ago] (1,)
2025-07-13 16:28:48,565 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:29:13,313 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:13,314 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 16:29:13,315 sqlalchemy.engine.Engine INFO [generated in 0.00052s] ('test session', 'chat', 'gemma', 0.1, 1)
2025-07-13 16:29:13,319 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:29:13,330 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:13,331 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 16:29:13,331 sqlalchemy.engine.Engine INFO [generated in 0.00038s] (4,)
2025-07-13 16:29:13,332 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:29:13,390 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:29:15,372 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:15,374 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 16:29:15,374 sqlalchemy.engine.Engine INFO [cached since 2.06s ago] ('test session', 'chat', 'gemma', 0.1, 1)
2025-07-13 16:29:15,377 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:29:15,420 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:15,421 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 16:29:15,421 sqlalchemy.engine.Engine INFO [cached since 2.09s ago] (5,)
2025-07-13 16:29:15,422 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:29:15,510 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:29:27,822 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-13 16:29:27,822 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-13 16:29:27,933 uvicorn.error INFO Shutting down
2025-07-13 16:29:28,041 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:29:28,043 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:29:28,044 uvicorn.error INFO Finished server process [7524]
2025-07-13 16:29:29,324 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:29,325 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:29:29,325 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:29:29,325 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:29:29,325 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:29:29,326 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:29:29,326 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:29:29,326 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:29:29,401 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2419239832576'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2419239832576')}
2025-07-13 16:29:29,656 uvicorn.error INFO Started server process [10032]
2025-07-13 16:29:29,658 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:29:29,659 uvicorn.error INFO Application startup complete.
2025-07-13 16:29:30,275 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:30,277 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 16:29:30,277 sqlalchemy.engine.Engine INFO [generated in 0.00035s] ('test session', 'chat', 'gemma', 0.1, 1)
2025-07-13 16:29:30,284 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:29:30,321 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:29:30,323 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 16:29:30,324 sqlalchemy.engine.Engine INFO [generated in 0.00045s] (6,)
2025-07-13 16:29:30,326 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:29:30,326 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (1,)
2025-07-13 16:29:30,327 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:29:30,371 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:31:12,955 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:31:12,956 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user
2025-07-13 16:31:12,957 sqlalchemy.engine.Engine INFO [generated in 0.00059s] ()
2025-07-13 16:31:12,958 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:31:33,891 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:31:33,892 sqlalchemy.engine.Engine INFO INSERT INTO user (name, email) VALUES (?, ?)
2025-07-13 16:31:33,892 sqlalchemy.engine.Engine INFO [generated in 0.00040s] ('rahul', 'rahu@')
2025-07-13 16:31:33,896 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:31:33,906 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:31:33,907 sqlalchemy.engine.Engine INFO SELECT user.id, user.name, user.email 
FROM user 
WHERE user.id = ?
2025-07-13 16:31:33,907 sqlalchemy.engine.Engine INFO [generated in 0.00040s] (1,)
2025-07-13 16:31:33,908 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:31:33,970 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 16:31:37,833 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:31:37,834 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user
2025-07-13 16:31:37,834 sqlalchemy.engine.Engine INFO [cached since 24.88s ago] ()
2025-07-13 16:31:37,835 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:31:58,564 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\user.py')}
2025-07-13 16:31:58,564 uvicorn.error WARNING WatchFiles detected changes in 'schema\user.py'. Reloading...
2025-07-13 16:31:58,589 uvicorn.error INFO Shutting down
2025-07-13 16:31:58,698 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:31:58,699 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:31:58,700 uvicorn.error INFO Finished server process [10032]
2025-07-13 16:32:00,008 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:32:00,009 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:32:00,010 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:32:00,011 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:32:00,012 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:32:00,013 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:32:00,014 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:32:00,015 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:32:00,056 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc.2142179838688'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\user.cpython-312.pyc.2142179838688')}
2025-07-13 16:32:00,374 uvicorn.error INFO Started server process [8156]
2025-07-13 16:32:00,375 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:32:00,378 uvicorn.error INFO Application startup complete.
2025-07-13 16:32:00,564 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:32:00,566 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user
2025-07-13 16:32:00,567 sqlalchemy.engine.Engine INFO [generated in 0.00057s] ()
2025-07-13 16:32:00,569 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:32:05,851 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:32:05,853 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-13 16:32:05,853 sqlalchemy.engine.Engine INFO [generated in 0.00040s] ()
2025-07-13 16:32:05,856 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 16:32:05,856 sqlalchemy.engine.Engine INFO [generated in 0.00045s] (1,)
2025-07-13 16:32:05,859 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 16:36:03,849 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 16:36:03,849 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 16:36:03,951 uvicorn.error INFO Shutting down
2025-07-13 16:36:04,061 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:36:04,063 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:36:04,064 uvicorn.error INFO Finished server process [8156]
2025-07-13 16:36:05,301 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:36:05,302 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:36:05,302 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:36:05,302 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:36:05,303 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:36:05,303 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:36:05,303 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:36:05,305 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:36:05,365 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1452005411696'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1452005411696'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 16:36:05,638 uvicorn.error INFO Started server process [33476]
2025-07-13 16:36:05,639 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:36:05,640 uvicorn.error INFO Application startup complete.
2025-07-13 16:44:02,959 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 16:44:02,960 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 16:44:03,003 uvicorn.error INFO Shutting down
2025-07-13 16:44:03,114 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:44:03,116 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:44:03,116 uvicorn.error INFO Finished server process [33476]
2025-07-13 16:44:08,819 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:44:08,820 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:44:08,820 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:44:08,821 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:44:08,821 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:44:08,823 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:44:08,823 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:44:08,824 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:44:08,990 watchfiles.main DEBUG 9 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\chat.cpython-312.pyc.2795458808832'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\chat.cpython-312.pyc.2795458808832'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2795458808688'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\chat.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2795458808688'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 16:44:09,463 uvicorn.error INFO Started server process [22488]
2025-07-13 16:44:09,464 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:44:09,465 uvicorn.error INFO Application startup complete.
2025-07-13 16:44:24,570 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 16:44:24,570 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 16:44:24,649 uvicorn.error INFO Shutting down
2025-07-13 16:44:24,759 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:44:24,760 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:44:24,760 uvicorn.error INFO Finished server process [22488]
2025-07-13 16:44:25,953 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:44:25,954 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:44:25,954 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:44:25,955 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:44:25,955 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:44:25,956 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:44:25,956 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:44:25,957 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:44:26,004 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2363472759664'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2363472759664'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 16:44:26,283 uvicorn.error INFO Started server process [4448]
2025-07-13 16:44:26,285 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:44:26,286 uvicorn.error INFO Application startup complete.
2025-07-13 16:49:50,426 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 16:49:50,426 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 16:49:50,471 uvicorn.error INFO Shutting down
2025-07-13 16:49:50,580 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:49:50,582 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:49:50,582 uvicorn.error INFO Finished server process [4448]
2025-07-13 16:49:51,843 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:49:51,844 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:49:51,844 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:49:51,845 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:49:51,845 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:49:51,845 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:49:51,846 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:49:51,846 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:49:51,935 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1833480571760'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1833480571760'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 16:49:52,169 uvicorn.error INFO Started server process [9968]
2025-07-13 16:49:52,170 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:49:52,171 uvicorn.error INFO Application startup complete.
2025-07-13 16:59:45,270 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 16:59:45,270 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 16:59:45,343 uvicorn.error INFO Shutting down
2025-07-13 16:59:45,452 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 16:59:45,453 uvicorn.error INFO Application shutdown complete.
2025-07-13 16:59:45,454 uvicorn.error INFO Finished server process [9968]
2025-07-13 16:59:46,823 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2614726511472'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2614726511472'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 16:59:47,062 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 16:59:47,063 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 16:59:47,064 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:59:47,064 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 16:59:47,065 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:59:47,065 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 16:59:47,065 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 16:59:47,065 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 16:59:47,342 uvicorn.error INFO Started server process [32244]
2025-07-13 16:59:47,344 uvicorn.error INFO Waiting for application startup.
2025-07-13 16:59:47,345 uvicorn.error INFO Application startup complete.
2025-07-13 19:59:37,392 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 19:59:37,392 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 19:59:37,454 uvicorn.error INFO Shutting down
2025-07-13 19:59:37,562 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 19:59:37,564 uvicorn.error INFO Application shutdown complete.
2025-07-13 19:59:37,565 uvicorn.error INFO Finished server process [32244]
2025-07-13 19:59:38,933 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2931396201328'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2931396201328'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 19:59:39,186 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 19:59:39,187 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 19:59:39,187 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 19:59:39,188 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 19:59:39,188 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 19:59:39,188 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 19:59:39,188 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 19:59:39,189 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 19:59:39,485 uvicorn.error INFO Started server process [33972]
2025-07-13 19:59:39,486 uvicorn.error INFO Waiting for application startup.
2025-07-13 19:59:39,488 uvicorn.error INFO Application startup complete.
2025-07-13 20:00:19,348 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:00:19,348 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:00:19,442 uvicorn.error INFO Shutting down
2025-07-13 20:00:19,550 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:00:19,552 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:00:19,552 uvicorn.error INFO Finished server process [33972]
2025-07-13 20:00:20,891 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2121356168048'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2121356168048'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:00:21,221 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:00:21,221 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:00:21,222 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:00:21,222 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:00:21,222 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:00:21,224 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:00:21,224 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:00:21,225 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:00:21,571 uvicorn.error INFO Started server process [13500]
2025-07-13 20:00:21,573 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:00:21,576 uvicorn.error INFO Application startup complete.
2025-07-13 20:02:36,071 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:02:36,071 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:02:36,149 uvicorn.error INFO Shutting down
2025-07-13 20:02:36,258 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:02:36,259 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:02:36,260 uvicorn.error INFO Finished server process [13500]
2025-07-13 20:02:37,679 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1701250878320'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1701250878320'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:02:37,929 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:02:37,929 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:02:37,930 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:02:37,930 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:02:37,931 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:02:37,931 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:02:37,931 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:02:37,933 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:02:38,230 uvicorn.error INFO Started server process [1616]
2025-07-13 20:02:38,231 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:02:38,233 uvicorn.error INFO Application startup complete.
2025-07-13 20:03:03,993 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:03:03,996 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 20:03:03,996 sqlalchemy.engine.Engine INFO [generated in 0.00041s] ('string', 'string', 1)
2025-07-13 20:03:04,000 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:03:04,010 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:03:04,013 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 20:03:04,013 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (1,)
2025-07-13 20:03:04,014 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 20:03:04,062 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 20:03:04,273 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000018C1A8EA390>
2025-07-13 20:03:04,273 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:03:04,273 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 20:03:04,273 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 20:03:04,273 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 20:03:04,274 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:03:04,290 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Sun, 13 Jul 2025 14:33:04 GMT'), (b'Content-Length', b'29')])
2025-07-13 20:03:04,290 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 400 Bad Request"
2025-07-13 20:03:04,291 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 20:03:04,291 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 20:03:04,291 httpcore.http11 DEBUG response_closed.started
2025-07-13 20:03:04,291 httpcore.http11 DEBUG response_closed.complete
2025-07-13 20:03:04,294 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 20:03:04,294 sqlalchemy.engine.Engine INFO [generated in 0.00055s] (1,)
2025-07-13 20:03:04,296 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 20:04:01,313 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:04:01,313 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:04:01,407 uvicorn.error INFO Shutting down
2025-07-13 20:04:01,515 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:04:01,517 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:04:01,518 uvicorn.error INFO Finished server process [1616]
2025-07-13 20:04:02,872 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2251127606128'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2251127606128'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:04:03,153 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:04:03,154 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:04:03,154 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:04:03,156 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:04:03,156 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:04:03,157 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:04:03,157 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:04:03,158 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:04:03,448 uvicorn.error INFO Started server process [8040]
2025-07-13 20:04:03,451 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:04:03,452 uvicorn.error INFO Application startup complete.
2025-07-13 20:04:12,061 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:04:12,063 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 20:04:12,063 sqlalchemy.engine.Engine INFO [generated in 0.00055s] ('string', 'string', 1)
2025-07-13 20:04:12,067 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:04:12,077 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:04:12,080 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 20:04:12,080 sqlalchemy.engine.Engine INFO [generated in 0.00055s] (2,)
2025-07-13 20:04:12,082 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 20:04:12,141 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 20:04:12,346 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020C21C48AD0>
2025-07-13 20:04:12,347 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:04:12,347 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 20:04:12,347 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 20:04:12,347 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 20:04:12,347 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:04:17,355 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-07-13 20:04:17,355 httpcore.http11 DEBUG response_closed.started
2025-07-13 20:04:17,356 httpcore.http11 DEBUG response_closed.complete
2025-07-13 20:04:17,356 root ERROR Error getting db session : 
2025-07-13 20:04:17,356 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 20:04:17,358 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 32, in chats
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1583, in stream
    response = await self.send(
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout
2025-07-13 20:05:03,900 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:05:03,900 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:05:03,976 uvicorn.error INFO Shutting down
2025-07-13 20:05:04,086 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:05:04,086 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:05:04,088 uvicorn.error INFO Finished server process [8040]
2025-07-13 20:05:05,390 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2456780295024'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2456780295024'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:05:05,670 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:05:05,671 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:05:05,671 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:05:05,672 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:05:05,672 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:05:05,673 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:05:05,673 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:05:05,673 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:05:06,006 uvicorn.error INFO Started server process [1792]
2025-07-13 20:05:06,008 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:05:06,009 uvicorn.error INFO Application startup complete.
2025-07-13 20:05:07,492 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:05:07,494 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 20:05:07,494 sqlalchemy.engine.Engine INFO [generated in 0.00046s] ('string', 'string', 1)
2025-07-13 20:05:07,497 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:05:07,506 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:05:07,508 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 20:05:07,509 sqlalchemy.engine.Engine INFO [generated in 0.00037s] (3,)
2025-07-13 20:05:07,511 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 20:05:07,604 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 20:05:07,776 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023C039E8AA0>
2025-07-13 20:05:07,777 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:05:07,777 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 20:05:07,777 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 20:05:07,777 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 20:05:07,777 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:05:12,791 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-07-13 20:05:12,792 httpcore.http11 DEBUG response_closed.started
2025-07-13 20:05:12,792 httpcore.http11 DEBUG response_closed.complete
2025-07-13 20:05:12,792 root ERROR Error getting db session : 
2025-07-13 20:05:12,792 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 20:05:12,793 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 32, in chats
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1583, in stream
    response = await self.send(
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout
2025-07-13 20:09:52,341 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:09:52,341 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:09:52,396 uvicorn.error INFO Shutting down
2025-07-13 20:09:52,505 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:09:52,507 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:09:52,508 uvicorn.error INFO Finished server process [1792]
2025-07-13 20:09:54,045 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.3109589830512'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.3109589830512'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:09:54,334 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:09:54,334 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:09:54,334 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:09:54,335 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:09:54,335 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:09:54,336 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:09:54,336 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:09:54,337 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:09:54,627 uvicorn.error INFO Started server process [22180]
2025-07-13 20:09:54,629 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:09:54,630 uvicorn.error INFO Application startup complete.
2025-07-13 20:10:00,938 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:10:00,940 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 20:10:00,940 sqlalchemy.engine.Engine INFO [generated in 0.00046s] ('string', 'string', 1)
2025-07-13 20:10:00,941 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:10:00,952 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:10:00,956 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 20:10:00,956 sqlalchemy.engine.Engine INFO [generated in 0.00044s] (4,)
2025-07-13 20:10:00,957 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 20:10:01,004 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 20:10:01,219 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002D4021A8A70>
2025-07-13 20:10:01,219 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:10:01,220 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 20:10:01,220 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 20:10:01,220 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 20:10:01,220 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:10:01,438 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 14:40:01 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 20:10:01,438 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 20:10:01,439 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 20:10:12,682 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 20:10:12,682 httpcore.http11 DEBUG response_closed.started
2025-07-13 20:10:12,682 httpcore.http11 DEBUG response_closed.complete
2025-07-13 20:10:12,686 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 20:10:12,687 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (1,)
2025-07-13 20:10:12,689 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 20:12:55,233 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:12:55,233 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:12:55,338 uvicorn.error INFO Shutting down
2025-07-13 20:12:55,447 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:12:55,449 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:12:55,450 uvicorn.error INFO Finished server process [22180]
2025-07-13 20:12:56,800 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2408267139952'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2408267139952'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:12:57,063 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:12:57,063 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:12:57,064 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:12:57,064 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:12:57,064 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:12:57,065 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:12:57,065 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:12:57,066 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:12:57,344 uvicorn.error INFO Started server process [29712]
2025-07-13 20:12:57,345 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:12:57,347 uvicorn.error INFO Application startup complete.
2025-07-13 20:13:21,509 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 20:13:21,510 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 20:13:21,572 uvicorn.error INFO Shutting down
2025-07-13 20:13:21,681 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 20:13:21,683 uvicorn.error INFO Application shutdown complete.
2025-07-13 20:13:21,684 uvicorn.error INFO Finished server process [29712]
2025-07-13 20:13:23,021 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1861257874288'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1861257874288'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 20:13:23,252 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 20:13:23,253 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 20:13:23,253 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:13:23,254 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 20:13:23,254 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:13:23,254 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 20:13:23,254 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 20:13:23,255 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 20:13:23,549 uvicorn.error INFO Started server process [32212]
2025-07-13 20:13:23,551 uvicorn.error INFO Waiting for application startup.
2025-07-13 20:13:23,552 uvicorn.error INFO Application startup complete.
2025-07-13 21:44:24,700 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 21:44:24,700 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 21:44:24,737 uvicorn.error INFO Shutting down
2025-07-13 21:44:24,844 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 21:44:24,845 uvicorn.error INFO Application shutdown complete.
2025-07-13 21:44:24,847 uvicorn.error INFO Finished server process [32212]
2025-07-13 21:44:26,238 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2062080559984'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2062080559984'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 21:44:26,471 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:44:26,471 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 21:44:26,471 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:44:26,473 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 21:44:26,473 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:44:26,473 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 21:44:26,473 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:44:26,473 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:44:26,754 uvicorn.error INFO Started server process [21148]
2025-07-13 21:44:26,756 uvicorn.error INFO Waiting for application startup.
2025-07-13 21:44:26,758 uvicorn.error INFO Application startup complete.
2025-07-13 21:44:40,655 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:44:40,656 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:44:40,657 sqlalchemy.engine.Engine INFO [generated in 0.00034s] ('string', 'string', 1)
2025-07-13 21:44:40,661 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:44:40,669 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:44:40,672 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:44:40,672 sqlalchemy.engine.Engine INFO [generated in 0.00038s] (5,)
2025-07-13 21:44:40,673 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:44:40,675 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:44:40,761 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:44:40,936 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E01DAE8A40>
2025-07-13 21:44:40,936 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:44:40,937 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:44:40,937 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:44:40,937 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:44:40,938 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:44:45,952 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-07-13 21:44:45,952 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:44:45,953 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:44:45,984 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 47, in call_ollama_api
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1583, in stream
    response = await self.send(
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout
2025-07-13 21:44:55,755 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:44:55,756 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:44:55,756 sqlalchemy.engine.Engine INFO [cached since 15.1s ago] ('string', 'string', 1)
2025-07-13 21:44:55,760 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:44:55,768 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:44:55,770 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:44:55,770 sqlalchemy.engine.Engine INFO [cached since 15.1s ago] (6,)
2025-07-13 21:44:55,771 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:44:55,773 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:44:55,866 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:44:56,033 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E01DA53620>
2025-07-13 21:44:56,033 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:44:56,033 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:44:56,033 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:44:56,033 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:44:56,033 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:45:01,036 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-07-13 21:45:01,037 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:45:01,038 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:45:01,038 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 47, in call_ollama_api
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1583, in stream
    response = await self.send(
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout
2025-07-13 21:45:18,082 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\config_vars.py')}
2025-07-13 21:45:18,082 uvicorn.error WARNING WatchFiles detected changes in 'utils\config_vars.py'. Reloading...
2025-07-13 21:45:18,189 uvicorn.error INFO Shutting down
2025-07-13 21:45:18,299 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 21:45:18,301 uvicorn.error INFO Application shutdown complete.
2025-07-13 21:45:18,302 uvicorn.error INFO Finished server process [21148]
2025-07-13 21:45:19,321 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc.2448224836112'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc.2448224836112'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc')}
2025-07-13 21:45:19,906 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:45:19,907 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 21:45:19,907 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:45:19,908 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 21:45:19,908 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:45:19,908 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 21:45:19,908 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:45:19,909 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:45:20,203 uvicorn.error INFO Started server process [17884]
2025-07-13 21:45:20,205 uvicorn.error INFO Waiting for application startup.
2025-07-13 21:45:20,206 uvicorn.error INFO Application startup complete.
2025-07-13 21:45:21,659 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:45:21,662 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:45:21,662 sqlalchemy.engine.Engine INFO [generated in 0.00043s] ('string', 'string', 1)
2025-07-13 21:45:21,665 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:45:21,674 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:45:21,676 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:45:21,678 sqlalchemy.engine.Engine INFO [generated in 0.00057s] (7,)
2025-07-13 21:45:21,678 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:45:21,681 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:45:21,738 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:45:21,961 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023A086E8470>
2025-07-13 21:45:21,962 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:45:21,962 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:45:21,962 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:45:21,962 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:45:21,962 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:45:31,181 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:15:31 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:45:31,181 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:45:31,182 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:45:47,315 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:45:47,315 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:45:47,315 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:50:19,876 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:50:19,876 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:50:19,876 sqlalchemy.engine.Engine INFO [cached since 298.2s ago] ('string', 'string', 1)
2025-07-13 21:50:19,880 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:50:19,889 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:50:19,889 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:50:19,890 sqlalchemy.engine.Engine INFO [cached since 298.2s ago] (8,)
2025-07-13 21:50:19,891 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:50:19,893 httpcore.connection DEBUG close.started
2025-07-13 21:50:19,894 httpcore.connection DEBUG close.complete
2025-07-13 21:50:19,894 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:50:19,976 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:50:20,152 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023A08653230>
2025-07-13 21:50:20,155 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:50:20,155 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:50:20,156 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:50:20,156 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:50:20,157 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:50:20,389 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:20:20 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:50:20,390 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:50:20,390 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:50:23,646 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:50:23,646 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:50:23,646 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:50:28,022 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:50:28,023 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:50:28,023 sqlalchemy.engine.Engine INFO [cached since 306.4s ago] ('string', 'string', 1)
2025-07-13 21:50:28,026 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:50:28,036 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:50:28,036 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:50:28,036 sqlalchemy.engine.Engine INFO [cached since 306.4s ago] (9,)
2025-07-13 21:50:28,038 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:50:28,040 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:50:28,041 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:50:28,041 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:50:28,041 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:50:28,041 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:50:28,113 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:50:28,237 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:20:28 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:50:28,237 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:50:28,237 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:50:32,508 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:50:32,508 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:50:32,508 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:52:18,640 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:52:18,640 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:52:18,640 sqlalchemy.engine.Engine INFO [cached since 417s ago] ('string', 'string', 1)
2025-07-13 21:52:18,643 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:52:18,654 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:52:18,654 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:52:18,655 sqlalchemy.engine.Engine INFO [cached since 417s ago] (10,)
2025-07-13 21:52:18,655 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:52:18,660 httpcore.connection DEBUG close.started
2025-07-13 21:52:18,660 httpcore.connection DEBUG close.complete
2025-07-13 21:52:18,661 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:52:18,735 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:52:18,908 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023A087155B0>
2025-07-13 21:52:18,909 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:52:18,909 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:52:18,909 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:52:18,909 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:52:18,909 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:52:19,131 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:22:19 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:52:19,131 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:52:19,132 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:52:25,454 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:52:25,454 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:52:25,454 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:57:20,266 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:57:20,266 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:57:20,267 sqlalchemy.engine.Engine INFO [cached since 718.6s ago] ('string', 'string', 1)
2025-07-13 21:57:20,271 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:57:20,281 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:57:20,282 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:57:20,282 sqlalchemy.engine.Engine INFO [cached since 718.6s ago] (11,)
2025-07-13 21:57:20,283 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:57:20,286 httpcore.connection DEBUG close.started
2025-07-13 21:57:20,287 httpcore.connection DEBUG close.complete
2025-07-13 21:57:20,287 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:57:20,351 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:57:20,532 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023A086EB2F0>
2025-07-13 21:57:20,532 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:57:20,532 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:57:20,533 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:57:20,533 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:57:20,533 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:57:20,752 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:27:20 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:57:20,752 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:57:20,753 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:57:25,399 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:57:25,399 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:57:25,399 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:58:04,649 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 21:58:04,649 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 21:58:04,695 uvicorn.error INFO Shutting down
2025-07-13 21:58:04,804 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 21:58:04,805 uvicorn.error INFO Application shutdown complete.
2025-07-13 21:58:04,805 uvicorn.error INFO Finished server process [17884]
2025-07-13 21:58:06,229 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2660678650736'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2660678650736'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 21:58:06,524 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:58:06,524 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 21:58:06,525 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:58:06,525 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 21:58:06,526 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:58:06,526 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 21:58:06,526 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:58:06,527 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:58:06,810 uvicorn.error INFO Started server process [33472]
2025-07-13 21:58:06,812 uvicorn.error INFO Waiting for application startup.
2025-07-13 21:58:06,814 uvicorn.error INFO Application startup complete.
2025-07-13 21:58:11,444 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:58:11,446 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:58:11,446 sqlalchemy.engine.Engine INFO [generated in 0.00038s] ('string', 'string', 1)
2025-07-13 21:58:11,448 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:58:11,459 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:58:11,460 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:58:11,461 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (12,)
2025-07-13 21:58:11,461 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:58:11,463 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:58:11,523 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:58:11,727 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000026B7CE984A0>
2025-07-13 21:58:11,727 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:58:11,728 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:58:11,728 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:58:11,728 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:58:11,728 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:58:11,952 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:28:11 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:58:11,953 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:58:11,953 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:58:16,267 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:58:16,267 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:58:16,268 httpcore.http11 DEBUG response_closed.complete
2025-07-13 21:58:48,417 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 21:58:48,417 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 21:58:48,517 uvicorn.error INFO Shutting down
2025-07-13 21:58:48,627 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 21:58:48,628 uvicorn.error INFO Application shutdown complete.
2025-07-13 21:58:48,629 uvicorn.error INFO Finished server process [33472]
2025-07-13 21:58:49,963 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2717660760944'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2717660760944'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 21:58:50,236 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:58:50,237 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 21:58:50,237 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:58:50,238 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 21:58:50,238 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:58:50,239 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 21:58:50,239 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 21:58:50,239 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:58:50,530 uvicorn.error INFO Started server process [31540]
2025-07-13 21:58:50,531 uvicorn.error INFO Waiting for application startup.
2025-07-13 21:58:50,532 uvicorn.error INFO Application startup complete.
2025-07-13 21:58:51,447 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:58:51,449 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 21:58:51,449 sqlalchemy.engine.Engine INFO [generated in 0.00034s] ('string', 'string', 1)
2025-07-13 21:58:51,451 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 21:58:51,461 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 21:58:51,464 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 21:58:51,464 sqlalchemy.engine.Engine INFO [generated in 0.00040s] (13,)
2025-07-13 21:58:51,465 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 21:58:51,466 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 21:58:51,527 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 21:58:51,733 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000278C14E83B0>
2025-07-13 21:58:51,733 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 21:58:51,734 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 21:58:51,734 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 21:58:51,734 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 21:58:51,734 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 21:58:51,934 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:28:51 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 21:58:51,935 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 21:58:51,935 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 21:58:57,545 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 21:58:57,545 httpcore.http11 DEBUG response_closed.started
2025-07-13 21:58:57,545 httpcore.http11 DEBUG response_closed.complete
2025-07-13 22:00:49,386 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:00:49,386 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 22:00:49,387 sqlalchemy.engine.Engine INFO [cached since 117.9s ago] ('string', 'string', 1)
2025-07-13 22:00:49,390 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:00:49,400 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:00:49,400 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 22:00:49,401 sqlalchemy.engine.Engine INFO [cached since 117.9s ago] (14,)
2025-07-13 22:00:49,403 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 22:00:49,405 httpcore.connection DEBUG close.started
2025-07-13 22:00:49,405 httpcore.connection DEBUG close.complete
2025-07-13 22:00:49,405 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 22:00:49,479 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 22:00:49,681 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000278C14AA930>
2025-07-13 22:00:49,681 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 22:00:49,681 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 22:00:49,682 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 22:00:49,682 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 22:00:49,682 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 22:00:49,882 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 16:30:49 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 22:00:49,882 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 22:00:49,882 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 22:00:54,535 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 22:00:54,535 httpcore.http11 DEBUG response_closed.started
2025-07-13 22:00:54,535 httpcore.http11 DEBUG response_closed.complete
2025-07-13 22:01:15,128 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 22:01:15,128 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 22:01:15,160 uvicorn.error INFO Shutting down
2025-07-13 22:01:15,268 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 22:01:15,269 uvicorn.error INFO Application shutdown complete.
2025-07-13 22:01:15,270 uvicorn.error INFO Finished server process [31540]
2025-07-13 22:01:17,042 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2518123563888'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2518123563888'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 22:01:17,300 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:01:17,301 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 22:01:17,301 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:01:17,302 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 22:01:17,302 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:01:17,303 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 22:01:17,303 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:01:17,303 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:01:17,591 uvicorn.error INFO Started server process [4524]
2025-07-13 22:01:17,593 uvicorn.error INFO Waiting for application startup.
2025-07-13 22:01:17,594 uvicorn.error INFO Application startup complete.
2025-07-13 22:04:04,566 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:04:04,570 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 22:04:04,570 sqlalchemy.engine.Engine INFO [generated in 0.00064s] (1,)
2025-07-13 22:04:04,573 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 22:09:15,591 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 22:09:15,592 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 22:09:15,661 uvicorn.error INFO Shutting down
2025-07-13 22:09:15,770 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 22:09:15,771 uvicorn.error INFO Application shutdown complete.
2025-07-13 22:09:15,772 uvicorn.error INFO Finished server process [4524]
2025-07-13 22:09:17,130 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2351102708592'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2351102708592'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 22:09:17,374 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:09:17,374 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 22:09:17,374 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:09:17,377 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 22:09:17,377 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:09:17,377 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 22:09:17,378 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:09:17,379 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:09:17,658 uvicorn.error INFO Started server process [12972]
2025-07-13 22:09:17,660 uvicorn.error INFO Waiting for application startup.
2025-07-13 22:09:17,661 uvicorn.error INFO Application startup complete.
2025-07-13 22:10:24,470 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 22:10:24,470 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 22:10:24,502 uvicorn.error INFO Shutting down
2025-07-13 22:10:24,610 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 22:10:24,612 uvicorn.error INFO Application shutdown complete.
2025-07-13 22:10:24,613 uvicorn.error INFO Finished server process [12972]
2025-07-13 22:10:25,920 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1825852115824'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1825852115824'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 22:10:26,160 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:10:26,161 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 22:10:26,161 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:10:26,162 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 22:10:26,162 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:10:26,163 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 22:10:26,163 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:10:26,164 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:10:26,450 uvicorn.error INFO Started server process [30456]
2025-07-13 22:10:26,452 uvicorn.error INFO Waiting for application startup.
2025-07-13 22:10:26,453 uvicorn.error INFO Application startup complete.
2025-07-13 22:10:30,665 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:10:30,667 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 22:10:30,669 sqlalchemy.engine.Engine INFO [generated in 0.00053s] (1,)
2025-07-13 22:10:30,671 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 22:10:30,672 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (1,)
2025-07-13 22:10:30,674 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 22:10:30,674 sqlalchemy.engine.Engine INFO [cached since 0.003089s ago] (1,)
2025-07-13 22:10:30,675 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 22:12:07,864 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 22:12:07,864 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 22:12:07,889 uvicorn.error INFO Shutting down
2025-07-13 22:12:07,998 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 22:12:07,999 uvicorn.error INFO Application shutdown complete.
2025-07-13 22:12:08,000 uvicorn.error INFO Finished server process [30456]
2025-07-13 22:12:09,294 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1838697368432'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1838697368432'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 22:12:09,561 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:12:09,562 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 22:12:09,562 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:12:09,563 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 22:12:09,563 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:12:09,563 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 22:12:09,564 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:12:09,564 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:12:09,847 uvicorn.error INFO Started server process [21424]
2025-07-13 22:12:09,848 uvicorn.error INFO Waiting for application startup.
2025-07-13 22:12:09,850 uvicorn.error INFO Application startup complete.
2025-07-13 22:12:18,829 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 22:12:18,830 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 22:12:18,900 uvicorn.error INFO Shutting down
2025-07-13 22:12:19,009 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 22:12:19,010 uvicorn.error INFO Application shutdown complete.
2025-07-13 22:12:19,012 uvicorn.error INFO Finished server process [21424]
2025-07-13 22:12:20,401 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2179146730352'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2179146730352'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 22:12:20,634 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:12:20,634 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 22:12:20,634 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:12:20,636 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 22:12:20,636 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:12:20,636 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 22:12:20,636 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:12:20,637 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:12:20,921 uvicorn.error INFO Started server process [27236]
2025-07-13 22:12:20,922 uvicorn.error INFO Waiting for application startup.
2025-07-13 22:12:20,924 uvicorn.error INFO Application startup complete.
2025-07-13 22:23:16,896 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 22:23:16,897 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 22:23:16,905 uvicorn.error INFO Shutting down
2025-07-13 22:23:17,015 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 22:23:17,016 uvicorn.error INFO Application shutdown complete.
2025-07-13 22:23:17,017 uvicorn.error INFO Finished server process [27236]
2025-07-13 22:23:18,370 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2668702747504'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2668702747504'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 22:23:18,649 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:23:18,649 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 22:23:18,649 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:23:18,650 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 22:23:18,651 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:23:18,651 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 22:23:18,651 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 22:23:18,652 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:23:18,939 uvicorn.error INFO Started server process [10436]
2025-07-13 22:23:18,940 uvicorn.error INFO Waiting for application startup.
2025-07-13 22:23:18,941 uvicorn.error INFO Application startup complete.
2025-07-13 22:23:26,364 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:23:26,366 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 22:23:26,366 sqlalchemy.engine.Engine INFO [generated in 0.00047s] ('\nhi', 'human', 1)
2025-07-13 22:23:26,369 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 22:23:26,379 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 22:23:26,382 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 22:23:26,382 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (15,)
2025-07-13 22:23:26,383 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 22:23:26,388 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 41, in call_ollama_api
    |     ollama_chats = db_to_ollama(chats=chats)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 65, in db_to_ollama
    |     for chat_ in chats:
    |                  ^^^^^
    | TypeError: 'ChatHistory' object is not iterable
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 41, in call_ollama_api
    ollama_chats = db_to_ollama(chats=chats)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 65, in db_to_ollama
    for chat_ in chats:
                 ^^^^^
TypeError: 'ChatHistory' object is not iterable
2025-07-13 22:23:26,447 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:04:34,645 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:04:34,645 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:04:34,709 uvicorn.error INFO Shutting down
2025-07-13 23:04:34,818 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:04:34,819 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:04:34,820 uvicorn.error INFO Finished server process [10436]
2025-07-13 23:04:39,513 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1355512564592'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1355512564592'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:04:39,946 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:39,946 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:04:39,947 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:04:39,947 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:04:39,948 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:04:39,948 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:04:39,949 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:04:39,949 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:04:40,241 uvicorn.error INFO Started server process [3432]
2025-07-13 23:04:40,242 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:04:40,243 uvicorn.error INFO Application startup complete.
2025-07-13 23:04:40,268 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:40,269 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:04:40,269 sqlalchemy.engine.Engine INFO [generated in 0.00037s] ('hi\n', 'human', 1)
2025-07-13 23:04:40,274 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:04:40,284 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:40,286 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:04:40,286 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (16,)
2025-07-13 23:04:40,287 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:04:40,288 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:40,290 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:04:40,290 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (1,)
2025-07-13 23:04:40,291 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:04:40,292 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (1, 1, 0)
2025-07-13 23:04:40,294 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:04:40,294 sqlalchemy.engine.Engine INFO [generated in 0.00038s] (1,)
2025-07-13 23:04:40,296 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:04:40,296 sqlalchemy.engine.Engine INFO [cached since 0.0043s ago] (1, 1, 0)
2025-07-13 23:04:40,297 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:04:40,297 sqlalchemy.engine.Engine INFO [cached since 0.003049s ago] (1,)
2025-07-13 23:04:40,298 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:04:40,371 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:04:40,564 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000013B9AF3B2F0>
2025-07-13 23:04:40,564 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:04:40,564 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:04:40,565 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:04:40,565 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:04:40,565 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:04:40,570 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Sun, 13 Jul 2025 17:34:40 GMT'), (b'Content-Length', b'59')])
2025-07-13 23:04:40,570 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 404 Not Found"
2025-07-13 23:04:40,570 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:04:40,571 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:04:40,571 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:04:40,571 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:04:40,572 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 59, in call_ollama_api
    |     content += json.loads(chunk).message.content
    |     ^^^^^^^
    | UnboundLocalError: cannot access local variable 'content' where it is not associated with a value
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 59, in call_ollama_api
    content += json.loads(chunk).message.content
    ^^^^^^^
UnboundLocalError: cannot access local variable 'content' where it is not associated with a value
2025-07-13 23:04:55,645 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:04:55,645 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:04:55,733 uvicorn.error INFO Shutting down
2025-07-13 23:04:55,840 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:04:55,842 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:04:55,843 uvicorn.error INFO Finished server process [3432]
2025-07-13 23:04:57,146 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2012579384176'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2012579384176'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:04:57,384 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:57,384 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:04:57,386 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:04:57,386 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:04:57,386 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:04:57,387 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:04:57,387 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:04:57,388 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:04:57,682 uvicorn.error INFO Started server process [5272]
2025-07-13 23:04:57,684 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:04:57,685 uvicorn.error INFO Application startup complete.
2025-07-13 23:04:58,901 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:58,903 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:04:58,903 sqlalchemy.engine.Engine INFO [generated in 0.00031s] ('hi\n', 'human', 1)
2025-07-13 23:04:58,906 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:04:58,916 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:58,918 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:04:58,919 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (17,)
2025-07-13 23:04:58,920 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:04:58,922 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:04:58,923 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:04:58,924 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (1,)
2025-07-13 23:04:58,925 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:04:58,926 sqlalchemy.engine.Engine INFO [generated in 0.00043s] (1, 1, 0)
2025-07-13 23:04:58,928 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:04:58,928 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (1,)
2025-07-13 23:04:58,929 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:04:58,929 sqlalchemy.engine.Engine INFO [cached since 0.003914s ago] (1, 1, 0)
2025-07-13 23:04:58,930 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:04:58,930 sqlalchemy.engine.Engine INFO [cached since 0.002448s ago] (1,)
2025-07-13 23:04:58,932 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:04:59,012 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:04:59,199 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001D4972EACC0>
2025-07-13 23:04:59,200 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:04:59,200 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:04:59,200 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:04:59,200 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:04:59,200 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:04:59,202 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Sun, 13 Jul 2025 17:34:59 GMT'), (b'Content-Length', b'59')])
2025-07-13 23:04:59,202 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 404 Not Found"
2025-07-13 23:04:59,202 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:04:59,202 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:04:59,202 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:04:59,203 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:04:59,203 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 256, in stream_response
    |     chunk = chunk.encode(self.charset)
    |             ^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'encode'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 256, in stream_response
    chunk = chunk.encode(self.charset)
            ^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'encode'
2025-07-13 23:05:51,333 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:05:51,333 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:05:51,374 uvicorn.error INFO Shutting down
2025-07-13 23:05:51,481 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:05:51,483 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:05:51,484 uvicorn.error INFO Finished server process [5272]
2025-07-13 23:05:51,486 asyncio ERROR an error occurred during closing of asynchronous generator <async_generator object call_ollama_api at 0x000001D49728E340>
asyncgen: <async_generator object call_ollama_api at 0x000001D49728E340>
Traceback (most recent call last):
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 61, in call_ollama_api
    yield '{"DONE": "DONE"}'
    ^^^^^^^^^^^^^^^^^^^^^^
GeneratorExit

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 52, in call_ollama_api
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 267, in __aexit__
    raise RuntimeError("generator didn't stop after athrow()")
RuntimeError: generator didn't stop after athrow()
2025-07-13 23:05:52,779 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2051682421616'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2051682421616'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:05:53,081 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:05:53,082 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:05:53,082 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:05:53,083 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:05:53,083 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:05:53,083 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:05:53,083 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:05:53,083 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:05:53,374 uvicorn.error INFO Started server process [21188]
2025-07-13 23:05:53,376 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:05:53,377 uvicorn.error INFO Application startup complete.
2025-07-13 23:05:54,881 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:05:54,883 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:05:54,884 sqlalchemy.engine.Engine INFO [generated in 0.00053s] ('\nhi', 'human', 1)
2025-07-13 23:05:54,887 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:05:54,898 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:05:54,901 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:05:54,901 sqlalchemy.engine.Engine INFO [generated in 0.00049s] (18,)
2025-07-13 23:05:54,902 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:05:54,905 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:05:54,907 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:05:54,907 sqlalchemy.engine.Engine INFO [generated in 0.00063s] (1,)
2025-07-13 23:05:54,910 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:05:54,911 sqlalchemy.engine.Engine INFO [generated in 0.00050s] (1, 1, 0)
2025-07-13 23:05:54,913 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:05:54,914 sqlalchemy.engine.Engine INFO [generated in 0.00046s] (1,)
2025-07-13 23:05:54,915 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:05:54,916 sqlalchemy.engine.Engine INFO [cached since 0.005687s ago] (1, 1, 0)
2025-07-13 23:05:54,917 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:05:54,917 sqlalchemy.engine.Engine INFO [cached since 0.004068s ago] (1,)
2025-07-13 23:05:54,919 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:05:54,997 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:05:55,190 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DDB1DBE930>
2025-07-13 23:05:55,191 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:05:55,191 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:05:55,191 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:05:55,191 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:05:55,191 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:05:55,193 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Sun, 13 Jul 2025 17:35:55 GMT'), (b'Content-Length', b'59')])
2025-07-13 23:05:55,193 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 404 Not Found"
2025-07-13 23:05:55,194 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:05:55,194 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:05:55,194 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:05:55,194 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:07:03,054 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:07:03,054 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:07:03,128 uvicorn.error INFO Shutting down
2025-07-13 23:07:03,236 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:07:03,237 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:07:03,238 uvicorn.error INFO Finished server process [21188]
2025-07-13 23:07:04,611 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2701584190320'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2701584190320'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:07:04,879 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:07:04,880 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:07:04,880 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:07:04,881 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:07:04,881 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:07:04,882 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:07:04,882 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:07:04,883 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:07:05,177 uvicorn.error INFO Started server process [17700]
2025-07-13 23:07:05,178 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:07:05,179 uvicorn.error INFO Application startup complete.
2025-07-13 23:07:23,909 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:07:23,909 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:07:23,959 uvicorn.error INFO Shutting down
2025-07-13 23:07:24,068 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:07:24,070 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:07:24,070 uvicorn.error INFO Finished server process [17700]
2025-07-13 23:07:25,359 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2303556078448'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2303556078448'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:07:25,615 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:07:25,615 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:07:25,616 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:07:25,617 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:07:25,617 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:07:25,618 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:07:25,618 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:07:25,619 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:07:25,912 uvicorn.error INFO Started server process [13068]
2025-07-13 23:07:25,913 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:07:25,914 uvicorn.error INFO Application startup complete.
2025-07-13 23:07:33,552 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:07:33,554 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:07:33,554 sqlalchemy.engine.Engine INFO [generated in 0.00055s] ('\nhi', 'human', 1)
2025-07-13 23:07:33,557 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:07:33,566 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:07:33,569 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:07:33,569 sqlalchemy.engine.Engine INFO [generated in 0.00054s] (19,)
2025-07-13 23:07:33,571 root ERROR Error getting db session : 'ChatInput' object has no attribute 'ChatOutput'
2025-07-13 23:07:33,571 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:07:33,572 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 38, in chats
    async def call_ollama_api(chats: list[chat.ChatOutput]):
                                          ^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'ChatInput' object has no attribute 'ChatOutput'
2025-07-13 23:07:33,622 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:07:59,122 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:07:59,123 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:07:59,156 uvicorn.error INFO Shutting down
2025-07-13 23:07:59,265 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:07:59,266 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:07:59,267 uvicorn.error INFO Finished server process [13068]
2025-07-13 23:08:00,619 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2101616069488'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2101616069488'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:08:00,870 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:08:00,871 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:08:00,871 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:08:00,872 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:08:00,872 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:08:00,872 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:08:00,873 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:08:00,873 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:08:01,163 uvicorn.error INFO Started server process [31592]
2025-07-13 23:08:01,164 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:08:01,166 uvicorn.error INFO Application startup complete.
2025-07-13 23:08:39,471 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:08:39,471 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:08:39,488 uvicorn.error INFO Shutting down
2025-07-13 23:08:39,598 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:08:39,599 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:08:39,600 uvicorn.error INFO Finished server process [31592]
2025-07-13 23:08:40,889 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1213311306608'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1213311306608'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:08:41,161 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:08:41,161 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:08:41,162 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:08:41,162 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:08:41,162 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:08:41,163 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:08:41,163 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:08:41,164 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:08:41,444 uvicorn.error INFO Started server process [18460]
2025-07-13 23:08:41,447 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:08:41,448 uvicorn.error INFO Application startup complete.
2025-07-13 23:08:48,104 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:08:48,106 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:08:48,106 sqlalchemy.engine.Engine INFO [generated in 0.00041s] ('\nhi', 'human', 1)
2025-07-13 23:08:48,109 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:08:48,119 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:08:48,121 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:08:48,121 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (20,)
2025-07-13 23:08:48,124 root ERROR Error getting db session : chats.<locals>.call_ollama_api() takes 0 positional arguments but 1 was given
2025-07-13 23:08:48,124 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:08:48,126 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 60, in chats
    return StreamingResponse(call_ollama_api(chats), media_type="text/stream")
                             ^^^^^^^^^^^^^^^^^^^^^^
TypeError: chats.<locals>.call_ollama_api() takes 0 positional arguments but 1 was given
2025-07-13 23:08:48,188 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:09:12,438 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:09:12,438 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:09:12,472 uvicorn.error INFO Shutting down
2025-07-13 23:09:12,581 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:09:12,582 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:09:12,583 uvicorn.error INFO Finished server process [18460]
2025-07-13 23:09:14,027 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2860430740336'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2860430740336'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:09:14,306 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:09:14,307 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:09:14,307 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:14,308 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:09:14,308 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:14,309 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:09:14,309 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:14,309 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:09:14,593 uvicorn.error INFO Started server process [29800]
2025-07-13 23:09:14,594 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:09:14,595 uvicorn.error INFO Application startup complete.
2025-07-13 23:09:15,966 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:09:15,970 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:09:15,970 sqlalchemy.engine.Engine INFO [generated in 0.00051s] ('\nhi', 'human', 1)
2025-07-13 23:09:15,974 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:09:15,983 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:09:15,985 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:09:15,986 sqlalchemy.engine.Engine INFO [generated in 0.00038s] (21,)
2025-07-13 23:09:15,987 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:09:15,988 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:09:15,989 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:09:15,989 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (1,)
2025-07-13 23:09:15,991 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:09:15,991 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (1, 1, 0)
2025-07-13 23:09:15,994 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:09:15,994 sqlalchemy.engine.Engine INFO [generated in 0.00046s] (1,)
2025-07-13 23:09:15,995 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:09:15,995 sqlalchemy.engine.Engine INFO [cached since 0.00447s ago] (1, 1, 0)
2025-07-13 23:09:15,996 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:09:15,997 sqlalchemy.engine.Engine INFO [cached since 0.003197s ago] (1,)
2025-07-13 23:09:15,997 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:09:16,039 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-13 23:09:16,276 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000299FF10AF30>
2025-07-13 23:09:16,276 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:09:16,276 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:09:16,276 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:09:16,276 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:09:16,276 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:09:16,278 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Sun, 13 Jul 2025 17:39:16 GMT'), (b'Content-Length', b'59')])
2025-07-13 23:09:16,278 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 404 Not Found"
2025-07-13 23:09:16,278 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:09:16,278 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:09:16,278 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:09:16,278 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:09:16,279 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 56, in call_ollama_api
    |     content += json.loads(chunk).message.content
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'message'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 56, in call_ollama_api
    content += json.loads(chunk).message.content
               ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'message'
2025-07-13 23:09:49,478 uvicorn.error INFO Shutting down
2025-07-13 23:09:49,586 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:09:49,588 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:09:49,589 uvicorn.error INFO Finished server process [29800]
2025-07-13 23:09:49,742 uvicorn.error INFO Stopping reloader process [33892]
2025-07-13 23:09:56,164 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:09:56,164 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:09:56,164 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:56,165 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:09:56,165 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:56,167 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:09:56,167 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:56,167 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:09:56,469 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-13 23:09:56,472 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-13 23:09:56,473 uvicorn.error INFO Started reloader process [30552] using WatchFiles
2025-07-13 23:09:57,870 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:09:57,871 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:09:57,871 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:57,872 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:09:57,872 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:57,873 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:09:57,873 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:09:57,873 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:09:58,153 uvicorn.error INFO Started server process [11360]
2025-07-13 23:09:58,155 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:09:58,157 uvicorn.error INFO Application startup complete.
2025-07-13 23:10:54,280 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:10:54,282 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 23:10:54,283 sqlalchemy.engine.Engine INFO [generated in 0.00048s] ('hi', 'chat', 'gemma3n:latest', 0.0, 1)
2025-07-13 23:10:54,286 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:10:54,294 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:10:54,298 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:10:54,298 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (7,)
2025-07-13 23:10:54,301 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 23:10:54,301 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (1,)
2025-07-13 23:10:54,303 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:10:54,351 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:11:04,361 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:11:04,362 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:11:04,363 sqlalchemy.engine.Engine INFO [generated in 0.00049s] ('string', 'string', 2)
2025-07-13 23:11:04,367 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:11:04,381 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:11:04,383 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:11:04,384 sqlalchemy.engine.Engine INFO [generated in 0.00086s] (22,)
2025-07-13 23:11:04,385 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:11:04,387 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:11:04,387 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:11:04,389 sqlalchemy.engine.Engine INFO [generated in 0.00044s] (2,)
2025-07-13 23:11:04,391 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:11:04,391 sqlalchemy.engine.Engine INFO [generated in 0.00037s] (2, 1, 0)
2025-07-13 23:11:04,392 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:11:04,393 sqlalchemy.engine.Engine INFO [generated in 0.00043s] (2,)
2025-07-13 23:11:04,394 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:11:04,394 sqlalchemy.engine.Engine INFO [cached since 0.003439s ago] (2, 1, 0)
2025-07-13 23:11:04,395 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:11:04,396 sqlalchemy.engine.Engine INFO [cached since 0.003553s ago] (2,)
2025-07-13 23:11:04,397 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:11:04,437 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:11:04,667 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000026FC08108C0>
2025-07-13 23:11:04,668 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:11:04,668 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:11:04,668 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:11:04,668 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:11:04,669 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:11:04,670 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Sun, 13 Jul 2025 17:41:04 GMT'), (b'Content-Length', b'59')])
2025-07-13 23:11:04,671 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 404 Not Found"
2025-07-13 23:11:04,671 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:11:04,671 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:11:04,671 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:11:04,671 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:11:04,672 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 56, in call_ollama_api
    |     content += json.loads(chunk).message.content
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'message'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 56, in call_ollama_api
    content += json.loads(chunk).message.content
               ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'message'
2025-07-13 23:11:58,753 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:11:58,754 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:11:58,754 sqlalchemy.engine.Engine INFO [cached since 54.37s ago] (2,)
2025-07-13 23:11:58,756 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:11:58,756 sqlalchemy.engine.Engine INFO [cached since 54.36s ago] (2,)
2025-07-13 23:11:58,757 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:12:39,811 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:12:39,811 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-13 23:12:39,811 sqlalchemy.engine.Engine INFO [generated in 0.00037s] ()
2025-07-13 23:12:39,818 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 23:12:39,818 sqlalchemy.engine.Engine INFO [cached since 105.5s ago] (1,)
2025-07-13 23:12:39,820 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:12:50,880 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:12:50,882 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:12:50,882 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] ('string', 'string', 7)
2025-07-13 23:12:50,886 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:12:50,896 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:12:50,896 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:12:50,896 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] (23,)
2025-07-13 23:12:50,898 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:12:50,900 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:12:50,902 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:12:50,902 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] (7,)
2025-07-13 23:12:50,903 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:12:50,903 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] (7, 1, 0)
2025-07-13 23:12:50,904 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:12:50,904 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] (7,)
2025-07-13 23:12:50,906 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:12:50,906 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] (7, 1, 0)
2025-07-13 23:12:50,907 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:12:50,907 sqlalchemy.engine.Engine INFO [cached since 106.5s ago] (7,)
2025-07-13 23:12:50,908 httpcore.connection DEBUG close.started
2025-07-13 23:12:50,909 httpcore.connection DEBUG close.complete
2025-07-13 23:12:50,910 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:12:50,957 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:12:51,177 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000026FC090C770>
2025-07-13 23:12:51,177 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:12:51,177 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:12:51,178 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:12:51,178 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:12:51,178 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:13:11,188 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-07-13 23:13:11,188 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:13:11,188 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:13:11,189 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 49, in call_ollama_api
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1583, in stream
    response = await self.send(
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout
2025-07-13 23:13:20,551 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:13:20,552 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:13:20,552 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] ('string', 'string', 7)
2025-07-13 23:13:20,555 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:13:20,565 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:13:20,565 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:13:20,566 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] (24,)
2025-07-13 23:13:20,566 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:13:20,569 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:13:20,570 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:13:20,571 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] (7,)
2025-07-13 23:13:20,572 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:13:20,572 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] (7, 1, 0)
2025-07-13 23:13:20,573 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:13:20,573 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] (7,)
2025-07-13 23:13:20,573 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:13:20,573 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] (7, 1, 0)
2025-07-13 23:13:20,575 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:13:20,575 sqlalchemy.engine.Engine INFO [cached since 136.2s ago] (7,)
2025-07-13 23:13:20,576 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:13:20,644 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:13:20,826 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000026FC090F800>
2025-07-13 23:13:20,827 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:13:20,827 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:13:20,827 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:13:20,827 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:13:20,827 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:13:28,753 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:43:28 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:13:28,753 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:13:28,754 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:13:28,754 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:13:28,754 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:13:28,754 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 56, in call_ollama_api
    |     content += json.loads(chunk).message.content
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'message'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 56, in call_ollama_api
    content += json.loads(chunk).message.content
               ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'message'
2025-07-13 23:13:28,762 httpcore.http11 DEBUG receive_response_body.failed exception=GeneratorExit()
2025-07-13 23:14:34,502 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:14:34,503 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:14:34,568 uvicorn.error INFO Shutting down
2025-07-13 23:14:34,672 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:14:34,673 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:14:34,674 uvicorn.error INFO Finished server process [11360]
2025-07-13 23:14:36,898 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1968975399792'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1968975399792')}
2025-07-13 23:14:37,230 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:14:37,230 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:14:37,230 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:14:37,232 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:14:37,232 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:14:37,233 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:14:37,233 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:14:37,234 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:14:37,518 uvicorn.error INFO Started server process [32320]
2025-07-13 23:14:37,519 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:14:37,521 uvicorn.error INFO Application startup complete.
2025-07-13 23:14:41,081 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:14:41,083 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:14:41,083 sqlalchemy.engine.Engine INFO [generated in 0.00049s] ('string', 'string', 7)
2025-07-13 23:14:41,086 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:14:41,094 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:14:41,096 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:14:41,097 sqlalchemy.engine.Engine INFO [generated in 0.00048s] (25,)
2025-07-13 23:14:41,098 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:14:41,100 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:14:41,102 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:14:41,102 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (7,)
2025-07-13 23:14:41,104 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:14:41,104 sqlalchemy.engine.Engine INFO [generated in 0.00038s] (7, 1, 0)
2025-07-13 23:14:41,106 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:14:41,106 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (7,)
2025-07-13 23:14:41,107 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:14:41,107 sqlalchemy.engine.Engine INFO [cached since 0.0039s ago] (7, 1, 0)
2025-07-13 23:14:41,109 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:14:41,109 sqlalchemy.engine.Engine INFO [cached since 0.003047s ago] (7,)
2025-07-13 23:14:41,111 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:14:41,177 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:14:41,392 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001CA702EA8D0>
2025-07-13 23:14:41,392 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:14:41,394 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:14:41,394 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:14:41,394 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:14:41,394 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:14:41,516 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:44:41 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:14:41,516 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:14:41,518 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:14:41,518 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:14:41,518 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:14:41,518 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 57, in call_ollama_api
    |     content += data["message"]["content"]
    |                ~~~~^^^^^^^^^^^
    | KeyError: 'message'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 57, in call_ollama_api
    content += data["message"]["content"]
               ~~~~^^^^^^^^^^^
KeyError: 'message'
2025-07-13 23:14:41,536 httpcore.http11 DEBUG receive_response_body.failed exception=GeneratorExit()
2025-07-13 23:15:21,067 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:15:21,067 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:15:21,100 uvicorn.error INFO Shutting down
2025-07-13 23:15:21,208 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:15:21,210 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:15:21,211 uvicorn.error INFO Finished server process [32320]
2025-07-13 23:15:22,551 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2091798383472'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2091798383472')}
2025-07-13 23:15:22,799 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:15:22,799 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:15:22,800 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:15:22,800 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:15:22,801 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:15:22,801 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:15:22,801 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:15:22,801 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:15:23,080 uvicorn.error INFO Started server process [18260]
2025-07-13 23:15:23,081 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:15:23,082 uvicorn.error INFO Application startup complete.
2025-07-13 23:15:23,591 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:15:23,592 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:15:23,592 sqlalchemy.engine.Engine INFO [generated in 0.00039s] ('string', 'string', 7)
2025-07-13 23:15:23,595 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:15:23,605 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:15:23,608 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:15:23,608 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (26,)
2025-07-13 23:15:23,609 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:15:23,610 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:15:23,612 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:15:23,612 sqlalchemy.engine.Engine INFO [generated in 0.00043s] (7,)
2025-07-13 23:15:23,613 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:15:23,614 sqlalchemy.engine.Engine INFO [generated in 0.00048s] (7, 1, 0)
2025-07-13 23:15:23,616 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:15:23,617 sqlalchemy.engine.Engine INFO [generated in 0.00053s] (7,)
2025-07-13 23:15:23,618 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:15:23,620 sqlalchemy.engine.Engine INFO [cached since 0.005728s ago] (7, 1, 0)
2025-07-13 23:15:23,620 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:15:23,621 sqlalchemy.engine.Engine INFO [cached since 0.004624s ago] (7,)
2025-07-13 23:15:23,623 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:15:23,670 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:15:23,877 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E70901A6C0>
2025-07-13 23:15:23,877 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:15:23,877 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:15:23,877 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:15:23,877 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:15:23,877 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:15:23,979 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:45:23 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:15:23,981 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:15:23,981 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:15:23,982 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:15:23,982 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:15:23,982 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:16:30,407 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:16:30,407 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:16:30,492 uvicorn.error INFO Shutting down
2025-07-13 23:16:30,601 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:16:30,604 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:16:30,605 uvicorn.error INFO Finished server process [18260]
2025-07-13 23:16:31,907 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2410273852272'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2410273852272'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:16:32,169 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:16:32,169 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:16:32,169 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:16:32,170 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:16:32,170 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:16:32,170 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:16:32,170 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:16:32,172 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:16:32,465 uvicorn.error INFO Started server process [15200]
2025-07-13 23:16:32,467 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:16:32,468 uvicorn.error INFO Application startup complete.
2025-07-13 23:16:33,162 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:16:33,164 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:16:33,164 sqlalchemy.engine.Engine INFO [generated in 0.00047s] ('string', 'string', 7)
2025-07-13 23:16:33,170 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:16:33,179 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:16:33,181 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:16:33,181 sqlalchemy.engine.Engine INFO [generated in 0.00059s] (27,)
2025-07-13 23:16:33,184 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:16:33,188 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:16:33,190 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:16:33,190 sqlalchemy.engine.Engine INFO [generated in 0.00074s] (7,)
2025-07-13 23:16:33,193 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:16:33,193 sqlalchemy.engine.Engine INFO [generated in 0.00050s] (7, 1, 0)
2025-07-13 23:16:33,196 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:16:33,197 sqlalchemy.engine.Engine INFO [generated in 0.00056s] (7,)
2025-07-13 23:16:33,199 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:16:33,199 sqlalchemy.engine.Engine INFO [cached since 0.006404s ago] (7, 1, 0)
2025-07-13 23:16:33,201 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:16:33,201 sqlalchemy.engine.Engine INFO [cached since 0.004282s ago] (7,)
2025-07-13 23:16:33,202 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:16:33,266 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:16:33,457 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002312F9FA7B0>
2025-07-13 23:16:33,457 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:16:33,457 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:16:33,458 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:16:33,458 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:16:33,458 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:16:33,565 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:46:33 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:16:33,565 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:16:33,565 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:16:33,566 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:16:33,566 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:16:33,566 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:16:55,526 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:16:55,527 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 23:16:55,531 sqlalchemy.engine.Engine INFO [generated in 0.00356s] ('hi', 'chat', 'gemma3n:latest', 0.0, 1)
2025-07-13 23:16:55,538 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:16:55,548 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:16:55,549 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:16:55,550 sqlalchemy.engine.Engine INFO [generated in 0.00055s] (8,)
2025-07-13 23:16:55,552 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 23:16:55,552 sqlalchemy.engine.Engine INFO [generated in 0.00036s] (1,)
2025-07-13 23:16:55,554 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:16:55,628 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:18:02,793 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:18:02,793 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 23:18:02,794 sqlalchemy.engine.Engine INFO [cached since 67.27s ago] ('hi', 'chat', 'gemma3n:latest', 0.0, 1)
2025-07-13 23:18:02,797 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:18:02,808 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:18:02,808 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:18:02,808 sqlalchemy.engine.Engine INFO [cached since 67.26s ago] (9,)
2025-07-13 23:18:02,810 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 23:18:02,810 sqlalchemy.engine.Engine INFO [cached since 67.26s ago] (1,)
2025-07-13 23:18:02,812 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:18:02,882 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:18:24,876 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:18:24,876 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:18:24,877 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] ('hi', 'human', 9)
2025-07-13 23:18:24,880 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:18:24,889 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:18:24,890 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:18:24,890 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] (28,)
2025-07-13 23:18:24,891 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:18:24,893 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:18:24,893 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:18:24,893 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] (9,)
2025-07-13 23:18:24,894 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:18:24,894 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] (9, 1, 0)
2025-07-13 23:18:24,896 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:18:24,897 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] (9,)
2025-07-13 23:18:24,903 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:18:24,905 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] (9, 1, 0)
2025-07-13 23:18:24,907 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:18:24,912 sqlalchemy.engine.Engine INFO [cached since 111.7s ago] (9,)
2025-07-13 23:18:24,917 httpcore.connection DEBUG close.started
2025-07-13 23:18:24,918 httpcore.connection DEBUG close.complete
2025-07-13 23:18:24,918 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:18:24,962 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:18:25,183 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002312FA31AF0>
2025-07-13 23:18:25,183 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:18:25,183 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:18:25,183 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:18:25,183 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:18:25,183 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:18:25,297 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:48:25 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:18:25,297 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:18:25,297 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:18:25,298 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:18:25,298 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:18:25,298 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:22:19,022 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:22:19,023 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:22:19,023 sqlalchemy.engine.Engine INFO [cached since 345.9s ago] ('\nhi', 'user', 9)
2025-07-13 23:22:19,027 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:22:19,035 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:22:19,035 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:22:19,037 sqlalchemy.engine.Engine INFO [cached since 345.9s ago] (29,)
2025-07-13 23:22:19,038 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:22:19,040 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:22:19,041 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:22:19,041 sqlalchemy.engine.Engine INFO [cached since 345.9s ago] (9,)
2025-07-13 23:22:19,042 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:22:19,043 sqlalchemy.engine.Engine INFO [cached since 345.8s ago] (9, 1, 0)
2025-07-13 23:22:19,044 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:22:19,044 sqlalchemy.engine.Engine INFO [cached since 345.8s ago] (9,)
2025-07-13 23:22:19,045 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:22:19,045 sqlalchemy.engine.Engine INFO [cached since 345.9s ago] (9, 1, 0)
2025-07-13 23:22:19,046 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:22:19,047 sqlalchemy.engine.Engine INFO [cached since 345.9s ago] (9,)
2025-07-13 23:22:19,048 httpcore.connection DEBUG close.started
2025-07-13 23:22:19,049 httpcore.connection DEBUG close.complete
2025-07-13 23:22:19,049 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:22:19,110 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:22:19,301 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002312FA33020>
2025-07-13 23:22:19,301 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:22:19,301 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:22:19,302 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:22:19,302 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:22:19,302 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:22:19,982 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:52:19 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:22:19,983 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:22:19,983 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:22:40,126 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:22:40,126 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:22:40,126 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:22:48,819 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:22:48,819 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:22:48,821 sqlalchemy.engine.Engine INFO [cached since 375.7s ago] ('hello my name is rahul\n', 'user', 9)
2025-07-13 23:22:48,824 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:22:48,834 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:22:48,834 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:22:48,835 sqlalchemy.engine.Engine INFO [cached since 375.7s ago] (30,)
2025-07-13 23:22:48,836 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:22:48,838 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:22:48,838 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:22:48,838 sqlalchemy.engine.Engine INFO [cached since 375.6s ago] (9,)
2025-07-13 23:22:48,839 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:22:48,840 sqlalchemy.engine.Engine INFO [cached since 375.6s ago] (9, 1, 0)
2025-07-13 23:22:48,841 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:22:48,841 sqlalchemy.engine.Engine INFO [cached since 375.6s ago] (9,)
2025-07-13 23:22:48,842 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:22:48,842 sqlalchemy.engine.Engine INFO [cached since 375.6s ago] (9, 1, 0)
2025-07-13 23:22:48,842 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:22:48,842 sqlalchemy.engine.Engine INFO [cached since 375.6s ago] (9,)
2025-07-13 23:22:48,845 httpcore.connection DEBUG close.started
2025-07-13 23:22:48,845 httpcore.connection DEBUG close.complete
2025-07-13 23:22:48,845 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:22:48,932 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:22:49,111 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002312FA332F0>
2025-07-13 23:22:49,111 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:22:49,111 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:22:49,112 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:22:49,112 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:22:49,112 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:22:49,835 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:52:49 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:22:49,836 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:22:49,836 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:22:55,309 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:22:55,309 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:22:55,309 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:23:23,448 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:23:23,449 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:23:23,449 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] ('what is my name ?\n', 'user', 9)
2025-07-13 23:23:23,452 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:23:23,460 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:23:23,461 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:23:23,461 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] (31,)
2025-07-13 23:23:23,462 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:23:23,464 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:23:23,465 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:23:23,465 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] (9,)
2025-07-13 23:23:23,466 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:23:23,467 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] (9, 1, 0)
2025-07-13 23:23:23,468 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:23:23,468 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] (9,)
2025-07-13 23:23:23,469 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:23:23,470 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] (9, 1, 0)
2025-07-13 23:23:23,471 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:23:23,471 sqlalchemy.engine.Engine INFO [cached since 410.3s ago] (9,)
2025-07-13 23:23:23,473 httpcore.connection DEBUG close.started
2025-07-13 23:23:23,473 httpcore.connection DEBUG close.complete
2025-07-13 23:23:23,473 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:23:23,551 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:23:23,727 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002312FA32150>
2025-07-13 23:23:23,727 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:23:23,727 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:23:23,728 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:23:23,728 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:23:23,728 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:23:24,464 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 17:53:24 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:23:24,464 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:23:24,464 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:23:26,137 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:23:26,137 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:23:26,137 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:28:31,183 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:28:31,183 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:28:31,213 uvicorn.error INFO Shutting down
2025-07-13 23:28:31,321 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:28:31,322 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:28:31,324 uvicorn.error INFO Finished server process [15200]
2025-07-13 23:28:32,697 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1997650807664'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1997650807664')}
2025-07-13 23:28:32,957 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:28:32,958 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:28:32,958 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:28:32,959 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:28:32,959 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:28:32,959 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:28:32,960 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:28:32,960 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:28:33,255 uvicorn.error INFO Started server process [6712]
2025-07-13 23:28:33,256 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:28:33,258 uvicorn.error INFO Application startup complete.
2025-07-13 23:28:42,825 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:28:42,827 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 23:28:42,827 sqlalchemy.engine.Engine INFO [generated in 0.00054s] ('hi', 'chat', 'gemma3n:latest', 0.0, 1)
2025-07-13 23:28:42,831 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:28:42,840 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:28:42,843 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:28:42,844 sqlalchemy.engine.Engine INFO [generated in 0.00044s] (10,)
2025-07-13 23:28:42,846 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 23:28:42,846 sqlalchemy.engine.Engine INFO [generated in 0.00046s] (1,)
2025-07-13 23:28:42,848 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:28:42,932 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:29:21,335 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:29:21,337 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:29:21,337 sqlalchemy.engine.Engine INFO [generated in 0.00045s] ('hi', 'user', 10)
2025-07-13 23:29:21,340 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:29:21,350 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:29:21,352 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:29:21,352 sqlalchemy.engine.Engine INFO [generated in 0.00057s] (32,)
2025-07-13 23:29:21,354 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:29:21,356 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 39, in call_ollama_api
    |     ollama_chats = db_to_ollama(chats=user_chat)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 76, in db_to_ollama
    |     temp_chat["role"] = chat_.message_type
    |                         ^^^^^^^^^^^^^^^^^^
    | AttributeError: 'tuple' object has no attribute 'message_type'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 39, in call_ollama_api
    ollama_chats = db_to_ollama(chats=user_chat)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 76, in db_to_ollama
    temp_chat["role"] = chat_.message_type
                        ^^^^^^^^^^^^^^^^^^
AttributeError: 'tuple' object has no attribute 'message_type'
2025-07-13 23:29:21,435 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:31:06,593 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:31:06,594 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:31:06,595 sqlalchemy.engine.Engine INFO [generated in 0.00043s] (10,)
2025-07-13 23:31:06,596 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:31:06,597 sqlalchemy.engine.Engine INFO [generated in 0.00049s] (10,)
2025-07-13 23:31:06,598 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:32:13,801 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:32:13,801 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:32:13,802 sqlalchemy.engine.Engine INFO [cached since 172.5s ago] ('\nhi', 'user', 10)
2025-07-13 23:32:13,806 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:32:13,816 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:32:13,817 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:32:13,818 sqlalchemy.engine.Engine INFO [cached since 172.5s ago] (33,)
2025-07-13 23:32:13,819 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:32:13,822 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 39, in call_ollama_api
    |     ollama_chats = db_to_ollama(chats=user_chat)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 76, in db_to_ollama
    |     temp_chat["role"] = chat_.message_type
    |                         ^^^^^^^^^^^^^^^^^^
    | AttributeError: 'tuple' object has no attribute 'message_type'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 39, in call_ollama_api
    ollama_chats = db_to_ollama(chats=user_chat)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 76, in db_to_ollama
    temp_chat["role"] = chat_.message_type
                        ^^^^^^^^^^^^^^^^^^
AttributeError: 'tuple' object has no attribute 'message_type'
2025-07-13 23:32:13,905 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:32:42,687 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:32:42,687 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:32:42,702 uvicorn.error INFO Shutting down
2025-07-13 23:32:42,810 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:32:42,812 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:32:42,813 uvicorn.error INFO Finished server process [6712]
2025-07-13 23:32:44,151 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1654165949296'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1654165949296'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:32:44,416 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:32:44,417 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:32:44,417 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:32:44,417 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:32:44,418 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:32:44,418 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:32:44,418 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:32:44,418 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:32:44,704 uvicorn.error INFO Started server process [12052]
2025-07-13 23:32:44,706 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:32:44,707 uvicorn.error INFO Application startup complete.
2025-07-13 23:33:17,412 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:33:17,413 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-13 23:33:17,414 sqlalchemy.engine.Engine INFO [generated in 0.00066s] ('hi', 'chat', 'gemma3n:latest', 0.0, 1)
2025-07-13 23:33:17,417 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:33:17,429 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:33:17,431 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:33:17,432 sqlalchemy.engine.Engine INFO [generated in 0.00050s] (11,)
2025-07-13 23:33:17,434 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-13 23:33:17,434 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (1,)
2025-07-13 23:33:17,436 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:33:17,489 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:33:29,578 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:33:29,580 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:33:29,580 sqlalchemy.engine.Engine INFO [generated in 0.00039s] ('hi', 'user', 11)
2025-07-13 23:33:29,584 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:33:29,593 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:33:29,594 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:33:29,594 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (34,)
2025-07-13 23:33:29,596 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:33:29,599 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:33:29,600 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:33:29,601 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (11,)
2025-07-13 23:33:29,602 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:33:29,602 sqlalchemy.engine.Engine INFO [generated in 0.00049s] (11, 1, 0)
2025-07-13 23:33:29,604 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:33:29,605 sqlalchemy.engine.Engine INFO [generated in 0.00044s] (11,)
2025-07-13 23:33:29,606 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:33:29,606 sqlalchemy.engine.Engine INFO [cached since 0.004067s ago] (11, 1, 0)
2025-07-13 23:33:29,607 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:33:29,607 sqlalchemy.engine.Engine INFO [cached since 0.00307s ago] (11,)
2025-07-13 23:33:29,609 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:33:29,674 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:33:29,879 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000018124188BF0>
2025-07-13 23:33:29,879 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:33:29,880 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:33:29,880 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:33:29,880 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:33:29,880 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:33:42,920 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 18:03:42 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:33:42,920 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:33:42,920 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:33:46,744 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:33:46,744 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:33:46,744 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:33:46,745 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:33:46,745 sqlalchemy.engine.Engine INFO [cached since 17.17s ago] ('', 'assistant', 11)
2025-07-13 23:33:46,748 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:33:46,757 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:33:46,758 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:33:46,758 sqlalchemy.engine.Engine INFO [cached since 17.16s ago] (35,)
2025-07-13 23:33:46,818 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:34:13,726 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:34:13,727 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:34:13,727 sqlalchemy.engine.Engine INFO [cached since 44.13s ago] (11,)
2025-07-13 23:34:13,728 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:34:13,728 sqlalchemy.engine.Engine INFO [cached since 44.12s ago] (11,)
2025-07-13 23:34:13,731 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:34:13,731 sqlalchemy.engine.Engine INFO [cached since 44.13s ago] (11,)
2025-07-13 23:34:13,733 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:35:54,695 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:35:54,695 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:35:54,713 uvicorn.error INFO Shutting down
2025-07-13 23:35:54,820 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:35:54,821 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:35:54,822 uvicorn.error INFO Finished server process [12052]
2025-07-13 23:35:56,277 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2268233747312'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2268233747312')}
2025-07-13 23:35:56,570 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:35:56,570 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:35:56,570 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:35:56,571 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:35:56,571 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:35:56,572 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:35:56,572 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:35:56,572 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:35:56,858 uvicorn.error INFO Started server process [24652]
2025-07-13 23:35:56,861 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:35:56,862 uvicorn.error INFO Application startup complete.
2025-07-13 23:36:01,016 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:36:01,016 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:36:01,113 uvicorn.error INFO Shutting down
2025-07-13 23:36:01,223 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:36:01,224 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:36:01,225 uvicorn.error INFO Finished server process [24652]
2025-07-13 23:36:02,596 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2259494914928'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2259494914928')}
2025-07-13 23:36:02,865 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:02,865 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:36:02,865 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:36:02,867 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:36:02,867 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:36:02,867 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:36:02,867 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:36:02,868 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:36:03,160 uvicorn.error INFO Started server process [32864]
2025-07-13 23:36:03,161 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:36:03,161 uvicorn.error INFO Application startup complete.
2025-07-13 23:36:06,547 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:06,548 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:36:06,549 sqlalchemy.engine.Engine INFO [generated in 0.00044s] ('hi\n', 'user', 11)
2025-07-13 23:36:06,550 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:36:06,560 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:06,562 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:36:06,563 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (36,)
2025-07-13 23:36:06,563 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:36:06,565 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:06,568 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:36:06,568 sqlalchemy.engine.Engine INFO [generated in 0.00046s] (11,)
2025-07-13 23:36:06,570 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:36:06,570 sqlalchemy.engine.Engine INFO [generated in 0.00043s] (11, 1, 0)
2025-07-13 23:36:06,573 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:36:06,573 sqlalchemy.engine.Engine INFO [generated in 0.00066s] (11,)
2025-07-13 23:36:06,575 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:36:06,576 sqlalchemy.engine.Engine INFO [cached since 0.005713s ago] (11, 1, 0)
2025-07-13 23:36:06,577 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:36:06,578 sqlalchemy.engine.Engine INFO [cached since 0.005236s ago] (11,)
2025-07-13 23:36:06,580 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:36:06,619 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:36:06,847 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020E147EA840>
2025-07-13 23:36:06,847 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:36:06,847 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:36:06,847 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:36:06,847 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:36:06,847 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:36:07,622 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 18:06:07 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:36:07,622 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:36:07,622 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:36:11,175 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:36:11,175 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:36:11,175 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:36:11,178 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 256, in stream_response
    |     chunk = chunk.encode(self.charset)
    |             ^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'encode'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 256, in stream_response
    chunk = chunk.encode(self.charset)
            ^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'encode'
2025-07-13 23:36:30,922 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:36:30,922 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:36:31,011 uvicorn.error INFO Shutting down
2025-07-13 23:36:31,121 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:36:31,122 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:36:31,123 uvicorn.error INFO Finished server process [32864]
2025-07-13 23:36:32,512 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1957491395440'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1957491395440')}
2025-07-13 23:36:32,737 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:32,737 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:36:32,737 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:36:32,739 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:36:32,739 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:36:32,740 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:36:32,740 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:36:32,741 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:36:33,019 uvicorn.error INFO Started server process [32524]
2025-07-13 23:36:33,021 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:36:33,022 uvicorn.error INFO Application startup complete.
2025-07-13 23:36:34,207 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:34,208 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:36:34,209 sqlalchemy.engine.Engine INFO [generated in 0.00048s] ('\nhi', 'user', 11)
2025-07-13 23:36:34,212 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:36:34,221 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:34,223 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:36:34,223 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (37,)
2025-07-13 23:36:34,225 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:36:34,228 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:34,230 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:36:34,230 sqlalchemy.engine.Engine INFO [generated in 0.00051s] (11,)
2025-07-13 23:36:34,232 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:36:34,232 sqlalchemy.engine.Engine INFO [generated in 0.00045s] (11, 1, 0)
2025-07-13 23:36:34,234 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:36:34,235 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (11,)
2025-07-13 23:36:34,236 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:36:34,236 sqlalchemy.engine.Engine INFO [cached since 0.00495s ago] (11, 1, 0)
2025-07-13 23:36:34,237 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:36:34,237 sqlalchemy.engine.Engine INFO [cached since 0.003266s ago] (11,)
2025-07-13 23:36:34,239 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:36:34,279 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:36:34,504 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001C7C3AEA960>
2025-07-13 23:36:34,505 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:36:34,505 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:36:34,505 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:36:34,505 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:36:34,505 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:36:35,021 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 18:06:35 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:36:35,021 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:36:35,022 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:36:40,414 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:36:40,414 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:36:40,414 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:36:40,414 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:36:40,415 sqlalchemy.engine.Engine INFO [cached since 6.207s ago] ('content', 'assistant', 11)
2025-07-13 23:36:40,418 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:36:40,426 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:36:40,427 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:36:40,427 sqlalchemy.engine.Engine INFO [cached since 6.204s ago] (38,)
2025-07-13 23:36:40,500 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:37:13,352 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-13 23:37:13,352 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-13 23:37:13,415 uvicorn.error INFO Shutting down
2025-07-13 23:37:13,524 uvicorn.error INFO Waiting for application shutdown.
2025-07-13 23:37:13,525 uvicorn.error INFO Application shutdown complete.
2025-07-13 23:37:13,527 uvicorn.error INFO Finished server process [32524]
2025-07-13 23:37:14,970 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1889105365872'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1889105365872'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-13 23:37:15,189 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:37:15,190 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-13 23:37:15,190 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:37:15,190 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-13 23:37:15,190 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:37:15,191 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-13 23:37:15,191 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-13 23:37:15,191 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:37:15,482 uvicorn.error INFO Started server process [22568]
2025-07-13 23:37:15,482 uvicorn.error INFO Waiting for application startup.
2025-07-13 23:37:15,484 uvicorn.error INFO Application startup complete.
2025-07-13 23:37:16,489 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:37:16,491 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:37:16,491 sqlalchemy.engine.Engine INFO [generated in 0.00040s] ('\nhi', 'user', 11)
2025-07-13 23:37:16,498 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:37:16,540 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:37:16,543 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:37:16,543 sqlalchemy.engine.Engine INFO [generated in 0.00046s] (39,)
2025-07-13 23:37:16,544 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-13 23:37:16,546 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:37:16,547 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:37:16,548 sqlalchemy.engine.Engine INFO [generated in 0.00044s] (11,)
2025-07-13 23:37:16,549 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:37:16,550 sqlalchemy.engine.Engine INFO [generated in 0.00049s] (11, 1, 0)
2025-07-13 23:37:16,554 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:37:16,554 sqlalchemy.engine.Engine INFO [generated in 0.00064s] (11,)
2025-07-13 23:37:16,556 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-13 23:37:16,556 sqlalchemy.engine.Engine INFO [cached since 0.006333s ago] (11, 1, 0)
2025-07-13 23:37:16,557 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:37:16,557 sqlalchemy.engine.Engine INFO [cached since 0.004324s ago] (11,)
2025-07-13 23:37:16,559 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-13 23:37:16,637 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:37:16,836 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001B7D78EA600>
2025-07-13 23:37:16,836 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-13 23:37:16,837 httpcore.http11 DEBUG send_request_headers.complete
2025-07-13 23:37:16,837 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-13 23:37:16,837 httpcore.http11 DEBUG send_request_body.complete
2025-07-13 23:37:16,837 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-13 23:37:17,530 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Sun, 13 Jul 2025 18:07:17 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-13 23:37:17,530 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-13 23:37:17,530 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-13 23:37:21,505 httpcore.http11 DEBUG receive_response_body.complete
2025-07-13 23:37:21,505 httpcore.http11 DEBUG response_closed.started
2025-07-13 23:37:21,505 httpcore.http11 DEBUG response_closed.complete
2025-07-13 23:37:21,506 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-13 23:37:21,506 sqlalchemy.engine.Engine INFO [cached since 5.015s ago] ("Hi there! \U0001f44b How can I help you today? \U0001f60a \n\nIs there anything you'd like to talk about, or a question you have? I'm ready to chat! \u2728\n\n\n\n", 'assistant', 11)
2025-07-13 23:37:21,509 sqlalchemy.engine.Engine INFO COMMIT
2025-07-13 23:37:21,517 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:37:21,517 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-13 23:37:21,518 sqlalchemy.engine.Engine INFO [cached since 4.975s ago] (40,)
2025-07-13 23:37:21,582 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-13 23:37:29,593 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-13 23:37:29,593 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-13 23:37:29,593 sqlalchemy.engine.Engine INFO [cached since 13.05s ago] (11,)
2025-07-13 23:37:29,595 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:37:29,596 sqlalchemy.engine.Engine INFO [cached since 13.04s ago] (11,)
2025-07-13 23:37:29,597 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-13 23:37:29,597 sqlalchemy.engine.Engine INFO [cached since 13.04s ago] (11,)
2025-07-13 23:37:29,597 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 17:50:47,523 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain')}
2025-07-14 17:51:02,647 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\file.py')}
2025-07-14 17:51:02,648 uvicorn.error WARNING WatchFiles detected changes in 'langchain\file.py'. Reloading...
2025-07-14 17:51:02,671 uvicorn.error INFO Shutting down
2025-07-14 17:51:02,780 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 17:51:02,783 uvicorn.error INFO Application shutdown complete.
2025-07-14 17:51:02,785 uvicorn.error INFO Finished server process [22568]
2025-07-14 17:51:03,426 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain')}
2025-07-14 17:51:09,611 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 17:51:09,612 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 17:51:09,612 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 17:51:09,613 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 17:51:09,613 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 17:51:09,614 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 17:51:09,614 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 17:51:09,614 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 17:51:09,902 uvicorn.error INFO Started server process [5368]
2025-07-14 17:51:09,905 uvicorn.error INFO Waiting for application startup.
2025-07-14 17:51:09,906 uvicorn.error INFO Application startup complete.
2025-07-14 18:13:04,695 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:13:04,697 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:13:04,698 sqlalchemy.engine.Engine INFO [generated in 0.00047s] ()
2025-07-14 18:13:04,701 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:13:04,703 sqlalchemy.engine.Engine INFO [generated in 0.00065s] (1,)
2025-07-14 18:13:04,706 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:13:04,711 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:13:04,712 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:13:04,712 sqlalchemy.engine.Engine INFO [cached since 0.0147s ago] ()
2025-07-14 18:13:04,714 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:13:04,714 sqlalchemy.engine.Engine INFO [cached since 0.01253s ago] (1,)
2025-07-14 18:13:04,716 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:15:35,959 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:15:35,960 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:15:35,960 sqlalchemy.engine.Engine INFO [cached since 151.3s ago] ()
2025-07-14 18:15:35,961 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:15:35,961 sqlalchemy.engine.Engine INFO [cached since 151.3s ago] (1,)
2025-07-14 18:15:35,963 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:15:48,632 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:15:48,633 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:15:48,633 sqlalchemy.engine.Engine INFO [cached since 163.9s ago] ()
2025-07-14 18:15:48,635 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:15:48,635 sqlalchemy.engine.Engine INFO [cached since 163.9s ago] (1,)
2025-07-14 18:15:48,636 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:15:51,045 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:15:51,046 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:15:51,046 sqlalchemy.engine.Engine INFO [cached since 166.3s ago] ()
2025-07-14 18:15:51,048 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:15:51,048 sqlalchemy.engine.Engine INFO [cached since 166.3s ago] (1,)
2025-07-14 18:15:51,049 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:16:25,529 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:16:25,530 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:16:25,530 sqlalchemy.engine.Engine INFO [cached since 200.8s ago] ()
2025-07-14 18:16:25,531 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:16:25,532 sqlalchemy.engine.Engine INFO [cached since 200.8s ago] (1,)
2025-07-14 18:16:25,533 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:16:30,422 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:16:30,425 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:16:30,425 sqlalchemy.engine.Engine INFO [cached since 205.7s ago] ()
2025-07-14 18:16:30,429 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:16:30,429 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:16:30,429 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:16:30,430 sqlalchemy.engine.Engine INFO [cached since 205.7s ago] (1,)
2025-07-14 18:16:30,430 sqlalchemy.engine.Engine INFO [cached since 205.7s ago] ()
2025-07-14 18:16:30,434 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:16:30,436 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:16:30,437 sqlalchemy.engine.Engine INFO [cached since 205.7s ago] (1,)
2025-07-14 18:16:30,442 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:17:11,419 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:17:11,421 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:17:11,421 sqlalchemy.engine.Engine INFO [cached since 246.7s ago] ()
2025-07-14 18:17:11,423 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:17:11,423 sqlalchemy.engine.Engine INFO [cached since 246.7s ago] (1,)
2025-07-14 18:17:11,425 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:17:41,758 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:17:41,758 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:17:41,759 sqlalchemy.engine.Engine INFO [cached since 277.1s ago] ()
2025-07-14 18:17:41,763 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:17:41,763 sqlalchemy.engine.Engine INFO [cached since 277.1s ago] (1,)
2025-07-14 18:17:41,765 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:17:41,770 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:17:41,770 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:17:41,771 sqlalchemy.engine.Engine INFO [cached since 277.1s ago] ()
2025-07-14 18:17:41,772 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:17:41,772 sqlalchemy.engine.Engine INFO [cached since 277.1s ago] (1,)
2025-07-14 18:17:41,774 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:20:19,001 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:20:19,002 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:20:19,002 sqlalchemy.engine.Engine INFO [cached since 434.3s ago] ()
2025-07-14 18:20:19,004 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:20:19,004 sqlalchemy.engine.Engine INFO [cached since 434.3s ago] (1,)
2025-07-14 18:20:19,005 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:20:33,258 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:20:33,259 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:20:33,259 sqlalchemy.engine.Engine INFO [cached since 448.6s ago] ()
2025-07-14 18:20:33,261 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:20:33,261 sqlalchemy.engine.Engine INFO [cached since 448.6s ago] (1,)
2025-07-14 18:20:33,263 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:20:37,351 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:20:37,351 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:20:37,352 sqlalchemy.engine.Engine INFO [cached since 452.7s ago] ()
2025-07-14 18:20:37,355 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:20:37,355 sqlalchemy.engine.Engine INFO [cached since 452.7s ago] (1,)
2025-07-14 18:20:37,357 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:20:37,366 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:20:37,367 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:20:37,367 sqlalchemy.engine.Engine INFO [cached since 452.7s ago] ()
2025-07-14 18:20:37,369 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:20:37,370 sqlalchemy.engine.Engine INFO [cached since 452.7s ago] (1,)
2025-07-14 18:20:37,372 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:21:42,875 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:21:42,877 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:21:42,878 sqlalchemy.engine.Engine INFO [cached since 518.2s ago] ()
2025-07-14 18:21:42,880 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:21:42,880 sqlalchemy.engine.Engine INFO [cached since 518.2s ago] (1,)
2025-07-14 18:21:42,881 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:21:42,886 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:21:42,886 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:21:42,886 sqlalchemy.engine.Engine INFO [cached since 518.2s ago] ()
2025-07-14 18:21:42,889 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:21:42,889 sqlalchemy.engine.Engine INFO [cached since 518.2s ago] (1,)
2025-07-14 18:21:42,890 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:23:30,002 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:23:30,003 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:23:30,003 sqlalchemy.engine.Engine INFO [cached since 625.3s ago] ()
2025-07-14 18:23:30,004 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:23:30,005 sqlalchemy.engine.Engine INFO [cached since 625.3s ago] (1,)
2025-07-14 18:23:30,006 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:24:24,645 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:24:24,647 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:24:24,647 sqlalchemy.engine.Engine INFO [cached since 679.9s ago] ()
2025-07-14 18:24:24,648 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:24:24,648 sqlalchemy.engine.Engine INFO [cached since 679.9s ago] (1,)
2025-07-14 18:24:24,650 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:37:30,374 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:37:30,374 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:37:30,374 sqlalchemy.engine.Engine INFO [cached since 1466s ago] ()
2025-07-14 18:37:30,375 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:37:30,375 sqlalchemy.engine.Engine INFO [cached since 1466s ago] (1,)
2025-07-14 18:37:30,377 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:38:38,373 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:38:38,373 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:38:38,374 sqlalchemy.engine.Engine INFO [cached since 1534s ago] ()
2025-07-14 18:38:38,374 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:38:38,376 sqlalchemy.engine.Engine INFO [cached since 1534s ago] (1,)
2025-07-14 18:38:38,377 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:38:44,761 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:38:44,762 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:38:44,762 sqlalchemy.engine.Engine INFO [cached since 1540s ago] ()
2025-07-14 18:38:44,764 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:38:44,764 sqlalchemy.engine.Engine INFO [cached since 1540s ago] (1,)
2025-07-14 18:38:44,765 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:38:44,772 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:38:44,773 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:38:44,773 sqlalchemy.engine.Engine INFO [cached since 1540s ago] ()
2025-07-14 18:38:44,774 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:38:44,774 sqlalchemy.engine.Engine INFO [cached since 1540s ago] (1,)
2025-07-14 18:38:44,776 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:38:57,237 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:38:57,240 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:38:57,242 sqlalchemy.engine.Engine INFO [generated in 0.00075s] ('hello', 'user', 11)
2025-07-14 18:38:57,246 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:38:57,257 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:38:57,260 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:38:57,261 sqlalchemy.engine.Engine INFO [generated in 0.00130s] (41,)
2025-07-14 18:38:57,264 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:38:57,268 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:38:57,269 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 18:38:57,269 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (11,)
2025-07-14 18:38:57,271 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:38:57,271 sqlalchemy.engine.Engine INFO [generated in 0.00055s] (11, 1, 0)
2025-07-14 18:38:57,274 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:38:57,274 sqlalchemy.engine.Engine INFO [generated in 0.00058s] (11,)
2025-07-14 18:38:57,276 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:38:57,276 sqlalchemy.engine.Engine INFO [cached since 0.00489s ago] (11, 1, 0)
2025-07-14 18:38:57,278 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:38:57,279 sqlalchemy.engine.Engine INFO [cached since 0.005132s ago] (11,)
2025-07-14 18:38:57,281 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 18:38:57,320 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:38:57,528 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002143124F800>
2025-07-14 18:38:57,528 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 18:38:57,528 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 18:38:57,529 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 18:38:57,529 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 18:38:57,529 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 18:39:17,553 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-07-14 18:39:17,553 httpcore.http11 DEBUG response_closed.started
2025-07-14 18:39:17,554 httpcore.http11 DEBUG response_closed.complete
2025-07-14 18:39:17,559 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 50, in call_ollama_api
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1583, in stream
    response = await self.send(
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout
2025-07-14 18:39:44,046 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:39:44,048 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 18:39:44,048 sqlalchemy.engine.Engine INFO [generated in 0.00103s] ('hi', 'chat', 'gemma3n:latest', 0.0, 1)
2025-07-14 18:39:44,050 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:39:44,059 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:39:44,059 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:39:44,061 sqlalchemy.engine.Engine INFO [generated in 0.00035s] (12,)
2025-07-14 18:39:44,062 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:39:44,062 sqlalchemy.engine.Engine INFO [cached since 1599s ago] (1,)
2025-07-14 18:39:44,063 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:39:44,153 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:40:24,396 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:40:24,397 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:40:24,397 sqlalchemy.engine.Engine INFO [cached since 1640s ago] ()
2025-07-14 18:40:24,398 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:40:24,398 sqlalchemy.engine.Engine INFO [cached since 1640s ago] (1,)
2025-07-14 18:40:24,399 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:40:50,829 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:40:50,832 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:40:50,835 sqlalchemy.engine.Engine INFO [cached since 1666s ago] ()
2025-07-14 18:40:50,838 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:40:50,844 sqlalchemy.engine.Engine INFO [cached since 1666s ago] (1,)
2025-07-14 18:40:50,848 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:40:50,860 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:40:50,861 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:40:50,862 sqlalchemy.engine.Engine INFO [cached since 1666s ago] ()
2025-07-14 18:40:50,865 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:40:50,865 sqlalchemy.engine.Engine INFO [cached since 1666s ago] (1,)
2025-07-14 18:40:50,867 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:40:55,297 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:40:55,297 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:40:55,298 sqlalchemy.engine.Engine INFO [cached since 118.1s ago] ('hi', 'user', 11)
2025-07-14 18:40:55,302 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:40:55,310 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:40:55,310 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:40:55,310 sqlalchemy.engine.Engine INFO [cached since 118.1s ago] (42,)
2025-07-14 18:40:55,312 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:40:55,314 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:40:55,315 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 18:40:55,315 sqlalchemy.engine.Engine INFO [cached since 118s ago] (11,)
2025-07-14 18:40:55,317 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:40:55,317 sqlalchemy.engine.Engine INFO [cached since 118s ago] (11, 1, 0)
2025-07-14 18:40:55,318 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:40:55,318 sqlalchemy.engine.Engine INFO [cached since 118s ago] (11,)
2025-07-14 18:40:55,319 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:40:55,321 sqlalchemy.engine.Engine INFO [cached since 118s ago] (11, 1, 0)
2025-07-14 18:40:55,322 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:40:55,322 sqlalchemy.engine.Engine INFO [cached since 118s ago] (11,)
2025-07-14 18:40:55,324 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 18:40:55,384 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:40:55,590 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002143130A900>
2025-07-14 18:40:55,591 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 18:40:55,591 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 18:40:55,591 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 18:40:55,591 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 18:40:55,591 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 18:41:10,307 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:11:10 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 18:41:10,308 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 18:41:10,309 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 18:41:14,830 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 18:41:14,830 httpcore.http11 DEBUG response_closed.started
2025-07-14 18:41:14,832 httpcore.http11 DEBUG response_closed.complete
2025-07-14 18:41:14,833 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:41:14,833 sqlalchemy.engine.Engine INFO [cached since 137.6s ago] ('Hello to you too! \U0001f60a  It\'s nice to "meet" you.  How are you doing today?  Is there anything on your mind?  Let me know! \u2728\n\n\n\n', 'assistant', 11)
2025-07-14 18:41:14,836 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:41:14,845 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:41:14,846 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:41:14,847 sqlalchemy.engine.Engine INFO [cached since 137.6s ago] (43,)
2025-07-14 18:41:14,900 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:42:58,415 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:42:58,415 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:42:58,415 sqlalchemy.engine.Engine INFO [cached since 1794s ago] ()
2025-07-14 18:42:58,417 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:42:58,417 sqlalchemy.engine.Engine INFO [cached since 1794s ago] (1,)
2025-07-14 18:42:58,418 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:43:12,906 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:12,906 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:43:12,907 sqlalchemy.engine.Engine INFO [cached since 1808s ago] ()
2025-07-14 18:43:12,912 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:43:12,914 sqlalchemy.engine.Engine INFO [cached since 1808s ago] (1,)
2025-07-14 18:43:12,915 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:43:12,922 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:12,923 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:43:12,923 sqlalchemy.engine.Engine INFO [cached since 1808s ago] ()
2025-07-14 18:43:12,924 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:43:12,926 sqlalchemy.engine.Engine INFO [cached since 1808s ago] (1,)
2025-07-14 18:43:12,927 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:43:16,924 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:16,924 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 18:43:16,925 sqlalchemy.engine.Engine INFO [cached since 212.9s ago] ('hello', 'chat', 'gemma3n:latest', 0.0, 2)
2025-07-14 18:43:16,928 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:43:16,937 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:16,938 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:43:16,938 sqlalchemy.engine.Engine INFO [cached since 212.9s ago] (13,)
2025-07-14 18:43:16,941 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:43:16,941 sqlalchemy.engine.Engine INFO [cached since 1812s ago] (2,)
2025-07-14 18:43:16,942 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:43:17,002 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:43:17,089 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:17,089 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:43:17,089 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] ('hello', 'user', 11)
2025-07-14 18:43:17,092 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:43:17,101 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:17,102 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:43:17,102 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] (44,)
2025-07-14 18:43:17,104 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:43:17,106 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:17,107 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 18:43:17,107 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] (11,)
2025-07-14 18:43:17,108 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:43:17,108 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] (11, 1, 0)
2025-07-14 18:43:17,110 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:43:17,111 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] (11,)
2025-07-14 18:43:17,112 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:43:17,112 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] (11, 1, 0)
2025-07-14 18:43:17,113 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:43:17,113 sqlalchemy.engine.Engine INFO [cached since 259.8s ago] (11,)
2025-07-14 18:43:17,114 httpcore.connection DEBUG close.started
2025-07-14 18:43:17,116 httpcore.connection DEBUG close.complete
2025-07-14 18:43:17,116 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 18:43:17,358 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:43:17,370 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002143141FB90>
2025-07-14 18:43:17,370 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 18:43:17,371 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 18:43:17,371 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 18:43:17,371 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 18:43:17,371 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 18:43:20,276 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:13:20 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 18:43:20,276 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 18:43:20,276 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 18:43:23,098 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 18:43:23,098 httpcore.http11 DEBUG response_closed.started
2025-07-14 18:43:23,098 httpcore.http11 DEBUG response_closed.complete
2025-07-14 18:43:23,099 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:43:23,099 sqlalchemy.engine.Engine INFO [cached since 265.9s ago] ("Hi! \U0001f44b How can I help you today?  Just let me know what you're looking for! \U0001f60a\n\n\n\n", 'assistant', 11)
2025-07-14 18:43:23,103 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:43:23,111 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:43:23,112 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:43:23,112 sqlalchemy.engine.Engine INFO [cached since 265.9s ago] (45,)
2025-07-14 18:43:23,166 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:44:34,261 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:44:34,261 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session
2025-07-14 18:44:34,262 sqlalchemy.engine.Engine INFO [cached since 1890s ago] ()
2025-07-14 18:44:34,263 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:44:34,264 sqlalchemy.engine.Engine INFO [cached since 1890s ago] (1,)
2025-07-14 18:44:34,265 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:44:34,265 sqlalchemy.engine.Engine INFO [cached since 1890s ago] (2,)
2025-07-14 18:44:34,266 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:45:53,693 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-14 18:45:53,695 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-14 18:45:53,770 uvicorn.error INFO Shutting down
2025-07-14 18:45:53,879 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 18:45:53,881 uvicorn.error INFO Application shutdown complete.
2025-07-14 18:45:53,882 uvicorn.error INFO Finished server process [5368]
2025-07-14 18:45:55,593 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:45:55,593 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 18:45:55,593 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:45:55,594 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 18:45:55,594 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:45:55,595 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 18:45:55,595 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:45:55,595 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:45:55,686 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2034626578448'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2034626578448')}
2025-07-14 18:45:55,880 uvicorn.error INFO Started server process [32652]
2025-07-14 18:45:55,881 uvicorn.error INFO Waiting for application startup.
2025-07-14 18:45:55,882 uvicorn.error INFO Application startup complete.
2025-07-14 18:47:30,086 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-14 18:47:30,087 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-14 18:47:30,124 uvicorn.error INFO Shutting down
2025-07-14 18:47:30,235 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 18:47:30,236 uvicorn.error INFO Application shutdown complete.
2025-07-14 18:47:30,237 uvicorn.error INFO Finished server process [32652]
2025-07-14 18:47:31,898 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:47:31,898 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 18:47:31,899 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:47:31,899 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 18:47:31,900 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:47:31,900 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 18:47:31,900 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:47:31,901 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:47:31,960 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2397188507664'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2397188507664'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-14 18:47:32,230 uvicorn.error INFO Started server process [31676]
2025-07-14 18:47:32,231 uvicorn.error INFO Waiting for application startup.
2025-07-14 18:47:32,232 uvicorn.error INFO Application startup complete.
2025-07-14 18:47:51,701 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:47:51,704 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session, user 
WHERE user.id = ?
2025-07-14 18:47:51,704 sqlalchemy.engine.Engine INFO [generated in 0.00046s] (2,)
2025-07-14 18:47:51,705 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:48:04,367 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:48:04,368 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session, user 
WHERE user.id = ?
2025-07-14 18:48:04,368 sqlalchemy.engine.Engine INFO [cached since 12.66s ago] (1,)
2025-07-14 18:48:04,374 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:04,374 sqlalchemy.engine.Engine INFO [generated in 0.00083s] (1,)
2025-07-14 18:48:04,376 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:04,376 sqlalchemy.engine.Engine INFO [cached since 0.003606s ago] (2,)
2025-07-14 18:48:04,378 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:48:33,402 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:48:33,403 sqlalchemy.engine.Engine INFO INSERT INTO user (name, email) VALUES (?, ?)
2025-07-14 18:48:33,404 sqlalchemy.engine.Engine INFO [generated in 0.00041s] ('rahul', 'rahu')
2025-07-14 18:48:33,407 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:48:33,417 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:48:33,418 sqlalchemy.engine.Engine INFO SELECT user.id, user.name, user.email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:33,419 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (2,)
2025-07-14 18:48:33,420 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:48:33,483 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:48:41,382 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:48:41,383 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session, user 
WHERE user.id = ?
2025-07-14 18:48:41,383 sqlalchemy.engine.Engine INFO [cached since 49.68s ago] (2,)
2025-07-14 18:48:41,385 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:41,385 sqlalchemy.engine.Engine INFO [cached since 37.01s ago] (1,)
2025-07-14 18:48:41,387 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:41,387 sqlalchemy.engine.Engine INFO [cached since 37.01s ago] (2,)
2025-07-14 18:48:41,389 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:48:46,816 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:48:46,817 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session, user 
WHERE user.id = ?
2025-07-14 18:48:46,817 sqlalchemy.engine.Engine INFO [cached since 55.11s ago] (2,)
2025-07-14 18:48:46,819 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:46,819 sqlalchemy.engine.Engine INFO [cached since 42.45s ago] (1,)
2025-07-14 18:48:46,820 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:46,821 sqlalchemy.engine.Engine INFO [cached since 42.45s ago] (2,)
2025-07-14 18:48:46,822 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:48:46,829 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:48:46,829 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session, user 
WHERE user.id = ?
2025-07-14 18:48:46,831 sqlalchemy.engine.Engine INFO [cached since 55.13s ago] (2,)
2025-07-14 18:48:46,832 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:46,832 sqlalchemy.engine.Engine INFO [cached since 42.46s ago] (1,)
2025-07-14 18:48:46,833 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:48:46,833 sqlalchemy.engine.Engine INFO [cached since 42.46s ago] (2,)
2025-07-14 18:48:46,834 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:49:28,517 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-14 18:49:28,518 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-14 18:49:28,569 uvicorn.error INFO Shutting down
2025-07-14 18:49:28,678 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 18:49:28,680 uvicorn.error INFO Application shutdown complete.
2025-07-14 18:49:28,680 uvicorn.error INFO Finished server process [31676]
2025-07-14 18:49:30,020 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.1784886349088'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.1784886349088')}
2025-07-14 18:49:30,267 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:49:30,267 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 18:49:30,267 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:49:30,268 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 18:49:30,268 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:49:30,269 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 18:49:30,270 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:49:30,270 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:49:30,553 uvicorn.error INFO Started server process [4848]
2025-07-14 18:49:30,554 uvicorn.error INFO Waiting for application startup.
2025-07-14 18:49:30,555 uvicorn.error INFO Application startup complete.
2025-07-14 18:51:13,890 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-14 18:51:13,890 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-14 18:51:13,914 uvicorn.error INFO Shutting down
2025-07-14 18:51:14,023 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 18:51:14,025 uvicorn.error INFO Application shutdown complete.
2025-07-14 18:51:14,026 uvicorn.error INFO Finished server process [4848]
2025-07-14 18:51:15,617 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:51:15,618 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 18:51:15,618 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:51:15,619 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 18:51:15,619 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:51:15,619 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 18:51:15,621 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 18:51:15,621 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:51:15,716 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2513698932752'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2513698932752'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-14 18:51:15,914 uvicorn.error INFO Started server process [9600]
2025-07-14 18:51:15,915 uvicorn.error INFO Waiting for application startup.
2025-07-14 18:51:15,917 uvicorn.error INFO Application startup complete.
2025-07-14 18:51:19,426 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:51:19,428 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 18:51:19,428 sqlalchemy.engine.Engine INFO [generated in 0.00038s] (2,)
2025-07-14 18:51:19,431 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:51:19,431 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (2,)
2025-07-14 18:51:19,433 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:51:19,437 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:51:19,439 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 18:51:19,439 sqlalchemy.engine.Engine INFO [cached since 0.01076s ago] (2,)
2025-07-14 18:51:19,441 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:51:19,441 sqlalchemy.engine.Engine INFO [cached since 0.009924s ago] (2,)
2025-07-14 18:51:19,442 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:51:41,703 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:51:41,703 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 18:51:41,704 sqlalchemy.engine.Engine INFO [cached since 22.28s ago] (2,)
2025-07-14 18:51:41,704 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:51:41,705 sqlalchemy.engine.Engine INFO [cached since 22.27s ago] (2,)
2025-07-14 18:51:41,705 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:51:41,715 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:51:41,715 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 18:51:41,716 sqlalchemy.engine.Engine INFO [cached since 22.29s ago] (2,)
2025-07-14 18:51:41,718 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:51:41,718 sqlalchemy.engine.Engine INFO [cached since 22.29s ago] (2,)
2025-07-14 18:51:41,719 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:52:10,139 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:52:10,141 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 18:52:10,142 sqlalchemy.engine.Engine INFO [generated in 0.00052s] ('what is fastapi', 'chat', 'gemma3n:latest', 0.0, 2)
2025-07-14 18:52:10,145 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:52:10,154 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:52:10,155 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:52:10,155 sqlalchemy.engine.Engine INFO [generated in 0.00048s] (14,)
2025-07-14 18:52:10,157 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 18:52:10,157 sqlalchemy.engine.Engine INFO [cached since 50.73s ago] (2,)
2025-07-14 18:52:10,158 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:52:10,247 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:52:10,294 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:52:10,295 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:52:10,296 sqlalchemy.engine.Engine INFO [generated in 0.00035s] ('what is fastapi', 'user', 11)
2025-07-14 18:52:10,298 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:52:10,307 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:52:10,309 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:52:10,310 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (46,)
2025-07-14 18:52:10,311 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 18:52:10,313 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:52:10,314 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 18:52:10,314 sqlalchemy.engine.Engine INFO [generated in 0.00040s] (11,)
2025-07-14 18:52:10,316 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:52:10,317 sqlalchemy.engine.Engine INFO [generated in 0.00058s] (11, 1, 0)
2025-07-14 18:52:10,318 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:52:10,319 sqlalchemy.engine.Engine INFO [generated in 0.00048s] (11,)
2025-07-14 18:52:10,320 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 18:52:10,321 sqlalchemy.engine.Engine INFO [cached since 0.004469s ago] (11, 1, 0)
2025-07-14 18:52:10,322 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 18:52:10,322 sqlalchemy.engine.Engine INFO [cached since 0.003615s ago] (11,)
2025-07-14 18:52:10,323 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 18:52:10,587 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000024944311C40>
2025-07-14 18:52:10,587 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 18:52:10,587 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 18:52:10,588 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 18:52:10,588 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 18:52:10,588 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 18:52:10,608 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 18:52:28,833 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:22:28 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 18:52:28,833 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 18:52:28,834 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 18:53:37,971 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 18:53:37,972 httpcore.http11 DEBUG response_closed.started
2025-07-14 18:53:37,972 httpcore.http11 DEBUG response_closed.complete
2025-07-14 18:53:37,972 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 18:53:37,973 sqlalchemy.engine.Engine INFO [cached since 87.68s ago] ("Okay, let's break down what FastAPI is!\n\n**FastAPI is a modern, fast (high-performance), web framework for building APIs with Python 3.7+ based on  ... (2300 characters truncated) ... ave any specific questions about FastAPI?  For example, are you wondering how to get started, or what it's used for?  I'm happy to elaborate!\n\n\n\n", 'assistant', 11)
2025-07-14 18:53:37,977 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 18:53:37,986 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 18:53:37,987 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 18:53:37,987 sqlalchemy.engine.Engine INFO [cached since 87.68s ago] (47,)
2025-07-14 18:53:38,036 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:14:58,004 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:14:58,005 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:14:58,005 sqlalchemy.engine.Engine INFO [cached since 1419s ago] (2,)
2025-07-14 19:14:58,007 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:14:58,007 sqlalchemy.engine.Engine INFO [cached since 1419s ago] (2,)
2025-07-14 19:14:58,008 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:16:30,648 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:16:30,650 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:16:30,650 sqlalchemy.engine.Engine INFO [cached since 1511s ago] (2,)
2025-07-14 19:16:30,652 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:16:30,652 sqlalchemy.engine.Engine INFO [cached since 1511s ago] (2,)
2025-07-14 19:16:30,654 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:16:47,285 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:16:47,285 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 19:16:47,285 sqlalchemy.engine.Engine INFO [cached since 1477s ago] ('\nmy name is rahul ', 'chat', 'gemma3n:latest', 0.0, 2)
2025-07-14 19:16:47,288 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:16:47,297 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:16:47,297 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:16:47,299 sqlalchemy.engine.Engine INFO [cached since 1477s ago] (15,)
2025-07-14 19:16:47,300 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:16:47,301 sqlalchemy.engine.Engine INFO [cached since 1528s ago] (2,)
2025-07-14 19:16:47,301 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:16:47,357 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:16:47,429 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:16:47,429 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:16:47,429 sqlalchemy.engine.Engine INFO [cached since 1477s ago] ('\nmy name is rahul ', 'user', -1)
2025-07-14 19:16:47,432 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:16:47,440 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:16:47,441 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:16:47,441 sqlalchemy.engine.Engine INFO [cached since 1477s ago] (48,)
2025-07-14 19:16:47,442 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:16:47,445 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:16:47,445 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:16:47,445 sqlalchemy.engine.Engine INFO [cached since 1477s ago] (-1,)
2025-07-14 19:16:47,446 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:16:47,447 sqlalchemy.engine.Engine INFO [cached since 1477s ago] (-1, 1, 0)
2025-07-14 19:16:47,447 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:16:47,449 sqlalchemy.engine.Engine INFO [cached since 1477s ago] (-1,)
2025-07-14 19:16:47,467 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 44, in call_ollama_api
    |     "temperature": chats[0].owner.temperature,
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'NoneType' object has no attribute 'temperature'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 44, in call_ollama_api
    "temperature": chats[0].owner.temperature,
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'temperature'
2025-07-14 19:16:47,710 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:18:22,236 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:22,238 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:18:22,238 sqlalchemy.engine.Engine INFO [cached since 1623s ago] (2,)
2025-07-14 19:18:22,240 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:18:22,240 sqlalchemy.engine.Engine INFO [cached since 1623s ago] (2,)
2025-07-14 19:18:22,241 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:18:25,728 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:25,729 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:18:25,729 sqlalchemy.engine.Engine INFO [cached since 1626s ago] (2,)
2025-07-14 19:18:25,730 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:18:25,730 sqlalchemy.engine.Engine INFO [cached since 1626s ago] (2,)
2025-07-14 19:18:25,731 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:18:25,738 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:25,738 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:18:25,739 sqlalchemy.engine.Engine INFO [cached since 1626s ago] (2,)
2025-07-14 19:18:25,740 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:18:25,740 sqlalchemy.engine.Engine INFO [cached since 1626s ago] (2,)
2025-07-14 19:18:25,742 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:18:38,290 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:38,290 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 19:18:38,291 sqlalchemy.engine.Engine INFO [cached since 1588s ago] ('hello ', 'chat', 'gemma3n:latest', 0.0, 2)
2025-07-14 19:18:38,294 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:18:38,302 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:38,303 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:18:38,303 sqlalchemy.engine.Engine INFO [cached since 1588s ago] (16,)
2025-07-14 19:18:38,306 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:18:38,306 sqlalchemy.engine.Engine INFO [cached since 1639s ago] (2,)
2025-07-14 19:18:38,307 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:18:38,381 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:18:38,416 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:38,416 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:18:38,416 sqlalchemy.engine.Engine INFO [cached since 1588s ago] ('hello ', 'user', -1)
2025-07-14 19:18:38,419 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:18:38,427 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:38,427 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:18:38,429 sqlalchemy.engine.Engine INFO [cached since 1588s ago] (49,)
2025-07-14 19:18:38,430 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:18:38,433 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:18:38,433 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:18:38,433 sqlalchemy.engine.Engine INFO [cached since 1588s ago] (-1,)
2025-07-14 19:18:38,434 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:18:38,434 sqlalchemy.engine.Engine INFO [cached since 1588s ago] (-1, 1, 0)
2025-07-14 19:18:38,435 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:18:38,435 sqlalchemy.engine.Engine INFO [cached since 1588s ago] (-1,)
2025-07-14 19:18:38,436 uvicorn.error ERROR Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 271, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await response(scope, receive, send)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    |     await func()
    |   File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    |     async for chunk in self.body_iterator:
    |   File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 44, in call_ollama_api
    |     "temperature": chats[0].owner.temperature,
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'NoneType' object has no attribute 'temperature'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 44, in call_ollama_api
    "temperature": chats[0].owner.temperature,
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'temperature'
2025-07-14 19:18:38,735 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:20:06,832 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:06,833 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:20:06,833 sqlalchemy.engine.Engine INFO [cached since 1727s ago] (2,)
2025-07-14 19:20:06,834 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:20:06,835 sqlalchemy.engine.Engine INFO [cached since 1727s ago] (2,)
2025-07-14 19:20:06,837 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:20:17,634 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:17,635 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:20:17,635 sqlalchemy.engine.Engine INFO [cached since 1738s ago] (2,)
2025-07-14 19:20:17,637 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:20:17,637 sqlalchemy.engine.Engine INFO [cached since 1738s ago] (2,)
2025-07-14 19:20:17,639 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:20:24,498 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:24,498 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 19:20:24,499 sqlalchemy.engine.Engine INFO [cached since 1694s ago] ('\nhi', 'chat', 'gemma3n:latest', 0.0, 2)
2025-07-14 19:20:24,502 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:20:24,510 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:24,511 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:20:24,512 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (17,)
2025-07-14 19:20:24,514 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:20:24,514 sqlalchemy.engine.Engine INFO [cached since 1745s ago] (2,)
2025-07-14 19:20:24,515 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:20:24,592 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:20:24,625 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:24,626 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:20:24,626 sqlalchemy.engine.Engine INFO [cached since 1694s ago] ('\nhi', 'user', 17)
2025-07-14 19:20:24,628 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:20:24,637 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:24,637 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:20:24,638 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (50,)
2025-07-14 19:20:24,639 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:20:24,641 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:24,642 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:20:24,642 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (17,)
2025-07-14 19:20:24,643 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:20:24,643 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (17, 1, 0)
2025-07-14 19:20:24,644 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:20:24,645 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (17,)
2025-07-14 19:20:24,646 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:20:24,646 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (17, 1, 0)
2025-07-14 19:20:24,647 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:20:24,647 sqlalchemy.engine.Engine INFO [cached since 1694s ago] (17,)
2025-07-14 19:20:24,648 httpcore.connection DEBUG close.started
2025-07-14 19:20:24,649 httpcore.connection DEBUG close.complete
2025-07-14 19:20:24,649 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:20:24,907 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000249442EAC90>
2025-07-14 19:20:24,908 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:20:24,908 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:20:24,908 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:20:24,908 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:20:24,909 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:20:24,944 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:20:39,574 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:50:39 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:20:39,575 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:20:39,575 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:20:47,968 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:20:47,968 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:20:47,968 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:20:47,969 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:20:47,970 sqlalchemy.engine.Engine INFO [cached since 1718s ago] ("Hi there! \U0001f44b \n\nHow can I help you today?  I'm ready for anything - whether you have a question, want to brainstorm ideas, need help writing something, or just want to chat. \U0001f60a \n\nLet me know what's on your mind!\n\n\n\n", 'assistant', 17)
2025-07-14 19:20:47,976 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:20:47,986 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:20:47,987 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:20:47,987 sqlalchemy.engine.Engine INFO [cached since 1718s ago] (51,)
2025-07-14 19:20:48,044 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:22:16,000 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:22:16,001 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:22:16,001 sqlalchemy.engine.Engine INFO [cached since 1806s ago] ('\nmy name is rahul ', 'user', 17)
2025-07-14 19:22:16,007 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:22:16,019 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:22:16,019 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:22:16,020 sqlalchemy.engine.Engine INFO [cached since 1806s ago] (52,)
2025-07-14 19:22:16,022 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:22:16,028 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:22:16,031 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:22:16,031 sqlalchemy.engine.Engine INFO [cached since 1806s ago] (17,)
2025-07-14 19:22:16,035 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:22:16,035 sqlalchemy.engine.Engine INFO [cached since 1806s ago] (17, 1, 0)
2025-07-14 19:22:16,036 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:22:16,038 sqlalchemy.engine.Engine INFO [cached since 1806s ago] (17,)
2025-07-14 19:22:16,040 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:22:16,042 sqlalchemy.engine.Engine INFO [cached since 1806s ago] (17, 1, 0)
2025-07-14 19:22:16,044 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:22:16,044 sqlalchemy.engine.Engine INFO [cached since 1806s ago] (17,)
2025-07-14 19:22:16,047 httpcore.connection DEBUG close.started
2025-07-14 19:22:16,047 httpcore.connection DEBUG close.complete
2025-07-14 19:22:16,048 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:22:16,108 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:22:16,299 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000024944253AD0>
2025-07-14 19:22:16,299 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:22:16,300 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:22:16,300 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:22:16,301 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:22:16,301 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:22:23,018 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:52:23 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:22:23,019 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:22:23,019 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:22:36,245 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:22:36,245 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:22:36,245 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:22:36,246 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:22:36,246 sqlalchemy.engine.Engine INFO [cached since 1826s ago] ("Hi Rahul! It's nice to meet you. \U0001f60a \n\nI'm a large language model, and I'm here to assist you with whatever you need. \n\nIs there anything specific  ... (150 characters truncated) ... *Give me a task:** Like writing a story, summarizing something, or brainstorming ideas.\n* **Just chat:**  We can have a casual conversation.\n\n\n\n", 'assistant', 17)
2025-07-14 19:22:36,249 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:22:36,258 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:22:36,259 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:22:36,259 sqlalchemy.engine.Engine INFO [cached since 1826s ago] (53,)
2025-07-14 19:22:36,334 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:25:20,453 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:25:20,455 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:25:20,455 sqlalchemy.engine.Engine INFO [cached since 1990s ago] ('\nwhat is my name ', 'user', 17)
2025-07-14 19:25:20,458 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:25:20,467 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:25:20,468 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:25:20,468 sqlalchemy.engine.Engine INFO [cached since 1990s ago] (54,)
2025-07-14 19:25:20,470 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:25:20,471 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:25:20,473 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:25:20,473 sqlalchemy.engine.Engine INFO [cached since 1990s ago] (17,)
2025-07-14 19:25:20,474 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:25:20,474 sqlalchemy.engine.Engine INFO [cached since 1990s ago] (17, 1, 0)
2025-07-14 19:25:20,475 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:25:20,476 sqlalchemy.engine.Engine INFO [cached since 1990s ago] (17,)
2025-07-14 19:25:20,477 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:25:20,477 sqlalchemy.engine.Engine INFO [cached since 1990s ago] (17, 1, 0)
2025-07-14 19:25:20,478 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:25:20,480 sqlalchemy.engine.Engine INFO [cached since 1990s ago] (17,)
2025-07-14 19:25:20,481 httpcore.connection DEBUG close.started
2025-07-14 19:25:20,481 httpcore.connection DEBUG close.complete
2025-07-14 19:25:20,481 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:25:20,647 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:25:20,751 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002494432D190>
2025-07-14 19:25:20,751 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:25:20,751 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:25:20,752 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:25:20,752 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:25:20,752 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:25:27,563 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:55:27 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:25:27,563 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:25:27,563 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:25:31,507 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:25:31,507 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:25:31,508 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:25:31,508 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:25:31,509 sqlalchemy.engine.Engine INFO [cached since 2001s ago] ('Your name is Rahul! \U0001f60a \n\nI know this because you just told me! \U0001f609 \n\nIs there anything else I can help you with, Rahul?\n\n\n\n', 'assistant', 17)
2025-07-14 19:25:31,511 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:25:31,549 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:25:31,549 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:25:31,550 sqlalchemy.engine.Engine INFO [cached since 2001s ago] (55,)
2025-07-14 19:25:31,620 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:26:16,128 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:16,129 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:26:16,129 sqlalchemy.engine.Engine INFO [cached since 2097s ago] (2,)
2025-07-14 19:26:16,131 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:16,133 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:26:16,134 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:26:16,135 sqlalchemy.engine.Engine INFO [cached since 2097s ago] (2,)
2025-07-14 19:26:16,135 sqlalchemy.engine.Engine INFO [cached since 2097s ago] (2,)
2025-07-14 19:26:16,138 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:26:16,139 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:26:16,139 sqlalchemy.engine.Engine INFO [cached since 2097s ago] (2,)
2025-07-14 19:26:16,143 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:26:26,076 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:26,076 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, user_id) VALUES (?, ?, ?, ?, ?)
2025-07-14 19:26:26,076 sqlalchemy.engine.Engine INFO [cached since 2056s ago] ('hi', 'chat', 'gemma3n:latest', 0.0, 2)
2025-07-14 19:26:26,080 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:26:26,089 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:26,089 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:26:26,090 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (18,)
2025-07-14 19:26:26,091 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:26:26,091 sqlalchemy.engine.Engine INFO [cached since 2107s ago] (2,)
2025-07-14 19:26:26,094 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:26:26,145 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:26:26,201 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:26,203 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:26:26,203 sqlalchemy.engine.Engine INFO [cached since 2056s ago] ('hi', 'user', 18)
2025-07-14 19:26:26,204 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:26:26,213 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:26,214 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:26:26,214 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (56,)
2025-07-14 19:26:26,215 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:26:26,217 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:26,218 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:26:26,218 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (18,)
2025-07-14 19:26:26,219 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:26:26,220 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (18, 1, 0)
2025-07-14 19:26:26,220 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:26:26,220 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (18,)
2025-07-14 19:26:26,221 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:26:26,221 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (18, 1, 0)
2025-07-14 19:26:26,222 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:26:26,222 sqlalchemy.engine.Engine INFO [cached since 2056s ago] (18,)
2025-07-14 19:26:26,225 httpcore.connection DEBUG close.started
2025-07-14 19:26:26,225 httpcore.connection DEBUG close.complete
2025-07-14 19:26:26,225 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:26:26,484 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002494432FE60>
2025-07-14 19:26:26,484 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:26:26,484 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:26:26,485 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:26:26,485 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:26:26,485 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:26:26,505 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:26:26,926 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:56:26 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:26:26,926 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:26:26,926 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:26:33,722 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:26:33,722 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:26:33,722 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:26:33,723 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:26:33,723 sqlalchemy.engine.Engine INFO [cached since 2063s ago] ("Hi there! \U0001f44b \n\nHow can I help you today?  I'm ready for anything - whether you have a question, need a creative idea, want to chat, or just want to test me out. \U0001f60a \n\nJust let me know what's on your mind!\n\n\n\n", 'assistant', 18)
2025-07-14 19:26:33,726 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:26:33,735 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:33,735 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:26:33,735 sqlalchemy.engine.Engine INFO [cached since 2063s ago] (57,)
2025-07-14 19:26:33,794 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:26:40,472 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:40,472 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:26:40,473 sqlalchemy.engine.Engine INFO [cached since 2070s ago] ('my name is rahul\n', 'user', 18)
2025-07-14 19:26:40,476 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:26:40,485 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:40,485 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:26:40,485 sqlalchemy.engine.Engine INFO [cached since 2070s ago] (58,)
2025-07-14 19:26:40,487 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:26:40,489 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:40,489 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:26:40,490 sqlalchemy.engine.Engine INFO [cached since 2070s ago] (18,)
2025-07-14 19:26:40,491 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:26:40,491 sqlalchemy.engine.Engine INFO [cached since 2070s ago] (18, 1, 0)
2025-07-14 19:26:40,493 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:26:40,493 sqlalchemy.engine.Engine INFO [cached since 2070s ago] (18,)
2025-07-14 19:26:40,494 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:26:40,494 sqlalchemy.engine.Engine INFO [cached since 2070s ago] (18, 1, 0)
2025-07-14 19:26:40,496 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:26:40,496 sqlalchemy.engine.Engine INFO [cached since 2070s ago] (18,)
2025-07-14 19:26:40,497 httpcore.connection DEBUG close.started
2025-07-14 19:26:40,497 httpcore.connection DEBUG close.complete
2025-07-14 19:26:40,498 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:26:40,548 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:26:40,768 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002494432FD70>
2025-07-14 19:26:40,769 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:26:40,769 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:26:40,769 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:26:40,769 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:26:40,769 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:26:44,571 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:56:44 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:26:44,571 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:26:44,572 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:26:50,552 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:26:50,552 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:26:50,552 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:26:50,554 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:26:50,555 sqlalchemy.engine.Engine INFO [cached since 2080s ago] ("Hi Rahul! It's nice to meet you. \U0001f60a \n\nIt's good to know your name. Is there anything specific you'd like to talk about or anything I can help you with? \n\nJust let me know! \u2728\n\n\n\n", 'assistant', 18)
2025-07-14 19:26:50,558 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:26:50,567 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:26:50,568 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:26:50,570 sqlalchemy.engine.Engine INFO [cached since 2080s ago] (59,)
2025-07-14 19:26:50,663 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:27:11,366 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:11,367 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:27:11,367 sqlalchemy.engine.Engine INFO [cached since 2101s ago] ('what is my name\n', 'user', 18)
2025-07-14 19:27:11,371 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:27:11,379 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:11,380 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:27:11,381 sqlalchemy.engine.Engine INFO [cached since 2101s ago] (60,)
2025-07-14 19:27:11,382 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:27:11,383 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:11,385 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:27:11,385 sqlalchemy.engine.Engine INFO [cached since 2101s ago] (18,)
2025-07-14 19:27:11,386 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:27:11,386 sqlalchemy.engine.Engine INFO [cached since 2101s ago] (18, 1, 0)
2025-07-14 19:27:11,387 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:27:11,387 sqlalchemy.engine.Engine INFO [cached since 2101s ago] (18,)
2025-07-14 19:27:11,388 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:27:11,389 sqlalchemy.engine.Engine INFO [cached since 2101s ago] (18, 1, 0)
2025-07-14 19:27:11,390 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:27:11,390 sqlalchemy.engine.Engine INFO [cached since 2101s ago] (18,)
2025-07-14 19:27:11,392 httpcore.connection DEBUG close.started
2025-07-14 19:27:11,393 httpcore.connection DEBUG close.complete
2025-07-14 19:27:11,393 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:27:11,464 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:27:11,659 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000024944253A70>
2025-07-14 19:27:11,659 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:27:11,660 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:27:11,660 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:27:11,660 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:27:11,660 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:27:14,958 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:57:14 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:27:14,958 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:27:14,958 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:27:18,931 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:27:18,931 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:27:18,931 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:27:18,932 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:27:18,932 sqlalchemy.engine.Engine INFO [cached since 2109s ago] ("Your name is Rahul! \U0001f60a \n\nI know this because you just told me. \U0001f609 \n\nIs there anything else you'd like to know or talk about?\n\n\n\n", 'assistant', 18)
2025-07-14 19:27:18,934 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:27:18,944 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:18,944 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:27:18,945 sqlalchemy.engine.Engine INFO [cached since 2109s ago] (61,)
2025-07-14 19:27:19,038 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:27:46,356 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:46,357 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:27:46,357 sqlalchemy.engine.Engine INFO [cached since 2187s ago] (2,)
2025-07-14 19:27:46,358 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:27:46,359 sqlalchemy.engine.Engine INFO [cached since 2187s ago] (2,)
2025-07-14 19:27:46,361 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:27:59,202 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:59,202 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:27:59,203 sqlalchemy.engine.Engine INFO [cached since 2200s ago] (2,)
2025-07-14 19:27:59,203 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:27:59,205 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 19:27:59,206 sqlalchemy.engine.Engine INFO [cached since 2200s ago] (2,)
2025-07-14 19:27:59,207 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:27:59,207 sqlalchemy.engine.Engine INFO [cached since 2200s ago] (2,)
2025-07-14 19:27:59,208 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 19:27:59,209 sqlalchemy.engine.Engine INFO [cached since 2200s ago] (2,)
2025-07-14 19:27:59,210 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:27:59,212 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:28:06,690 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:28:06,690 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:28:06,690 sqlalchemy.engine.Engine INFO [cached since 2156s ago] ('hi', 'user', 18)
2025-07-14 19:28:06,694 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:28:06,704 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:28:06,704 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:28:06,705 sqlalchemy.engine.Engine INFO [cached since 2156s ago] (62,)
2025-07-14 19:28:06,706 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:28:06,707 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:28:06,707 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:28:06,708 sqlalchemy.engine.Engine INFO [cached since 2156s ago] (18,)
2025-07-14 19:28:06,710 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:28:06,710 sqlalchemy.engine.Engine INFO [cached since 2156s ago] (18, 1, 0)
2025-07-14 19:28:06,711 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:28:06,711 sqlalchemy.engine.Engine INFO [cached since 2156s ago] (18,)
2025-07-14 19:28:06,712 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:28:06,712 sqlalchemy.engine.Engine INFO [cached since 2156s ago] (18, 1, 0)
2025-07-14 19:28:06,713 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:28:06,714 sqlalchemy.engine.Engine INFO [cached since 2156s ago] (18,)
2025-07-14 19:28:06,716 httpcore.connection DEBUG close.started
2025-07-14 19:28:06,716 httpcore.connection DEBUG close.complete
2025-07-14 19:28:06,716 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:28:06,985 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002494432F800>
2025-07-14 19:28:06,985 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:28:06,986 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:28:06,986 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:28:06,986 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:28:06,986 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:28:07,007 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:28:09,701 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 13:58:09 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:28:09,701 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:28:09,702 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:28:13,843 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:28:13,843 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:28:13,843 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:28:13,844 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:28:13,844 sqlalchemy.engine.Engine INFO [cached since 2164s ago] ("Hi Rahul! \U0001f44b Great to hear from you again. \U0001f60a \n\nHow are you doing today? Anything interesting happening? Let me know what's on your mind! \u2728\n\n\n\n", 'assistant', 18)
2025-07-14 19:28:13,848 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:28:13,856 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:28:13,858 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:28:13,858 sqlalchemy.engine.Engine INFO [cached since 2164s ago] (63,)
2025-07-14 19:28:13,948 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:31:38,250 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-14 19:31:38,251 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-14 19:31:38,285 uvicorn.error INFO Shutting down
2025-07-14 19:31:38,394 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 19:31:38,395 uvicorn.error INFO Application shutdown complete.
2025-07-14 19:31:38,396 uvicorn.error INFO Finished server process [9600]
2025-07-14 19:31:39,970 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1223062473584'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.1223062473584'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc')}
2025-07-14 19:31:40,304 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:31:40,305 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 19:31:40,305 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 19:31:40,306 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 19:31:40,306 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 19:31:40,306 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 19:31:40,307 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 19:31:40,307 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:31:40,611 uvicorn.error INFO Started server process [19992]
2025-07-14 19:31:40,612 uvicorn.error INFO Waiting for application startup.
2025-07-14 19:31:40,614 uvicorn.error INFO Application startup complete.
2025-07-14 19:31:45,737 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:31:45,740 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:31:45,740 sqlalchemy.engine.Engine INFO [generated in 0.00041s] ('\nhi', 'user', 18)
2025-07-14 19:31:45,741 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:31:45,751 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:31:45,754 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:31:45,754 sqlalchemy.engine.Engine INFO [generated in 0.00037s] (64,)
2025-07-14 19:31:45,755 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 19:31:45,758 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:31:45,760 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 19:31:45,760 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (18,)
2025-07-14 19:31:45,762 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:31:45,762 sqlalchemy.engine.Engine INFO [generated in 0.00037s] (18, 1, 0)
2025-07-14 19:31:45,764 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:31:45,764 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (18,)
2025-07-14 19:31:45,765 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 19:31:45,766 sqlalchemy.engine.Engine INFO [cached since 0.003763s ago] (18, 1, 0)
2025-07-14 19:31:45,767 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 19:31:45,767 sqlalchemy.engine.Engine INFO [cached since 0.003032s ago] (18,)
2025-07-14 19:31:45,768 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 19:31:45,822 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:31:46,048 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000011CC44E6A80>
2025-07-14 19:31:46,048 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 19:31:46,048 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 19:31:46,049 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 19:31:46,049 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 19:31:46,049 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 19:31:48,850 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 14:01:48 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 19:31:48,850 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 19:31:48,851 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 19:31:52,159 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 19:31:52,159 httpcore.http11 DEBUG response_closed.started
2025-07-14 19:31:52,159 httpcore.http11 DEBUG response_closed.complete
2025-07-14 19:31:52,160 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 19:31:52,160 sqlalchemy.engine.Engine INFO [cached since 6.421s ago] ('Hi Rahul! \U0001f60a \n\nJust checking in. Is there anything I can help you with right now?  Feel free to ask anything or just chat! \u2728\n\n\n\n', 'assistant', 18)
2025-07-14 19:31:52,164 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:31:52,172 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:31:52,174 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 19:31:52,174 sqlalchemy.engine.Engine INFO [cached since 6.419s ago] (65,)
2025-07-14 19:31:52,228 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 19:32:18,089 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\chats.py')}
2025-07-14 19:32:18,089 uvicorn.error WARNING WatchFiles detected changes in 'routes\chats.py'. Reloading...
2025-07-14 19:32:18,103 uvicorn.error INFO Shutting down
2025-07-14 19:32:18,213 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 19:32:18,215 uvicorn.error INFO Application shutdown complete.
2025-07-14 19:32:18,216 uvicorn.error INFO Finished server process [19992]
2025-07-14 19:32:19,520 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2709449362288'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\chats.cpython-312.pyc.2709449362288')}
2025-07-14 19:32:19,768 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 19:32:19,769 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 19:32:19,769 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 19:32:19,770 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 19:32:19,771 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 19:32:19,772 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 19:32:19,772 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 19:32:19,772 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 19:32:20,048 uvicorn.error INFO Started server process [34424]
2025-07-14 19:32:20,050 uvicorn.error INFO Waiting for application startup.
2025-07-14 19:32:20,051 uvicorn.error INFO Application startup complete.
2025-07-14 21:16:10,755 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:16:10,758 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:16:10,758 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (11,)
2025-07-14 21:16:10,762 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:16:10,763 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (11,)
2025-07-14 21:16:10,765 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:16:10,765 sqlalchemy.engine.Engine INFO [cached since 0.003183s ago] (11,)
2025-07-14 21:16:10,767 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:18:14,365 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:18:14,366 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 21:18:14,367 sqlalchemy.engine.Engine INFO [generated in 0.00054s] (2,)
2025-07-14 21:18:14,369 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 21:18:14,369 sqlalchemy.engine.Engine INFO [generated in 0.00035s] (2,)
2025-07-14 21:18:14,371 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:19:41,346 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:19:41,347 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 21:19:41,347 sqlalchemy.engine.Engine INFO [cached since 86.98s ago] (2,)
2025-07-14 21:19:41,349 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 21:19:41,350 sqlalchemy.engine.Engine INFO [cached since 86.98s ago] (2,)
2025-07-14 21:19:41,352 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:19:41,357 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:19:41,357 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 21:19:41,358 sqlalchemy.engine.Engine INFO [cached since 86.99s ago] (2,)
2025-07-14 21:19:41,360 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 21:19:41,360 sqlalchemy.engine.Engine INFO [cached since 86.99s ago] (2,)
2025-07-14 21:19:41,362 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:19:48,064 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:19:48,065 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 21:19:48,065 sqlalchemy.engine.Engine INFO [cached since 93.7s ago] (2,)
2025-07-14 21:19:48,067 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 21:19:48,068 sqlalchemy.engine.Engine INFO [cached since 93.7s ago] (2,)
2025-07-14 21:19:48,069 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:19:55,363 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:19:55,364 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 21:19:55,364 sqlalchemy.engine.Engine INFO [cached since 101s ago] (2,)
2025-07-14 21:19:55,366 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 21:19:55,366 sqlalchemy.engine.Engine INFO [cached since 101s ago] (2,)
2025-07-14 21:19:55,368 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:20:08,248 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:20:08,248 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:20:08,248 sqlalchemy.engine.Engine INFO [cached since 237.5s ago] (13,)
2025-07-14 21:20:08,250 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:20:18,036 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:20:18,037 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:20:18,037 sqlalchemy.engine.Engine INFO [cached since 247.3s ago] (14,)
2025-07-14 21:20:18,038 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:20:19,078 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:20:19,078 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:20:19,078 sqlalchemy.engine.Engine INFO [cached since 248.3s ago] (15,)
2025-07-14 21:20:19,078 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:20:21,751 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:20:21,752 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:20:21,752 sqlalchemy.engine.Engine INFO [cached since 251s ago] (16,)
2025-07-14 21:20:21,754 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:20:23,948 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:20:23,949 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:20:23,950 sqlalchemy.engine.Engine INFO [cached since 253.2s ago] (17,)
2025-07-14 21:20:23,952 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:20:23,952 sqlalchemy.engine.Engine INFO [cached since 253.2s ago] (17,)
2025-07-14 21:20:23,954 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:20:23,954 sqlalchemy.engine.Engine INFO [cached since 253.2s ago] (17,)
2025-07-14 21:20:23,956 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:21:38,393 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:21:38,394 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 21:21:38,394 sqlalchemy.engine.Engine INFO [cached since 204s ago] (2,)
2025-07-14 21:21:38,394 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:21:38,395 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:21:38,395 sqlalchemy.engine.Engine INFO [cached since 327.6s ago] (17,)
2025-07-14 21:21:38,396 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 21:21:38,396 sqlalchemy.engine.Engine INFO [cached since 204s ago] (2,)
2025-07-14 21:21:38,397 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:21:38,397 sqlalchemy.engine.Engine INFO [cached since 327.6s ago] (17,)
2025-07-14 21:21:38,401 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:21:38,401 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:21:38,401 sqlalchemy.engine.Engine INFO [cached since 327.6s ago] (17,)
2025-07-14 21:21:38,405 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:21:40,847 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:21:40,848 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:21:40,848 sqlalchemy.engine.Engine INFO [cached since 330.1s ago] (16,)
2025-07-14 21:21:40,849 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:21:41,982 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:21:41,982 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:21:41,983 sqlalchemy.engine.Engine INFO [cached since 331.2s ago] (17,)
2025-07-14 21:21:41,984 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:21:41,984 sqlalchemy.engine.Engine INFO [cached since 331.2s ago] (17,)
2025-07-14 21:21:41,986 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:21:41,988 sqlalchemy.engine.Engine INFO [cached since 331.2s ago] (17,)
2025-07-14 21:21:41,990 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:22:27,042 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:22:27,042 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:22:27,043 sqlalchemy.engine.Engine INFO [cached since 376.3s ago] (17,)
2025-07-14 21:22:27,043 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:22:27,044 sqlalchemy.engine.Engine INFO [cached since 376.3s ago] (17,)
2025-07-14 21:22:27,045 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:22:27,045 sqlalchemy.engine.Engine INFO [cached since 376.3s ago] (17,)
2025-07-14 21:22:27,047 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:22:27,051 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:22:27,051 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 21:22:27,051 sqlalchemy.engine.Engine INFO [cached since 252.7s ago] (2,)
2025-07-14 21:22:27,053 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 21:22:27,053 sqlalchemy.engine.Engine INFO [cached since 252.7s ago] (2,)
2025-07-14 21:22:27,054 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:22:29,193 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:22:29,193 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:22:29,193 sqlalchemy.engine.Engine INFO [cached since 378.4s ago] (16,)
2025-07-14 21:22:29,195 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:22:31,220 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:22:31,221 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 21:22:31,222 sqlalchemy.engine.Engine INFO [cached since 256.9s ago] (2,)
2025-07-14 21:22:31,226 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 21:22:31,226 sqlalchemy.engine.Engine INFO [cached since 256.9s ago] (2,)
2025-07-14 21:22:31,229 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:22:31,234 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:22:31,234 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 21:22:31,234 sqlalchemy.engine.Engine INFO [cached since 256.9s ago] (2,)
2025-07-14 21:22:31,236 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 21:22:31,236 sqlalchemy.engine.Engine INFO [cached since 256.9s ago] (2,)
2025-07-14 21:22:31,237 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:22:32,494 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:22:32,495 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:22:32,495 sqlalchemy.engine.Engine INFO [cached since 381.7s ago] (18,)
2025-07-14 21:22:32,496 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:22:32,496 sqlalchemy.engine.Engine INFO [cached since 381.7s ago] (18,)
2025-07-14 21:22:32,497 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:22:32,497 sqlalchemy.engine.Engine INFO [cached since 381.7s ago] (18,)
2025-07-14 21:22:32,499 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:22:47,942 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:22:47,943 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 21:22:47,944 sqlalchemy.engine.Engine INFO [cached since 273.6s ago] (2,)
2025-07-14 21:22:47,944 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:22:47,944 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:22:47,945 sqlalchemy.engine.Engine INFO [cached since 397.2s ago] (18,)
2025-07-14 21:22:47,946 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 21:22:47,946 sqlalchemy.engine.Engine INFO [cached since 273.6s ago] (2,)
2025-07-14 21:22:47,946 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:22:47,947 sqlalchemy.engine.Engine INFO [cached since 397.2s ago] (18,)
2025-07-14 21:22:47,947 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:22:47,949 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:22:47,950 sqlalchemy.engine.Engine INFO [cached since 397.2s ago] (18,)
2025-07-14 21:22:47,951 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:23:55,364 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:23:55,365 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:23:55,365 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 21:23:55,366 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:23:55,366 sqlalchemy.engine.Engine INFO [cached since 341s ago] (2,)
2025-07-14 21:23:55,366 sqlalchemy.engine.Engine INFO [cached since 464.6s ago] (18,)
2025-07-14 21:23:55,367 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:23:55,367 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 21:23:55,367 sqlalchemy.engine.Engine INFO [cached since 464.6s ago] (18,)
2025-07-14 21:23:55,367 sqlalchemy.engine.Engine INFO [cached since 341s ago] (2,)
2025-07-14 21:23:55,369 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:23:55,370 sqlalchemy.engine.Engine INFO [cached since 464.6s ago] (18,)
2025-07-14 21:23:55,370 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:23:55,372 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:24:04,664 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:24:04,666 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:24:04,666 sqlalchemy.engine.Engine INFO [cached since 473.9s ago] (17,)
2025-07-14 21:24:04,667 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:24:04,667 sqlalchemy.engine.Engine INFO [cached since 473.9s ago] (17,)
2025-07-14 21:24:04,669 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:24:04,669 sqlalchemy.engine.Engine INFO [cached since 473.9s ago] (17,)
2025-07-14 21:24:04,670 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:24:09,477 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:24:09,478 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:24:09,478 sqlalchemy.engine.Engine INFO [cached since 478.7s ago] (16,)
2025-07-14 21:24:09,480 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:24:11,029 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:24:11,030 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:24:11,030 sqlalchemy.engine.Engine INFO [cached since 480.3s ago] (15,)
2025-07-14 21:24:11,032 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:24:12,462 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:24:12,463 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:24:12,463 sqlalchemy.engine.Engine INFO [cached since 481.7s ago] (14,)
2025-07-14 21:24:12,464 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:24:13,629 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:24:13,629 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:24:13,629 sqlalchemy.engine.Engine INFO [cached since 482.9s ago] (13,)
2025-07-14 21:24:13,630 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:25:26,241 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:25:26,243 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:25:26,243 sqlalchemy.engine.Engine INFO [cached since 555.5s ago] (18,)
2025-07-14 21:25:26,244 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:25:26,244 sqlalchemy.engine.Engine INFO [cached since 555.5s ago] (18,)
2025-07-14 21:25:26,245 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:25:26,246 sqlalchemy.engine.Engine INFO [cached since 555.5s ago] (18,)
2025-07-14 21:25:26,247 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:25:29,946 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:25:29,949 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 21:25:29,950 sqlalchemy.engine.Engine INFO [generated in 0.00043s] ('hello', 'user', 18)
2025-07-14 21:25:29,953 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 21:25:29,962 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:25:29,963 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 21:25:29,963 sqlalchemy.engine.Engine INFO [generated in 0.00048s] (66,)
2025-07-14 21:25:29,966 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:25:29,967 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:25:29,969 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:25:29,969 sqlalchemy.engine.Engine INFO [cached since 559.2s ago] (18,)
2025-07-14 21:25:29,971 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 21:25:29,971 sqlalchemy.engine.Engine INFO [generated in 0.00040s] (18, 1, 0)
2025-07-14 21:25:29,972 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:25:29,972 sqlalchemy.engine.Engine INFO [cached since 559.2s ago] (18,)
2025-07-14 21:25:29,972 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 21:25:29,972 sqlalchemy.engine.Engine INFO [cached since 0.002529s ago] (18, 1, 0)
2025-07-14 21:25:29,974 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:25:29,974 sqlalchemy.engine.Engine INFO [cached since 559.2s ago] (18,)
2025-07-14 21:25:29,976 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 21:25:30,022 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 21:25:30,238 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000276D7D4F710>
2025-07-14 21:25:30,238 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 21:25:30,239 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 21:25:30,239 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 21:25:30,239 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 21:25:30,239 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 21:25:50,241 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-07-14 21:25:50,242 httpcore.http11 DEBUG response_closed.started
2025-07-14 21:25:50,243 httpcore.http11 DEBUG response_closed.complete
2025-07-14 21:25:50,247 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await response(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 270, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 274, in wrap
    await func()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\responses.py", line 254, in stream_response
    async for chunk in self.body_iterator:
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\chats.py", line 50, in call_ollama_api
    async with client.stream(
               ^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1583, in stream
    response = await self.send(
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout
2025-07-14 21:26:29,297 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:26:29,300 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 21:26:29,301 sqlalchemy.engine.Engine INFO [cached since 494.9s ago] (2,)
2025-07-14 21:26:29,304 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 21:26:29,304 sqlalchemy.engine.Engine INFO [cached since 494.9s ago] (2,)
2025-07-14 21:26:29,306 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:26:29,309 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:26:29,310 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-14 21:26:29,310 sqlalchemy.engine.Engine INFO [cached since 494.9s ago] (2,)
2025-07-14 21:26:29,312 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-14 21:26:29,312 sqlalchemy.engine.Engine INFO [cached since 494.9s ago] (2,)
2025-07-14 21:26:29,314 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:26:30,793 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:26:30,793 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:26:30,794 sqlalchemy.engine.Engine INFO [cached since 620s ago] (18,)
2025-07-14 21:26:30,794 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:26:30,795 sqlalchemy.engine.Engine INFO [cached since 620s ago] (18,)
2025-07-14 21:26:30,796 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:26:30,796 sqlalchemy.engine.Engine INFO [cached since 620s ago] (18,)
2025-07-14 21:26:30,798 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:26:37,575 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:26:37,575 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 21:26:37,576 sqlalchemy.engine.Engine INFO [cached since 67.63s ago] ('hi', 'user', 18)
2025-07-14 21:26:37,578 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 21:26:37,587 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:26:37,588 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 21:26:37,588 sqlalchemy.engine.Engine INFO [cached since 67.63s ago] (67,)
2025-07-14 21:26:37,589 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:26:37,591 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:26:37,591 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:26:37,593 sqlalchemy.engine.Engine INFO [cached since 626.8s ago] (18,)
2025-07-14 21:26:37,594 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 21:26:37,595 sqlalchemy.engine.Engine INFO [cached since 67.62s ago] (18, 1, 0)
2025-07-14 21:26:37,596 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:26:37,596 sqlalchemy.engine.Engine INFO [cached since 626.8s ago] (18,)
2025-07-14 21:26:37,596 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 21:26:37,597 sqlalchemy.engine.Engine INFO [cached since 67.63s ago] (18, 1, 0)
2025-07-14 21:26:37,597 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:26:37,598 sqlalchemy.engine.Engine INFO [cached since 626.8s ago] (18,)
2025-07-14 21:26:37,599 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 21:26:37,662 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 21:26:37,857 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000276D90182C0>
2025-07-14 21:26:37,858 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 21:26:37,858 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 21:26:37,858 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 21:26:37,858 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 21:26:37,858 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 21:26:39,650 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 15:56:39 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 21:26:39,651 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 21:26:39,652 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 21:26:43,459 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 21:26:43,459 httpcore.http11 DEBUG response_closed.started
2025-07-14 21:26:43,459 httpcore.http11 DEBUG response_closed.complete
2025-07-14 21:26:43,460 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 21:26:43,461 sqlalchemy.engine.Engine INFO [cached since 73.51s ago] ("Hi Rahul! \U0001f44b \n\nYou're back! Glad to see you. \U0001f60a \n\nWhat's up? Anything you'd like to talk about or work on? \u2728\n\n\n\n", 'assistant', 18)
2025-07-14 21:26:43,464 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 21:26:43,473 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:26:43,474 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 21:26:43,474 sqlalchemy.engine.Engine INFO [cached since 73.51s ago] (68,)
2025-07-14 21:26:43,561 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 21:26:54,500 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:26:54,501 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 21:26:54,501 sqlalchemy.engine.Engine INFO [cached since 84.55s ago] ('\nwhat is react', 'user', 18)
2025-07-14 21:26:54,505 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 21:26:54,514 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:26:54,515 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 21:26:54,515 sqlalchemy.engine.Engine INFO [cached since 84.55s ago] (69,)
2025-07-14 21:26:54,516 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:26:54,517 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:26:54,518 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:26:54,518 sqlalchemy.engine.Engine INFO [cached since 643.8s ago] (18,)
2025-07-14 21:26:54,521 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 21:26:54,521 sqlalchemy.engine.Engine INFO [cached since 84.55s ago] (18, 1, 0)
2025-07-14 21:26:54,522 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:26:54,522 sqlalchemy.engine.Engine INFO [cached since 643.8s ago] (18,)
2025-07-14 21:26:54,523 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-07-14 21:26:54,523 sqlalchemy.engine.Engine INFO [cached since 84.55s ago] (18, 1, 0)
2025-07-14 21:26:54,524 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:26:54,524 sqlalchemy.engine.Engine INFO [cached since 643.8s ago] (18,)
2025-07-14 21:26:54,526 httpcore.connection DEBUG close.started
2025-07-14 21:26:54,527 httpcore.connection DEBUG close.complete
2025-07-14 21:26:54,527 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-07-14 21:26:54,587 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 21:26:54,796 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000276D9019220>
2025-07-14 21:26:54,796 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-14 21:26:54,796 httpcore.http11 DEBUG send_request_headers.complete
2025-07-14 21:26:54,797 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-14 21:26:54,797 httpcore.http11 DEBUG send_request_body.complete
2025-07-14 21:26:54,797 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-14 21:26:59,345 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Mon, 14 Jul 2025 15:56:59 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-07-14 21:26:59,345 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-07-14 21:26:59,346 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-14 21:27:57,332 httpcore.http11 DEBUG receive_response_body.complete
2025-07-14 21:27:57,332 httpcore.http11 DEBUG response_closed.started
2025-07-14 21:27:57,332 httpcore.http11 DEBUG response_closed.complete
2025-07-14 21:27:57,334 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-07-14 21:27:57,334 sqlalchemy.engine.Engine INFO [cached since 147.4s ago] ('Okay, great question! Here\'s a breakdown of what React is, explained in a few different ways:\n\n**In a nutshell:**\n\nReact is a **JavaScript libra ... (2126 characters truncated) ... I can try to explain anything in more detail!  For example, are you curious about specific aspects like components, JSX, or state management?\n\n\n\n', 'assistant', 18)
2025-07-14 21:27:57,339 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 21:27:57,349 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:27:57,349 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-07-14 21:27:57,349 sqlalchemy.engine.Engine INFO [cached since 147.4s ago] (70,)
2025-07-14 21:27:57,418 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-14 21:28:02,223 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:28:02,224 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:28:02,224 sqlalchemy.engine.Engine INFO [cached since 711.5s ago] (17,)
2025-07-14 21:28:02,227 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:28:02,227 sqlalchemy.engine.Engine INFO [cached since 711.5s ago] (17,)
2025-07-14 21:28:02,229 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:28:02,229 sqlalchemy.engine.Engine INFO [cached since 711.5s ago] (17,)
2025-07-14 21:28:02,232 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:28:03,637 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:28:03,639 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-14 21:28:03,639 sqlalchemy.engine.Engine INFO [cached since 712.9s ago] (18,)
2025-07-14 21:28:03,640 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:28:03,641 sqlalchemy.engine.Engine INFO [cached since 712.9s ago] (18,)
2025-07-14 21:28:03,642 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-14 21:28:03,642 sqlalchemy.engine.Engine INFO [cached since 712.9s ago] (18,)
2025-07-14 21:28:03,643 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-14 21:41:16,706 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-14 21:41:16,707 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-14 21:41:16,740 uvicorn.error INFO Shutting down
2025-07-14 21:41:16,850 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 21:41:16,851 uvicorn.error INFO Application shutdown complete.
2025-07-14 21:41:16,853 uvicorn.error INFO Finished server process [34424]
2025-07-14 21:41:18,861 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:41:18,862 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 21:41:18,862 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 21:41:18,863 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 21:41:18,863 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 21:41:18,863 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 21:41:18,863 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 21:41:18,864 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 21:41:18,955 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.1680854091648'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.1680854091648'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-14 21:41:19,148 uvicorn.error INFO Started server process [31104]
2025-07-14 21:41:19,150 uvicorn.error INFO Waiting for application startup.
2025-07-14 21:41:19,151 uvicorn.error INFO Application startup complete.
2025-07-14 21:41:47,015 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-14 21:41:47,016 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-14 21:41:47,108 uvicorn.error INFO Shutting down
2025-07-14 21:41:47,217 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 21:41:47,218 uvicorn.error INFO Application shutdown complete.
2025-07-14 21:41:47,218 uvicorn.error INFO Finished server process [31104]
2025-07-14 21:41:48,904 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-14 21:41:48,904 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-14 21:41:48,906 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 21:41:48,906 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-14 21:41:48,907 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 21:41:48,907 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-14 21:41:48,907 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-14 21:41:48,907 sqlalchemy.engine.Engine INFO COMMIT
2025-07-14 21:41:48,965 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.3212314937216'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.3212314937216'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-14 21:41:49,195 uvicorn.error INFO Started server process [34112]
2025-07-14 21:41:49,196 uvicorn.error INFO Waiting for application startup.
2025-07-14 21:41:49,197 uvicorn.error INFO Application startup complete.
2025-07-14 21:42:45,810 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-14 21:42:45,810 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-14 21:42:45,883 uvicorn.error INFO Shutting down
2025-07-14 21:42:45,994 uvicorn.error INFO Waiting for application shutdown.
2025-07-14 21:42:45,996 uvicorn.error INFO Application shutdown complete.
2025-07-14 21:42:45,997 uvicorn.error INFO Finished server process [34112]
2025-07-14 21:42:47,761 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.1695210932096'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.1695210932096')}
2025-07-14 21:42:54,705 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-14 21:42:54,706 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-14 21:42:56,148 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2057851504512'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2057851504512'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-15 00:07:41,249 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-15 00:07:41,250 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-15 00:07:45,968 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.1872894381344'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.1872894381344')}
2025-07-15 00:08:32,764 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\session.py')}
2025-07-15 00:08:32,765 uvicorn.error WARNING WatchFiles detected changes in 'routes\session.py'. Reloading...
2025-07-15 00:08:34,187 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:08:34,189 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-15 00:08:34,189 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-15 00:08:34,190 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-15 00:08:34,190 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-15 00:08:34,190 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-15 00:08:34,190 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-15 00:08:34,191 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:08:34,257 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2432292751232'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc.2432292751232'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\session.cpython-312.pyc')}
2025-07-15 00:08:34,472 uvicorn.error INFO Started server process [3432]
2025-07-15 00:08:34,474 uvicorn.error INFO Waiting for application startup.
2025-07-15 00:08:34,476 uvicorn.error INFO Application startup complete.
2025-07-15 00:08:34,517 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:08:34,520 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-15 00:08:34,520 sqlalchemy.engine.Engine INFO [generated in 0.00063s] (2,)
2025-07-15 00:08:34,522 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:08:34,524 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-15 00:08:34,524 sqlalchemy.engine.Engine INFO [generated in 0.00094s] (18,)
2025-07-15 00:08:34,529 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-15 00:08:34,531 sqlalchemy.engine.Engine INFO [generated in 0.00080s] (2,)
2025-07-15 00:08:34,534 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-15 00:08:34,534 sqlalchemy.engine.Engine INFO [generated in 0.00050s] (18,)
2025-07-15 00:08:34,534 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:08:34,537 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-15 00:08:34,538 sqlalchemy.engine.Engine INFO [cached since 0.004243s ago] (18,)
2025-07-15 00:08:34,541 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:08:47,886 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:08:47,887 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:08:47,887 sqlalchemy.engine.Engine INFO [generated in 0.00048s] (2, 1, 0)
2025-07-15 00:08:47,889 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:08:47,890 sqlalchemy.engine.Engine INFO [generated in 0.00063s] (2,)
2025-07-15 00:08:47,897 sqlalchemy.engine.Engine INFO UPDATE chat_history SET session_id=? WHERE chat_history.id = ?
2025-07-15 00:08:47,897 sqlalchemy.engine.Engine INFO [generated in 0.00045s] (None, 22)
2025-07-15 00:08:47,906 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:08:47,907 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (2,)
2025-07-15 00:08:47,908 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:08:48,010 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:09:07,532 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:09:07,533 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-15 00:09:07,534 sqlalchemy.engine.Engine INFO [cached since 33.01s ago] (2,)
2025-07-15 00:09:07,535 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-15 00:09:07,535 sqlalchemy.engine.Engine INFO [cached since 33.01s ago] (2,)
2025-07-15 00:09:07,537 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:09:22,828 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:09:22,828 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:09:22,829 sqlalchemy.engine.Engine INFO [cached since 34.94s ago] (13, 1, 0)
2025-07-15 00:09:22,830 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:09:22,830 sqlalchemy.engine.Engine INFO [cached since 34.94s ago] (13,)
2025-07-15 00:09:22,833 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:09:22,833 sqlalchemy.engine.Engine INFO [cached since 34.93s ago] (13,)
2025-07-15 00:09:22,837 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:09:22,938 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:09:26,315 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:09:26,317 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-15 00:09:26,317 sqlalchemy.engine.Engine INFO [cached since 51.8s ago] (2,)
2025-07-15 00:09:26,319 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-15 00:09:26,320 sqlalchemy.engine.Engine INFO [cached since 51.79s ago] (2,)
2025-07-15 00:09:26,328 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:10:45,387 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:10:45,387 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-15 00:10:45,387 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:10:45,388 sqlalchemy.engine.Engine INFO [cached since 130.9s ago] (2,)
2025-07-15 00:10:45,388 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-15 00:10:45,388 sqlalchemy.engine.Engine INFO [cached since 130.9s ago] (18,)
2025-07-15 00:10:45,389 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-15 00:10:45,391 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-15 00:10:45,391 sqlalchemy.engine.Engine INFO [cached since 130.9s ago] (2,)
2025-07-15 00:10:45,391 sqlalchemy.engine.Engine INFO [cached since 130.9s ago] (18,)
2025-07-15 00:10:45,392 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-15 00:10:45,393 sqlalchemy.engine.Engine INFO [cached since 130.9s ago] (18,)
2025-07-15 00:10:45,393 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:10:45,395 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:10:58,043 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:10:58,044 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-15 00:10:58,044 sqlalchemy.engine.Engine INFO [cached since 143.5s ago] (18,)
2025-07-15 00:10:58,046 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-15 00:10:58,046 sqlalchemy.engine.Engine INFO [cached since 143.5s ago] (18,)
2025-07-15 00:10:58,047 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-15 00:10:58,047 sqlalchemy.engine.Engine INFO [cached since 143.5s ago] (18,)
2025-07-15 00:10:58,048 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:10:58,052 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:10:58,052 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-15 00:10:58,052 sqlalchemy.engine.Engine INFO [cached since 143.5s ago] (2,)
2025-07-15 00:10:58,054 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-15 00:10:58,054 sqlalchemy.engine.Engine INFO [cached since 143.5s ago] (2,)
2025-07-15 00:10:58,056 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:12:34,365 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:12:34,366 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-15 00:12:34,366 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:12:34,366 sqlalchemy.engine.Engine INFO [cached since 239.8s ago] (2,)
2025-07-15 00:12:34,367 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-15 00:12:34,368 sqlalchemy.engine.Engine INFO [cached since 239.8s ago] (18,)
2025-07-15 00:12:34,369 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-15 00:12:34,369 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-15 00:12:34,370 sqlalchemy.engine.Engine INFO [cached since 239.8s ago] (2,)
2025-07-15 00:12:34,370 sqlalchemy.engine.Engine INFO [cached since 239.8s ago] (18,)
2025-07-15 00:12:34,371 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-15 00:12:34,372 sqlalchemy.engine.Engine INFO [cached since 239.8s ago] (18,)
2025-07-15 00:12:34,373 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:12:34,376 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:12:38,034 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:12:38,034 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:12:38,035 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-15 00:12:38,035 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-15 00:12:38,035 sqlalchemy.engine.Engine INFO [cached since 243.5s ago] (2,)
2025-07-15 00:12:38,035 sqlalchemy.engine.Engine INFO [cached since 243.5s ago] (18,)
2025-07-15 00:12:38,037 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-15 00:12:38,038 sqlalchemy.engine.Engine INFO [cached since 243.5s ago] (18,)
2025-07-15 00:12:38,038 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-15 00:12:38,038 sqlalchemy.engine.Engine INFO [cached since 243.5s ago] (2,)
2025-07-15 00:12:38,039 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-15 00:12:38,040 sqlalchemy.engine.Engine INFO [cached since 243.5s ago] (18,)
2025-07-15 00:12:38,040 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:12:38,042 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:12:52,472 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:12:52,473 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:12:52,473 sqlalchemy.engine.Engine INFO [cached since 244.6s ago] (14, 1, 0)
2025-07-15 00:12:52,474 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:12:52,475 sqlalchemy.engine.Engine INFO [cached since 244.6s ago] (14,)
2025-07-15 00:12:52,476 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:12:52,476 sqlalchemy.engine.Engine INFO [cached since 244.6s ago] (14,)
2025-07-15 00:12:52,480 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:12:52,574 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:12:59,792 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:12:59,793 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-15 00:12:59,793 sqlalchemy.engine.Engine INFO [cached since 265.3s ago] (2,)
2025-07-15 00:12:59,796 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-15 00:12:59,796 sqlalchemy.engine.Engine INFO [cached since 265.3s ago] (2,)
2025-07-15 00:12:59,799 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:13:19,948 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:13:19,949 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:13:19,949 sqlalchemy.engine.Engine INFO [cached since 272.1s ago] (15, 1, 0)
2025-07-15 00:13:19,950 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:13:19,950 sqlalchemy.engine.Engine INFO [cached since 272.1s ago] (15,)
2025-07-15 00:13:19,950 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:13:19,952 sqlalchemy.engine.Engine INFO [cached since 272s ago] (15,)
2025-07-15 00:13:19,955 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:13:20,020 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:13:26,016 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:13:26,018 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:13:26,018 sqlalchemy.engine.Engine INFO [cached since 278.1s ago] (16, 1, 0)
2025-07-15 00:13:26,019 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:13:26,019 sqlalchemy.engine.Engine INFO [cached since 278.1s ago] (16,)
2025-07-15 00:13:26,020 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:13:26,021 sqlalchemy.engine.Engine INFO [cached since 278.1s ago] (16,)
2025-07-15 00:13:26,024 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:13:26,131 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:13:26,813 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:13:26,814 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:13:26,815 sqlalchemy.engine.Engine INFO [cached since 278.9s ago] (17, 1, 0)
2025-07-15 00:13:26,817 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:13:26,817 sqlalchemy.engine.Engine INFO [cached since 278.9s ago] (17,)
2025-07-15 00:13:26,819 sqlalchemy.engine.Engine INFO UPDATE chat_history SET session_id=? WHERE chat_history.id = ?
2025-07-15 00:13:26,819 sqlalchemy.engine.Engine INFO [generated in 0.00057s] [(None, 50), (None, 51), (None, 52), (None, 53), (None, 54), (None, 55)]
2025-07-15 00:13:26,824 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:13:26,824 sqlalchemy.engine.Engine INFO [cached since 278.9s ago] (17,)
2025-07-15 00:13:26,825 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:13:26,890 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:13:27,798 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:13:27,798 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:13:27,799 sqlalchemy.engine.Engine INFO [cached since 279.9s ago] (18, 1, 0)
2025-07-15 00:13:27,800 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:13:27,800 sqlalchemy.engine.Engine INFO [cached since 279.9s ago] (18,)
2025-07-15 00:13:27,803 sqlalchemy.engine.Engine INFO UPDATE chat_history SET session_id=? WHERE chat_history.id = ?
2025-07-15 00:13:27,803 sqlalchemy.engine.Engine INFO [cached since 0.9838s ago] [(None, 56), (None, 57), (None, 58), (None, 59), (None, 60), (None, 61), (None, 62), (None, 63)  ... displaying 10 of 15 total bound parameter sets ...  (None, 69), (None, 70)]
2025-07-15 00:13:27,806 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:13:27,807 sqlalchemy.engine.Engine INFO [cached since 279.9s ago] (18,)
2025-07-15 00:13:27,807 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:13:27,904 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:13:45,390 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-15 00:13:45,390 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-15 00:13:45,456 uvicorn.error INFO Shutting down
2025-07-15 00:13:45,565 uvicorn.error INFO Waiting for application shutdown.
2025-07-15 00:13:45,566 uvicorn.error INFO Application shutdown complete.
2025-07-15 00:13:45,567 uvicorn.error INFO Finished server process [3432]
2025-07-15 00:13:46,689 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1551214336816'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1551214336816')}
2025-07-15 00:13:47,257 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:13:47,258 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-15 00:13:47,258 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-15 00:13:47,259 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-15 00:13:47,259 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-15 00:13:47,259 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-15 00:13:47,259 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-15 00:13:47,259 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:13:47,545 uvicorn.error INFO Started server process [8456]
2025-07-15 00:13:47,547 uvicorn.error INFO Waiting for application startup.
2025-07-15 00:13:47,548 uvicorn.error INFO Application startup complete.
2025-07-15 00:14:21,978 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:14:21,981 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-15 00:14:21,983 sqlalchemy.engine.Engine INFO [generated in 0.00049s] (13,)
2025-07-15 00:14:21,983 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:14:28,274 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:14:28,275 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-15 00:14:28,276 sqlalchemy.engine.Engine INFO [cached since 6.294s ago] (15,)
2025-07-15 00:14:28,277 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:14:36,325 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:14:36,325 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-15 00:14:36,326 sqlalchemy.engine.Engine INFO [cached since 14.34s ago] (17,)
2025-07-15 00:14:36,327 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:14:44,016 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:14:44,017 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-15 00:14:44,018 sqlalchemy.engine.Engine INFO [cached since 22.04s ago] (1,)
2025-07-15 00:14:44,020 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-15 00:14:44,021 sqlalchemy.engine.Engine INFO [generated in 0.00052s] (1,)
2025-07-15 00:14:44,022 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
2025-07-15 00:14:44,023 sqlalchemy.engine.Engine INFO [cached since 0.003183s ago] (1,)
2025-07-15 00:14:44,024 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:15:19,329 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:15:19,331 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-15 00:15:19,332 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (1,)
2025-07-15 00:15:19,333 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-07-15 00:15:19,334 sqlalchemy.engine.Engine INFO [generated in 0.00043s] (1,)
2025-07-15 00:15:19,335 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:15:25,986 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:15:25,988 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:15:25,989 sqlalchemy.engine.Engine INFO [generated in 0.00056s] (12, 1, 0)
2025-07-15 00:15:25,992 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:15:25,992 sqlalchemy.engine.Engine INFO [generated in 0.00071s] (12,)
2025-07-15 00:15:25,997 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:15:25,997 sqlalchemy.engine.Engine INFO [generated in 0.00048s] (12,)
2025-07-15 00:15:26,001 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:15:26,097 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:15:27,578 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:15:27,578 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:15:27,579 sqlalchemy.engine.Engine INFO [cached since 1.59s ago] (11, 1, 0)
2025-07-15 00:15:27,580 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:15:27,580 sqlalchemy.engine.Engine INFO [cached since 1.588s ago] (11,)
2025-07-15 00:15:27,583 sqlalchemy.engine.Engine INFO UPDATE chat_history SET session_id=? WHERE chat_history.id = ?
2025-07-15 00:15:27,583 sqlalchemy.engine.Engine INFO [generated in 0.00047s] [(None, 34), (None, 35), (None, 36), (None, 37), (None, 38), (None, 39), (None, 40), (None, 41)  ... displaying 10 of 14 total bound parameter sets ...  (None, 46), (None, 47)]
2025-07-15 00:15:27,587 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:15:27,588 sqlalchemy.engine.Engine INFO [cached since 1.591s ago] (11,)
2025-07-15 00:15:27,588 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:15:27,661 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:15:28,982 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:15:28,982 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:15:28,983 sqlalchemy.engine.Engine INFO [cached since 2.994s ago] (10, 1, 0)
2025-07-15 00:15:28,984 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:15:28,984 sqlalchemy.engine.Engine INFO [cached since 2.992s ago] (10,)
2025-07-15 00:15:28,985 sqlalchemy.engine.Engine INFO UPDATE chat_history SET session_id=? WHERE chat_history.id = ?
2025-07-15 00:15:28,985 sqlalchemy.engine.Engine INFO [cached since 1.403s ago] [(None, 32), (None, 33)]
2025-07-15 00:15:28,989 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:15:28,990 sqlalchemy.engine.Engine INFO [cached since 2.993s ago] (10,)
2025-07-15 00:15:28,990 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:15:29,072 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:15:31,043 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:15:31,045 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:15:31,045 sqlalchemy.engine.Engine INFO [cached since 5.056s ago] (9, 1, 0)
2025-07-15 00:15:31,046 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:15:31,047 sqlalchemy.engine.Engine INFO [cached since 5.054s ago] (9,)
2025-07-15 00:15:31,048 sqlalchemy.engine.Engine INFO UPDATE chat_history SET session_id=? WHERE chat_history.id = ?
2025-07-15 00:15:31,048 sqlalchemy.engine.Engine INFO [cached since 3.466s ago] [(None, 28), (None, 29), (None, 30), (None, 31)]
2025-07-15 00:15:31,052 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:15:31,054 sqlalchemy.engine.Engine INFO [cached since 5.056s ago] (9,)
2025-07-15 00:15:31,055 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:15:31,146 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:15:32,491 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:15:32,491 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:15:32,492 sqlalchemy.engine.Engine INFO [cached since 6.504s ago] (8, 1, 0)
2025-07-15 00:15:32,493 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:15:32,493 sqlalchemy.engine.Engine INFO [cached since 6.501s ago] (8,)
2025-07-15 00:15:32,495 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:15:32,495 sqlalchemy.engine.Engine INFO [cached since 6.498s ago] (8,)
2025-07-15 00:15:32,497 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:15:32,560 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:15:34,508 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:15:34,508 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:15:34,508 sqlalchemy.engine.Engine INFO [cached since 8.52s ago] (1, 1, 0)
2025-07-15 00:15:34,511 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:15:34,511 sqlalchemy.engine.Engine INFO [cached since 8.519s ago] (1,)
2025-07-15 00:15:34,513 sqlalchemy.engine.Engine INFO UPDATE chat_history SET session_id=? WHERE chat_history.id = ?
2025-07-15 00:15:34,514 sqlalchemy.engine.Engine INFO [cached since 6.93s ago] [(None, 1), (None, 2), (None, 3), (None, 4), (None, 5), (None, 6), (None, 7), (None, 8)  ... displaying 10 of 21 total bound parameter sets ...  (None, 20), (None, 21)]
2025-07-15 00:15:34,517 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:15:34,518 sqlalchemy.engine.Engine INFO [cached since 8.52s ago] (1,)
2025-07-15 00:15:34,519 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:15:34,624 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:15:34,948 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:15:34,948 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:15:34,949 sqlalchemy.engine.Engine INFO [cached since 8.961s ago] (3, 1, 0)
2025-07-15 00:15:34,950 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:15:34,950 sqlalchemy.engine.Engine INFO [cached since 8.959s ago] (3,)
2025-07-15 00:15:34,951 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:15:34,951 sqlalchemy.engine.Engine INFO [cached since 8.955s ago] (3,)
2025-07-15 00:15:34,956 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:15:35,026 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:15:35,466 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:15:35,468 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:15:35,468 sqlalchemy.engine.Engine INFO [cached since 9.479s ago] (4, 1, 0)
2025-07-15 00:15:35,469 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:15:35,469 sqlalchemy.engine.Engine INFO [cached since 9.477s ago] (4,)
2025-07-15 00:15:35,470 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:15:35,470 sqlalchemy.engine.Engine INFO [cached since 9.473s ago] (4,)
2025-07-15 00:15:35,473 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:15:35,583 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:15:35,664 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:15:35,665 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:15:35,665 sqlalchemy.engine.Engine INFO [cached since 9.677s ago] (5, 1, 0)
2025-07-15 00:15:35,667 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:15:35,667 sqlalchemy.engine.Engine INFO [cached since 9.675s ago] (5,)
2025-07-15 00:15:35,667 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:15:35,668 sqlalchemy.engine.Engine INFO [cached since 9.671s ago] (5,)
2025-07-15 00:15:35,671 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:15:35,867 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:15:35,868 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:15:35,868 sqlalchemy.engine.Engine INFO [cached since 9.88s ago] (6, 1, 0)
2025-07-15 00:15:35,870 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:15:35,871 sqlalchemy.engine.Engine INFO [cached since 9.878s ago] (6,)
2025-07-15 00:15:35,872 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:15:35,872 sqlalchemy.engine.Engine INFO [cached since 9.875s ago] (6,)
2025-07-15 00:15:35,875 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:15:35,940 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:15:36,065 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:15:36,065 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-07-15 00:15:36,065 sqlalchemy.engine.Engine INFO [cached since 10.08s ago] (7, 1, 0)
2025-07-15 00:15:36,066 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-07-15 00:15:36,066 sqlalchemy.engine.Engine INFO [cached since 10.07s ago] (7,)
2025-07-15 00:15:36,067 sqlalchemy.engine.Engine INFO UPDATE chat_history SET session_id=? WHERE chat_history.id = ?
2025-07-15 00:15:36,068 sqlalchemy.engine.Engine INFO [cached since 8.485s ago] [(None, 23), (None, 24), (None, 25), (None, 26), (None, 27)]
2025-07-15 00:15:36,069 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-07-15 00:15:36,071 sqlalchemy.engine.Engine INFO [cached since 10.07s ago] (7,)
2025-07-15 00:15:36,071 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:15:36,299 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-15 00:15:48,099 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:15:48,100 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-07-15 00:15:48,101 sqlalchemy.engine.Engine INFO [cached since 86.12s ago] (1,)
2025-07-15 00:15:48,101 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 00:30:41,989 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-15 00:30:41,990 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-15 00:30:42,072 uvicorn.error INFO Shutting down
2025-07-15 00:30:42,180 uvicorn.error INFO Waiting for application shutdown.
2025-07-15 00:30:42,182 uvicorn.error INFO Application shutdown complete.
2025-07-15 00:30:42,183 uvicorn.error INFO Finished server process [8456]
2025-07-15 00:30:42,735 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes')}
2025-07-15 00:30:43,865 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 00:30:43,866 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-15 00:30:43,866 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-15 00:30:43,866 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-15 00:30:43,867 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-15 00:30:43,867 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-15 00:30:43,867 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-15 00:30:43,868 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 00:30:44,160 uvicorn.error INFO Started server process [14276]
2025-07-15 00:30:44,161 uvicorn.error INFO Waiting for application startup.
2025-07-15 00:30:44,162 uvicorn.error INFO Application startup complete.
2025-07-15 01:54:52,398 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 01:54:52,403 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-15 01:54:52,404 sqlalchemy.engine.Engine INFO [generated in 0.00090s] (1,)
2025-07-15 01:54:52,409 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 01:54:52,418 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 01:54:52,419 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-15 01:54:52,420 sqlalchemy.engine.Engine INFO [cached since 0.01672s ago] (1,)
2025-07-15 01:54:52,422 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-15 18:14:36,453 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-15 18:14:36,454 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-15 18:14:36,561 uvicorn.error INFO Shutting down
2025-07-15 18:14:36,670 uvicorn.error INFO Waiting for application shutdown.
2025-07-15 18:14:36,670 uvicorn.error INFO Application shutdown complete.
2025-07-15 18:14:36,672 uvicorn.error INFO Finished server process [14276]
2025-07-15 18:14:43,715 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-15 18:14:43,715 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-15 18:14:43,715 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-15 18:14:43,716 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-15 18:14:43,717 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-15 18:14:43,717 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-15 18:14:43,718 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-15 18:14:43,718 sqlalchemy.engine.Engine INFO COMMIT
2025-07-15 18:14:44,010 uvicorn.error INFO Started server process [26108]
2025-07-15 18:14:44,013 uvicorn.error INFO Waiting for application startup.
2025-07-15 18:14:44,013 uvicorn.error INFO Application startup complete.
2025-07-15 18:21:30,007 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-15 18:21:30,008 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-15 18:21:30,077 uvicorn.error INFO Shutting down
2025-07-15 18:21:30,186 uvicorn.error INFO Waiting for application shutdown.
2025-07-15 18:21:30,187 uvicorn.error INFO Application shutdown complete.
2025-07-15 18:21:30,188 uvicorn.error INFO Finished server process [26108]
2025-07-15 18:21:31,253 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1933809703728'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1933809703728')}
2025-07-15 18:51:55,088 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-15 18:51:55,088 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-15 18:51:55,984 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.3050007124784'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.3050007124784'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc')}
2025-07-16 09:39:35,994 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 09:39:35,997 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 09:39:40,432 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1592782379824'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1592782379824')}
2025-07-16 09:41:01,518 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 09:41:01,518 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 09:41:02,349 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2723437108016'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2723437108016'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc')}
2025-07-16 09:41:48,510 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 09:41:48,510 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 09:41:49,347 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2938821565232'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2938821565232')}
2025-07-16 09:41:50,369 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 09:41:50,371 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 09:41:50,371 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 09:41:50,372 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 09:41:50,372 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 09:41:50,373 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 09:41:50,373 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 09:41:50,373 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 09:41:50,373 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 09:41:50,374 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("file")
2025-07-16 09:41:50,374 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 09:41:50,374 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 09:41:50,375 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 09:41:50,375 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("citation")
2025-07-16 09:41:50,376 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 09:41:50,376 sqlalchemy.engine.Engine INFO 
CREATE TABLE file (
	id INTEGER NOT NULL, 
	session_id INTEGER, 
	md5 VARCHAR, 
	file_name VARCHAR, 
	file_type VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(session_id) REFERENCES session (id)
)


2025-07-16 09:41:50,377 sqlalchemy.engine.Engine INFO [no key 0.00035s] ()
2025-07-16 09:41:50,403 sqlalchemy.engine.Engine INFO CREATE INDEX ix_file_id ON file (id)
2025-07-16 09:41:50,403 sqlalchemy.engine.Engine INFO [no key 0.00035s] ()
2025-07-16 09:41:50,413 sqlalchemy.engine.Engine INFO 
CREATE TABLE citation (
	id INTEGER NOT NULL, 
	citation VARCHAR, 
	file_name VARCHAR, 
	file_id INTEGER, 
	chat_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(file_id) REFERENCES file (id), 
	FOREIGN KEY(chat_id) REFERENCES chat_history (id)
)


2025-07-16 09:41:50,413 sqlalchemy.engine.Engine INFO [no key 0.00048s] ()
2025-07-16 09:41:50,423 sqlalchemy.engine.Engine INFO CREATE INDEX ix_citation_id ON citation (id)
2025-07-16 09:41:50,423 sqlalchemy.engine.Engine INFO [no key 0.00035s] ()
2025-07-16 09:41:50,433 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 09:41:50,466 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-16 09:41:50,735 uvicorn.error INFO Started server process [11804]
2025-07-16 09:41:50,737 uvicorn.error INFO Waiting for application startup.
2025-07-16 09:41:50,738 uvicorn.error INFO Application startup complete.
2025-07-16 09:41:50,788 root ERROR Error getting db session : One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 09:41:50,788 root ERROR Error getting db session : One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 09:41:50,789 root ERROR Error getting db session : One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 09:41:50,789 root ERROR Error getting db session : When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 09:41:50,789 root ERROR Error getting db session : One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 09:41:50,789 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\session.py", line 22, in get_session
    return db.query(models.Session).filter(models.Session.user_id == user_id).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 09:41:51,054 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\session.py", line 22, in get_session
    return db.query(models.Session).filter(models.Session.user_id == user_id).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 09:41:51,057 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\session.py", line 22, in get_session
    return db.query(models.Session).filter(models.Session.user_id == user_id).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 09:41:51,064 root ERROR Error getting db session : One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 09:41:51,062 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'Chat'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\session.py", line 22, in get_session
    return db.query(models.Session).filter(models.Session.user_id == user_id).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1661, in do_init
    self._generate_backref()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2145, in _generate_backref
    self._add_reverse_property(self.back_populates)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1613, in _add_reverse_property
    other._setup_entity()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1866, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 09:41:51,123 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\session.py", line 22, in get_session
    return db.query(models.Session).filter(models.Session.user_id == user_id).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 09:41:51,130 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\session.py", line 22, in get_session
    return db.query(models.Session).filter(models.Session.user_id == user_id).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 12:02:07,148 root ERROR Error getting db session : One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 12:02:07,153 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\session.py", line 22, in get_session
    return db.query(models.Session).filter(models.Session.user_id == user_id).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 12:02:07,166 root ERROR Error getting db session : One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 12:02:07,170 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\session.py", line 22, in get_session
    return db.query(models.Session).filter(models.Session.user_id == user_id).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[ChatHistory(chat_history)]'. Original exception was: When initializing mapper Mapper[Citation(citation)], expression 'Chat' failed to locate a name ('Chat'). If this is a class name, consider adding this relationship() to the <class 'models.models.Citation'> class after both dependent classes have been defined.
2025-07-16 12:23:17,491 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 12:23:17,491 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 12:23:17,507 uvicorn.error INFO Shutting down
2025-07-16 12:23:17,616 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 12:23:17,618 uvicorn.error INFO Application shutdown complete.
2025-07-16 12:23:17,620 uvicorn.error INFO Finished server process [11804]
2025-07-16 12:23:18,832 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.3198524676912'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.3198524676912')}
2025-07-16 12:23:19,575 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 12:23:19,577 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 12:23:19,577 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 12:23:19,578 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 12:23:19,579 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 12:23:19,579 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 12:23:19,579 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 12:23:19,579 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 12:23:19,579 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 12:23:19,580 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 12:23:19,580 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 12:23:19,580 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 12:23:19,899 uvicorn.error INFO Started server process [28660]
2025-07-16 12:23:19,900 uvicorn.error INFO Waiting for application startup.
2025-07-16 12:23:19,901 uvicorn.error INFO Application startup complete.
2025-07-16 12:59:09,145 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 12:59:09,146 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 12:59:09,235 uvicorn.error INFO Shutting down
2025-07-16 12:59:09,345 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 12:59:09,347 uvicorn.error INFO Application shutdown complete.
2025-07-16 12:59:09,348 uvicorn.error INFO Finished server process [28660]
2025-07-16 12:59:10,478 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1895342693168'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1895342693168'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc')}
2025-07-16 12:59:11,070 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 12:59:11,071 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 12:59:11,071 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 12:59:11,072 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 12:59:11,072 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 12:59:11,073 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 12:59:11,073 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 12:59:11,073 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 12:59:11,074 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 12:59:11,075 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 12:59:11,075 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 12:59:11,076 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 12:59:11,377 uvicorn.error INFO Started server process [22128]
2025-07-16 12:59:11,378 uvicorn.error INFO Waiting for application startup.
2025-07-16 12:59:11,379 uvicorn.error INFO Application startup complete.
2025-07-16 17:35:47,040 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\file.py')}
2025-07-16 17:35:47,044 uvicorn.error WARNING WatchFiles detected changes in 'schema\file.py'. Reloading...
2025-07-16 17:35:47,095 uvicorn.error INFO Shutting down
2025-07-16 17:35:47,207 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 17:35:47,208 uvicorn.error INFO Application shutdown complete.
2025-07-16 17:35:47,209 uvicorn.error INFO Finished server process [22128]
2025-07-16 17:35:47,806 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema')}
2025-07-16 17:35:49,121 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 17:35:49,121 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 17:35:49,122 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 17:35:49,122 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 17:35:49,123 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 17:35:49,123 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 17:35:49,124 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 17:35:49,124 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 17:35:49,124 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 17:35:49,124 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 17:35:49,125 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 17:35:49,125 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 17:35:49,440 uvicorn.error INFO Started server process [30076]
2025-07-16 17:35:49,441 uvicorn.error INFO Waiting for application startup.
2025-07-16 17:35:49,443 uvicorn.error INFO Application startup complete.
2025-07-16 20:16:02,808 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 20:16:02,809 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 20:16:02,886 uvicorn.error INFO Shutting down
2025-07-16 20:16:02,994 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 20:16:02,997 uvicorn.error INFO Application shutdown complete.
2025-07-16 20:16:02,998 uvicorn.error INFO Finished server process [30076]
2025-07-16 20:16:07,434 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1958185622320'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1958185622320')}
2025-07-16 20:16:09,604 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 20:16:09,605 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 20:16:09,606 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:09,607 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 20:16:09,608 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:09,608 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 20:16:09,608 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:09,608 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 20:16:09,609 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:09,609 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 20:16:09,609 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:09,610 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 20:16:09,894 uvicorn.error INFO Started server process [7536]
2025-07-16 20:16:09,896 uvicorn.error INFO Waiting for application startup.
2025-07-16 20:16:09,897 uvicorn.error INFO Application startup complete.
2025-07-16 20:16:23,866 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 20:16:23,866 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 20:16:23,873 uvicorn.error INFO Shutting down
2025-07-16 20:16:23,980 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 20:16:23,981 uvicorn.error INFO Application shutdown complete.
2025-07-16 20:16:23,982 uvicorn.error INFO Finished server process [7536]
2025-07-16 20:16:25,006 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2686089976624'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2686089976624'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc')}
2025-07-16 20:16:25,599 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 20:16:25,600 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 20:16:25,600 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:25,601 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 20:16:25,601 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:25,602 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 20:16:25,602 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:25,602 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 20:16:25,602 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:25,602 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 20:16:25,603 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:25,603 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 20:16:25,882 uvicorn.error INFO Started server process [2756]
2025-07-16 20:16:25,883 uvicorn.error INFO Waiting for application startup.
2025-07-16 20:16:25,884 uvicorn.error INFO Application startup complete.
2025-07-16 20:16:27,385 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\file.py')}
2025-07-16 20:16:27,385 uvicorn.error WARNING WatchFiles detected changes in 'schema\file.py'. Reloading...
2025-07-16 20:16:27,399 uvicorn.error INFO Shutting down
2025-07-16 20:16:27,507 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 20:16:27,508 uvicorn.error INFO Application shutdown complete.
2025-07-16 20:16:27,509 uvicorn.error INFO Finished server process [2756]
2025-07-16 20:16:29,073 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 20:16:29,074 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 20:16:29,074 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:29,075 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 20:16:29,075 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:29,075 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 20:16:29,076 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:29,076 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 20:16:29,076 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:29,077 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 20:16:29,077 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:16:29,077 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 20:16:29,361 uvicorn.error INFO Started server process [27772]
2025-07-16 20:16:29,362 uvicorn.error INFO Waiting for application startup.
2025-07-16 20:16:29,363 uvicorn.error INFO Application startup complete.
2025-07-16 20:22:36,676 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-16 20:22:36,676 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-16 20:22:36,741 uvicorn.error INFO Shutting down
2025-07-16 20:22:36,850 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 20:22:36,852 uvicorn.error INFO Application shutdown complete.
2025-07-16 20:22:36,852 uvicorn.error INFO Finished server process [27772]
2025-07-16 20:22:38,224 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.2078121811168'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.2078121811168')}
2025-07-16 20:22:38,484 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 20:22:38,485 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 20:22:38,485 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:22:38,486 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 20:22:38,486 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:22:38,486 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 20:22:38,486 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:22:38,487 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 20:22:38,487 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:22:38,487 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 20:22:38,489 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:22:38,489 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 20:22:38,769 uvicorn.error INFO Started server process [31360]
2025-07-16 20:22:38,771 uvicorn.error INFO Waiting for application startup.
2025-07-16 20:22:38,772 uvicorn.error INFO Application startup complete.
2025-07-16 20:28:56,759 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 20:28:56,760 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 20:28:56,793 uvicorn.error INFO Shutting down
2025-07-16 20:28:56,903 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 20:28:56,905 uvicorn.error INFO Application shutdown complete.
2025-07-16 20:28:56,906 uvicorn.error INFO Finished server process [31360]
2025-07-16 20:28:57,960 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2301486586672'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2301486586672'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc')}
2025-07-16 20:33:44,452 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 20:33:44,452 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 20:33:45,289 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1769706380080'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1769706380080'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc')}
2025-07-16 20:33:45,830 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 20:33:45,831 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 20:33:45,831 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:33:45,832 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 20:33:45,832 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:33:45,833 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 20:33:45,833 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:33:45,833 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 20:33:45,834 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:33:45,834 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 20:33:45,834 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:33:45,836 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 20:33:46,120 uvicorn.error INFO Started server process [29308]
2025-07-16 20:33:46,122 uvicorn.error INFO Waiting for application startup.
2025-07-16 20:33:46,123 uvicorn.error INFO Application startup complete.
2025-07-16 20:33:56,224 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-16 20:33:56,224 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-16 20:33:56,261 uvicorn.error INFO Shutting down
2025-07-16 20:33:56,370 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 20:33:56,371 uvicorn.error INFO Application shutdown complete.
2025-07-16 20:33:56,372 uvicorn.error INFO Finished server process [29308]
2025-07-16 20:33:57,659 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.2155978447664'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.2155978447664')}
2025-07-16 20:33:57,929 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 20:33:57,929 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 20:33:57,929 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:33:57,930 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 20:33:57,930 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:33:57,930 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 20:33:57,930 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:33:57,931 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 20:33:57,931 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:33:57,931 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 20:33:57,931 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:33:57,932 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 20:33:58,218 uvicorn.error INFO Started server process [3604]
2025-07-16 20:33:58,220 uvicorn.error INFO Waiting for application startup.
2025-07-16 20:33:58,221 uvicorn.error INFO Application startup complete.
2025-07-16 20:34:21,821 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\session.py')}
2025-07-16 20:34:21,821 uvicorn.error WARNING WatchFiles detected changes in 'schema\session.py'. Reloading...
2025-07-16 20:34:21,877 uvicorn.error INFO Shutting down
2025-07-16 20:34:21,985 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 20:34:21,987 uvicorn.error INFO Application shutdown complete.
2025-07-16 20:34:21,988 uvicorn.error INFO Finished server process [3604]
2025-07-16 20:34:23,262 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.2576731102000'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc.2576731102000'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\session.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__')}
2025-07-16 20:34:23,515 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 20:34:23,516 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 20:34:23,516 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:34:23,518 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 20:34:23,518 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:34:23,519 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 20:34:23,519 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:34:23,519 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 20:34:23,519 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:34:23,519 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 20:34:23,520 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:34:23,520 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 20:34:23,804 uvicorn.error INFO Started server process [33860]
2025-07-16 20:34:23,807 uvicorn.error INFO Waiting for application startup.
2025-07-16 20:34:23,808 uvicorn.error INFO Application startup complete.
2025-07-16 20:41:16,876 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\file.py')}
2025-07-16 20:41:16,876 uvicorn.error WARNING WatchFiles detected changes in 'schema\file.py'. Reloading...
2025-07-16 20:41:16,891 uvicorn.error INFO Shutting down
2025-07-16 20:41:16,998 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 20:41:17,000 uvicorn.error INFO Application shutdown complete.
2025-07-16 20:41:17,002 uvicorn.error INFO Finished server process [33860]
2025-07-16 20:41:18,578 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 20:41:18,579 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 20:41:18,579 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:41:18,580 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 20:41:18,580 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:41:18,581 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 20:41:18,581 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:41:18,581 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 20:41:18,581 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:41:18,582 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 20:41:18,582 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:41:18,582 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 20:41:18,885 uvicorn.error INFO Started server process [25272]
2025-07-16 20:41:18,886 uvicorn.error INFO Waiting for application startup.
2025-07-16 20:41:18,888 uvicorn.error INFO Application startup complete.
2025-07-16 20:55:00,466 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 20:55:00,467 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 20:55:00,522 uvicorn.error INFO Shutting down
2025-07-16 20:55:00,630 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 20:55:00,632 uvicorn.error INFO Application shutdown complete.
2025-07-16 20:55:00,633 uvicorn.error INFO Finished server process [25272]
2025-07-16 20:55:02,160 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 20:55:02,161 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 20:55:02,161 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:55:02,162 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 20:55:02,162 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:55:02,163 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 20:55:02,163 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:55:02,164 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 20:55:02,164 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:55:02,164 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 20:55:02,164 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:55:02,164 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 20:55:02,451 uvicorn.error INFO Started server process [20996]
2025-07-16 20:55:02,453 uvicorn.error INFO Waiting for application startup.
2025-07-16 20:55:02,454 uvicorn.error INFO Application startup complete.
2025-07-16 20:56:41,964 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 20:56:41,964 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 20:56:42,002 uvicorn.error INFO Shutting down
2025-07-16 20:56:42,111 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 20:56:42,113 uvicorn.error INFO Application shutdown complete.
2025-07-16 20:56:42,114 uvicorn.error INFO Finished server process [20996]
2025-07-16 20:56:43,662 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 20:56:43,663 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 20:56:43,663 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:56:43,664 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 20:56:43,664 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:56:43,664 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 20:56:43,665 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:56:43,665 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 20:56:43,665 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:56:43,665 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 20:56:43,667 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:56:43,667 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 20:56:43,952 uvicorn.error INFO Started server process [18352]
2025-07-16 20:56:43,953 uvicorn.error INFO Waiting for application startup.
2025-07-16 20:56:43,954 uvicorn.error INFO Application startup complete.
2025-07-16 20:56:56,511 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 20:56:56,511 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 20:56:56,594 uvicorn.error INFO Shutting down
2025-07-16 20:56:56,703 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 20:56:56,704 uvicorn.error INFO Application shutdown complete.
2025-07-16 20:56:56,705 uvicorn.error INFO Finished server process [18352]
2025-07-16 20:56:58,217 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 20:56:58,217 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 20:56:58,218 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:56:58,218 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 20:56:58,218 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:56:58,219 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 20:56:58,219 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:56:58,220 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 20:56:58,220 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:56:58,220 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 20:56:58,221 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 20:56:58,221 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 20:56:58,501 uvicorn.error INFO Started server process [6668]
2025-07-16 20:56:58,504 uvicorn.error INFO Waiting for application startup.
2025-07-16 20:56:58,505 uvicorn.error INFO Application startup complete.
2025-07-16 21:34:10,899 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\config_vars.py')}
2025-07-16 21:34:10,903 uvicorn.error WARNING WatchFiles detected changes in 'utils\config_vars.py'. Reloading...
2025-07-16 21:34:10,937 uvicorn.error INFO Shutting down
2025-07-16 21:34:11,046 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 21:34:11,047 uvicorn.error INFO Application shutdown complete.
2025-07-16 21:34:11,049 uvicorn.error INFO Finished server process [6668]
2025-07-16 21:34:13,068 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc.1388098247184'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc.1388098247184')}
2025-07-16 21:34:14,401 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 21:34:14,401 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 21:34:14,401 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:34:14,403 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 21:34:14,405 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:34:14,405 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 21:34:14,405 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:34:14,407 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 21:34:14,407 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:34:14,408 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 21:34:14,408 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:34:14,410 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 21:34:15,081 uvicorn.error INFO Started server process [31080]
2025-07-16 21:34:15,084 uvicorn.error INFO Waiting for application startup.
2025-07-16 21:34:15,086 uvicorn.error INFO Application startup complete.
2025-07-16 21:34:27,662 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 21:34:27,663 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 21:34:27,672 uvicorn.error INFO Shutting down
2025-07-16 21:34:27,781 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 21:34:27,783 uvicorn.error INFO Application shutdown complete.
2025-07-16 21:34:27,785 uvicorn.error INFO Finished server process [31080]
2025-07-16 21:34:31,226 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 21:34:31,226 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 21:34:31,227 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:34:31,229 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 21:34:31,230 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:34:31,230 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 21:34:31,230 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:34:31,231 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 21:34:31,231 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:34:31,232 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 21:34:31,233 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:34:31,233 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 21:34:31,853 uvicorn.error INFO Started server process [32540]
2025-07-16 21:34:31,855 uvicorn.error INFO Waiting for application startup.
2025-07-16 21:34:31,857 uvicorn.error INFO Application startup complete.
2025-07-16 21:36:36,315 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 21:36:36,315 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 21:36:36,325 uvicorn.error INFO Shutting down
2025-07-16 21:36:36,434 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 21:36:36,436 uvicorn.error INFO Application shutdown complete.
2025-07-16 21:36:36,437 uvicorn.error INFO Finished server process [32540]
2025-07-16 21:36:39,723 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 21:36:39,724 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 21:36:39,724 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:36:39,726 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 21:36:39,726 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:36:39,728 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 21:36:39,728 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:36:39,729 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 21:36:39,729 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:36:39,730 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 21:36:39,731 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:36:39,732 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 21:36:40,403 uvicorn.error INFO Started server process [27000]
2025-07-16 21:36:40,405 uvicorn.error INFO Waiting for application startup.
2025-07-16 21:36:40,406 uvicorn.error INFO Application startup complete.
2025-07-16 21:38:32,260 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\user_files')}
2025-07-16 21:55:45,759 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\file.py')}
2025-07-16 21:55:45,759 uvicorn.error WARNING WatchFiles detected changes in 'schema\file.py'. Reloading...
2025-07-16 21:55:45,868 uvicorn.error INFO Shutting down
2025-07-16 21:55:45,976 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 21:55:45,977 uvicorn.error INFO Application shutdown complete.
2025-07-16 21:55:45,979 uvicorn.error INFO Finished server process [27000]
2025-07-16 21:55:49,443 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 21:55:49,445 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 21:55:49,445 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:55:49,447 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 21:55:49,447 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:55:49,448 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 21:55:49,449 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:55:49,449 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 21:55:49,451 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:55:49,451 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 21:55:49,451 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:55:49,453 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 21:55:50,149 uvicorn.error INFO Started server process [3460]
2025-07-16 21:55:50,151 uvicorn.error INFO Waiting for application startup.
2025-07-16 21:55:50,153 uvicorn.error INFO Application startup complete.
2025-07-16 21:56:05,006 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\file.py')}
2025-07-16 21:56:05,006 uvicorn.error WARNING WatchFiles detected changes in 'schema\file.py'. Reloading...
2025-07-16 21:56:05,052 uvicorn.error INFO Shutting down
2025-07-16 21:56:05,163 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 21:56:05,165 uvicorn.error INFO Application shutdown complete.
2025-07-16 21:56:05,167 uvicorn.error INFO Finished server process [3460]
2025-07-16 21:56:08,433 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 21:56:08,435 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 21:56:08,436 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:56:08,438 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 21:56:08,438 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:56:08,439 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 21:56:08,440 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:56:08,516 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 21:56:08,524 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:56:08,531 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 21:56:08,532 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:56:08,535 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 21:56:09,249 uvicorn.error INFO Started server process [26116]
2025-07-16 21:56:09,252 uvicorn.error INFO Waiting for application startup.
2025-07-16 21:56:09,254 uvicorn.error INFO Application startup complete.
2025-07-16 21:57:24,556 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\file.py')}
2025-07-16 21:57:24,556 uvicorn.error WARNING WatchFiles detected changes in 'schema\file.py'. Reloading...
2025-07-16 21:57:24,585 uvicorn.error INFO Shutting down
2025-07-16 21:57:24,694 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 21:57:24,696 uvicorn.error INFO Application shutdown complete.
2025-07-16 21:57:24,697 uvicorn.error INFO Finished server process [26116]
2025-07-16 21:57:27,980 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 21:57:27,980 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 21:57:27,981 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:57:27,982 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 21:57:27,982 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:57:27,983 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 21:57:27,984 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:57:27,984 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 21:57:27,985 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:57:27,985 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 21:57:27,986 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:57:27,987 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 21:57:28,662 uvicorn.error INFO Started server process [27856]
2025-07-16 21:57:28,664 uvicorn.error INFO Waiting for application startup.
2025-07-16 21:57:28,666 uvicorn.error INFO Application startup complete.
2025-07-16 21:57:55,462 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 21:57:55,462 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 21:57:55,525 uvicorn.error INFO Shutting down
2025-07-16 21:57:55,634 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 21:57:55,636 uvicorn.error INFO Application shutdown complete.
2025-07-16 21:57:55,637 uvicorn.error INFO Finished server process [27856]
2025-07-16 21:57:58,995 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 21:57:58,996 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 21:57:58,996 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:57:58,998 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 21:57:58,999 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:57:59,000 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 21:57:59,000 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:57:59,001 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 21:57:59,002 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:57:59,002 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 21:57:59,003 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 21:57:59,003 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 21:57:59,706 uvicorn.error INFO Started server process [23812]
2025-07-16 21:57:59,709 uvicorn.error INFO Waiting for application startup.
2025-07-16 21:57:59,710 uvicorn.error INFO Application startup complete.
2025-07-16 22:11:27,663 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 22:11:27,663 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 22:11:27,741 uvicorn.error INFO Shutting down
2025-07-16 22:11:27,848 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:11:27,849 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:11:27,851 uvicorn.error INFO Finished server process [23812]
2025-07-16 22:11:31,605 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:11:31,606 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:11:31,608 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:11:31,609 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:11:31,610 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:11:31,610 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:11:31,611 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:11:31,611 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:11:31,611 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:11:31,613 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:11:31,613 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:11:31,614 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:11:32,295 uvicorn.error INFO Started server process [31576]
2025-07-16 22:11:32,297 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:11:32,299 uvicorn.error INFO Application startup complete.
2025-07-16 22:16:43,200 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 22:16:43,201 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 22:16:43,219 uvicorn.error INFO Shutting down
2025-07-16 22:16:43,329 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:16:43,331 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:16:43,332 uvicorn.error INFO Finished server process [31576]
2025-07-16 22:16:46,782 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:16:46,783 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:16:46,784 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:16:46,785 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:16:46,786 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:16:46,787 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:16:46,787 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:16:46,788 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:16:46,789 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:16:46,790 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:16:46,790 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:16:46,791 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:16:47,501 uvicorn.error INFO Started server process [25580]
2025-07-16 22:16:47,503 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:16:47,505 uvicorn.error INFO Application startup complete.
2025-07-16 22:20:06,799 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 22:20:06,799 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 22:20:06,813 uvicorn.error INFO Shutting down
2025-07-16 22:20:06,922 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:20:06,925 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:20:06,926 uvicorn.error INFO Finished server process [25580]
2025-07-16 22:20:10,145 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:20:10,146 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:20:10,146 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:20:10,148 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:20:10,148 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:20:10,149 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:20:10,149 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:20:10,149 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:20:10,150 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:20:10,150 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:20:10,151 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:20:10,151 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:20:10,829 uvicorn.error INFO Started server process [5292]
2025-07-16 22:20:10,832 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:20:10,833 uvicorn.error INFO Application startup complete.
2025-07-16 22:24:42,891 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 22:24:42,891 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 22:24:42,898 uvicorn.error INFO Shutting down
2025-07-16 22:24:43,009 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:24:43,010 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:24:43,012 uvicorn.error INFO Finished server process [5292]
2025-07-16 22:24:46,318 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:24:46,319 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:24:46,319 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:24:46,321 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:24:46,321 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:24:46,322 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:24:46,322 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:24:46,323 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:24:46,324 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:24:46,324 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:24:46,325 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:24:46,326 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:24:46,988 uvicorn.error INFO Started server process [13484]
2025-07-16 22:24:46,989 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:24:46,991 uvicorn.error INFO Application startup complete.
2025-07-16 22:25:05,407 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 22:25:05,407 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 22:25:05,468 uvicorn.error INFO Shutting down
2025-07-16 22:25:05,577 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:25:05,579 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:25:05,581 uvicorn.error INFO Finished server process [13484]
2025-07-16 22:25:08,829 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:25:08,830 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:25:08,830 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:25:08,831 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:25:08,832 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:25:08,833 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:25:08,833 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:25:08,833 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:25:08,834 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:25:08,834 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:25:08,835 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:25:08,835 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:25:09,458 uvicorn.error INFO Started server process [17068]
2025-07-16 22:25:09,460 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:25:09,462 uvicorn.error INFO Application startup complete.
2025-07-16 22:27:41,919 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 22:27:41,919 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 22:27:41,959 uvicorn.error INFO Shutting down
2025-07-16 22:27:42,066 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:27:42,069 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:27:42,070 uvicorn.error INFO Finished server process [17068]
2025-07-16 22:27:45,291 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:27:45,291 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:27:45,292 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:27:45,293 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:27:45,294 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:27:45,295 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:27:45,295 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:27:45,295 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:27:45,296 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:27:45,296 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:27:45,296 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:27:45,299 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:27:45,986 uvicorn.error INFO Started server process [32004]
2025-07-16 22:27:45,988 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:27:45,990 uvicorn.error INFO Application startup complete.
2025-07-16 22:28:43,312 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 22:28:43,313 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 22:28:43,424 uvicorn.error INFO Shutting down
2025-07-16 22:28:43,533 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:28:43,533 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:28:43,536 uvicorn.error INFO Finished server process [32004]
2025-07-16 22:28:46,850 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:28:46,851 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:28:46,852 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:28:46,853 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:28:46,854 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:28:46,855 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:28:46,855 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:28:46,856 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:28:46,856 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:28:46,857 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:28:46,857 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:28:46,858 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:28:47,521 uvicorn.error INFO Started server process [30384]
2025-07-16 22:28:47,523 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:28:47,525 uvicorn.error INFO Application startup complete.
2025-07-16 22:29:06,889 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 22:29:06,890 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 22:29:06,984 uvicorn.error INFO Shutting down
2025-07-16 22:29:07,095 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:29:07,096 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:29:07,099 uvicorn.error INFO Finished server process [30384]
2025-07-16 22:29:10,370 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:29:10,370 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:29:10,371 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:29:10,372 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:29:10,372 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:29:10,373 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:29:10,373 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:29:10,374 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:29:10,374 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:29:10,375 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:29:10,375 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:29:10,376 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:29:11,024 uvicorn.error INFO Started server process [26616]
2025-07-16 22:29:11,027 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:29:11,028 uvicorn.error INFO Application startup complete.
2025-07-16 22:29:39,465 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\file.py')}
2025-07-16 22:29:39,466 uvicorn.error WARNING WatchFiles detected changes in 'schema\file.py'. Reloading...
2025-07-16 22:29:39,568 uvicorn.error INFO Shutting down
2025-07-16 22:29:39,677 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:29:39,679 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:29:39,681 uvicorn.error INFO Finished server process [26616]
2025-07-16 22:29:43,037 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:29:43,038 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:29:43,038 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:29:43,040 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:29:43,040 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:29:43,041 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:29:43,042 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:29:43,043 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:29:43,044 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:29:43,044 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:29:43,045 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:29:43,046 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:29:43,713 uvicorn.error INFO Started server process [13900]
2025-07-16 22:29:43,715 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:29:43,718 uvicorn.error INFO Application startup complete.
2025-07-16 22:33:18,314 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 22:33:18,314 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 22:33:18,333 uvicorn.error INFO Shutting down
2025-07-16 22:33:18,441 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:33:18,442 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:33:18,444 uvicorn.error INFO Finished server process [13900]
2025-07-16 22:33:21,760 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:33:21,761 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:33:21,762 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:33:21,763 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:33:21,763 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:33:21,764 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:33:21,764 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:33:21,765 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:33:21,765 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:33:21,766 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:33:21,766 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:33:21,767 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:33:22,504 uvicorn.error INFO Started server process [22676]
2025-07-16 22:33:22,506 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:33:22,509 uvicorn.error INFO Application startup complete.
2025-07-16 22:33:42,255 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 22:33:42,255 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 22:33:42,301 uvicorn.error INFO Shutting down
2025-07-16 22:33:42,408 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:33:42,410 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:33:42,411 uvicorn.error INFO Finished server process [22676]
2025-07-16 22:33:45,668 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:33:45,669 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:33:45,670 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:33:45,671 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:33:45,671 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:33:45,672 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:33:45,673 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:33:45,673 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:33:45,674 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:33:45,675 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:33:45,675 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:33:45,677 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:33:46,321 uvicorn.error INFO Started server process [8216]
2025-07-16 22:33:46,323 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:33:46,325 uvicorn.error INFO Application startup complete.
2025-07-16 22:35:38,127 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 22:35:38,128 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 22:35:38,156 uvicorn.error INFO Shutting down
2025-07-16 22:35:38,267 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:35:38,269 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:35:38,271 uvicorn.error INFO Finished server process [8216]
2025-07-16 22:35:41,811 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:35:41,813 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:35:41,813 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:35:41,815 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:35:41,815 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:35:41,817 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:35:41,817 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:35:41,818 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:35:41,818 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:35:41,820 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:35:41,820 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:35:41,821 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:35:42,505 uvicorn.error INFO Started server process [24720]
2025-07-16 22:35:42,507 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:35:42,509 uvicorn.error INFO Application startup complete.
2025-07-16 22:36:11,644 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\main.py')}
2025-07-16 22:36:11,644 uvicorn.error WARNING WatchFiles detected changes in 'main.py'. Reloading...
2025-07-16 22:36:11,668 uvicorn.error INFO Shutting down
2025-07-16 22:36:11,776 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:36:11,779 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:36:11,780 uvicorn.error INFO Finished server process [24720]
2025-07-16 22:36:13,010 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__\\main.cpython-312.pyc.2313258703024'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__\\main.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__\\main.cpython-312.pyc.2313258703024'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__\\main.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\__pycache__')}
2025-07-16 22:36:15,131 watchfiles.main DEBUG 8 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\file.cpython-312.pyc.2313312851632'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\file.cpython-312.pyc.2313312851632'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2313312851488'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\file.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2313312851488')}
2025-07-16 22:36:57,820 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-16 22:36:57,821 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-16 22:37:00,909 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:37:00,910 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:37:00,910 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:37:00,913 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:37:00,913 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:37:00,914 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:37:00,915 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:37:00,916 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:37:00,916 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:37:00,917 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:37:00,917 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:37:00,918 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:37:00,997 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.1539808728608'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.1539808728608'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc')}
2025-07-16 22:37:01,622 uvicorn.error INFO Started server process [30836]
2025-07-16 22:37:01,624 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:37:01,625 uvicorn.error INFO Application startup complete.
2025-07-16 22:37:43,203 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-16 22:37:43,205 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-16 22:37:43,205 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-16 22:37:43,205 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:37:43,205 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-16 22:37:43,205 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-16 22:37:43,206 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:37:43,206 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-16 22:37:43,206 python_multipart.multipart DEBUG Calling on_part_data with data[158:98304]
2025-07-16 22:37:43,207 python_multipart.multipart DEBUG Calling on_part_data with data[0:123159]
2025-07-16 22:37:43,207 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-16 22:37:43,207 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-16 22:37:43,256 root ERROR Error getting db session : When initializing mapper Mapper[File(file)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.models.File'> class after both dependent classes have been defined.
2025-07-16 22:37:43,259 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 42, in upload_file
    file_data = db.query(models.File).filter(models.File.md5 == file_hash).first()
                ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1661, in do_init
    self._generate_backref()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2145, in _generate_backref
    self._add_reverse_property(self.back_populates)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1613, in _add_reverse_property
    other._setup_entity()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1866, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[File(file)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.models.File'> class after both dependent classes have been defined.
2025-07-16 22:38:57,888 uvicorn.error INFO Shutting down
2025-07-16 22:38:57,996 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:38:57,998 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:38:58,000 uvicorn.error INFO Finished server process [30836]
2025-07-16 22:39:04,405 uvicorn.error INFO Stopping reloader process [30552]
2025-07-16 22:39:11,981 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:39:11,982 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:39:11,982 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:39:11,984 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:39:11,984 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:39:11,984 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:39:11,985 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:39:11,985 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:39:11,985 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:39:11,987 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:39:11,987 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:39:11,988 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:39:12,611 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-16 22:39:12,615 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-16 22:39:12,618 uvicorn.error INFO Started reloader process [6108] using WatchFiles
2025-07-16 22:39:15,716 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:39:15,716 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:39:15,718 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:39:15,719 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:39:15,720 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:39:15,721 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:39:15,721 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:39:15,724 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:39:15,725 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:39:15,728 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:39:15,729 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:39:15,730 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:39:16,385 uvicorn.error INFO Started server process [31608]
2025-07-16 22:39:16,388 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:39:16,389 uvicorn.error INFO Application startup complete.
2025-07-16 22:39:18,310 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-16 22:39:18,310 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-16 22:39:18,310 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-16 22:39:18,310 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:39:18,311 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-16 22:39:18,311 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-16 22:39:18,311 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:39:18,311 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-16 22:39:18,311 python_multipart.multipart DEBUG Calling on_part_data with data[158:16384]
2025-07-16 22:39:18,312 python_multipart.multipart DEBUG Calling on_part_data with data[0:205079]
2025-07-16 22:39:18,312 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-16 22:39:18,312 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-16 22:39:18,327 root ERROR Error getting db session : When initializing mapper Mapper[File(file)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.models.File'> class after both dependent classes have been defined.
2025-07-16 22:39:18,331 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 42, in upload_file
    file_data = db.query(models.File).filter(models.File.md5 == file_hash).first()
                ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1661, in do_init
    self._generate_backref()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2145, in _generate_backref
    self._add_reverse_property(self.back_populates)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1613, in _add_reverse_property
    other._setup_entity()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1866, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[File(file)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.models.File'> class after both dependent classes have been defined.
2025-07-16 22:40:31,170 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 22:40:31,173 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 22:40:31,191 uvicorn.error INFO Shutting down
2025-07-16 22:40:31,301 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:40:31,303 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:40:31,304 uvicorn.error INFO Finished server process [31608]
2025-07-16 22:40:33,370 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1691146148656'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1691146148656'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc')}
2025-07-16 22:40:34,712 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:40:34,714 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:40:34,714 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:40:34,716 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:40:34,716 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:40:34,717 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:40:34,717 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:40:34,718 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:40:34,719 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:40:34,720 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:40:34,721 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:40:34,722 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:40:35,401 uvicorn.error INFO Started server process [23768]
2025-07-16 22:40:35,404 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:40:35,406 uvicorn.error INFO Application startup complete.
2025-07-16 22:41:04,665 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-16 22:41:04,666 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-16 22:41:04,666 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-16 22:41:04,666 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:41:04,666 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-16 22:41:04,666 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-16 22:41:04,666 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:41:04,666 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-16 22:41:04,666 python_multipart.multipart DEBUG Calling on_part_data with data[158:65535]
2025-07-16 22:41:04,668 python_multipart.multipart DEBUG Calling on_part_data with data[0:1]
2025-07-16 22:41:04,668 python_multipart.multipart DEBUG Calling on_part_data with data[0:155927]
2025-07-16 22:41:04,668 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-16 22:41:04,668 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-16 22:41:04,683 root ERROR Error getting db session : When initializing mapper Mapper[File(file)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.models.File'> class after both dependent classes have been defined.
2025-07-16 22:41:04,685 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 42, in upload_file
    file_data = db.query(models.File).filter(models.File.md5 == file_hash).first()
                ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1661, in do_init
    self._generate_backref()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2145, in _generate_backref
    self._add_reverse_property(self.back_populates)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1613, in _add_reverse_property
    other._setup_entity()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1866, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[File(file)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.models.File'> class after both dependent classes have been defined.
2025-07-16 22:41:09,368 uvicorn.error INFO Shutting down
2025-07-16 22:41:09,478 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:41:09,480 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:41:09,482 uvicorn.error INFO Finished server process [23768]
2025-07-16 22:41:09,732 uvicorn.error INFO Stopping reloader process [6108]
2025-07-16 22:41:21,919 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:41:21,919 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:41:21,920 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:21,922 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("user")
2025-07-16 22:41:21,922 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:21,923 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:41:21,923 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:21,925 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("session")
2025-07-16 22:41:21,926 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:21,927 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:41:21,929 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:21,930 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("chat_history")
2025-07-16 22:41:21,931 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:21,932 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:41:21,932 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:21,933 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("file")
2025-07-16 22:41:21,933 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:21,933 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:41:21,935 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:21,936 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("citation")
2025-07-16 22:41:21,936 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:21,938 sqlalchemy.engine.Engine INFO 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	email VARCHAR, 
	PRIMARY KEY (id)
)


2025-07-16 22:41:21,938 sqlalchemy.engine.Engine INFO [no key 0.00080s] ()
2025-07-16 22:41:21,956 sqlalchemy.engine.Engine INFO CREATE UNIQUE INDEX ix_user_email ON user (email)
2025-07-16 22:41:21,958 sqlalchemy.engine.Engine INFO [no key 0.00247s] ()
2025-07-16 22:41:21,971 sqlalchemy.engine.Engine INFO CREATE INDEX ix_user_id ON user (id)
2025-07-16 22:41:21,971 sqlalchemy.engine.Engine INFO [no key 0.00053s] ()
2025-07-16 22:41:21,982 sqlalchemy.engine.Engine INFO 
CREATE TABLE citation (
	id INTEGER NOT NULL, 
	citation VARCHAR, 
	file_name VARCHAR, 
	file_id INTEGER, 
	chat_id INTEGER, 
	PRIMARY KEY (id)
)


2025-07-16 22:41:21,983 sqlalchemy.engine.Engine INFO [no key 0.00089s] ()
2025-07-16 22:41:21,993 sqlalchemy.engine.Engine INFO CREATE INDEX ix_citation_id ON citation (id)
2025-07-16 22:41:21,994 sqlalchemy.engine.Engine INFO [no key 0.00060s] ()
2025-07-16 22:41:22,005 sqlalchemy.engine.Engine INFO 
CREATE TABLE session (
	id INTEGER NOT NULL, 
	session_name VARCHAR, 
	session_type VARCHAR, 
	model_name VARCHAR, 
	temperature FLOAT, 
	file_id VARCHAR, 
	user_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-16 22:41:22,006 sqlalchemy.engine.Engine INFO [no key 0.00083s] ()
2025-07-16 22:41:22,018 sqlalchemy.engine.Engine INFO CREATE INDEX ix_session_id ON session (id)
2025-07-16 22:41:22,019 sqlalchemy.engine.Engine INFO [no key 0.00064s] ()
2025-07-16 22:41:22,030 sqlalchemy.engine.Engine INFO 
CREATE TABLE file (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	md5 VARCHAR, 
	file_name VARCHAR, 
	file_type VARCHAR, 
	file_path VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-16 22:41:22,031 sqlalchemy.engine.Engine INFO [no key 0.00073s] ()
2025-07-16 22:41:22,042 sqlalchemy.engine.Engine INFO CREATE INDEX ix_file_id ON file (id)
2025-07-16 22:41:22,042 sqlalchemy.engine.Engine INFO [no key 0.00078s] ()
2025-07-16 22:41:22,053 sqlalchemy.engine.Engine INFO 
CREATE TABLE chat_history (
	id INTEGER NOT NULL, 
	message VARCHAR, 
	message_type VARCHAR, 
	session_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(session_id) REFERENCES session (id)
)


2025-07-16 22:41:22,055 sqlalchemy.engine.Engine INFO [no key 0.00071s] ()
2025-07-16 22:41:22,065 sqlalchemy.engine.Engine INFO CREATE INDEX ix_chat_history_id ON chat_history (id)
2025-07-16 22:41:22,065 sqlalchemy.engine.Engine INFO [no key 0.00050s] ()
2025-07-16 22:41:22,076 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:41:22,765 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-16 22:41:22,768 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-16 22:41:22,770 uvicorn.error INFO Started reloader process [1884] using WatchFiles
2025-07-16 22:41:25,886 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:41:25,886 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:41:25,887 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:25,888 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:41:25,889 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:25,889 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:41:25,890 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:25,890 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:41:25,891 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:25,891 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:41:25,892 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:41:25,893 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:41:26,545 uvicorn.error INFO Started server process [29744]
2025-07-16 22:41:26,547 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:41:26,550 uvicorn.error INFO Application startup complete.
2025-07-16 22:41:36,173 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-16 22:41:36,174 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-16 22:41:36,174 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-16 22:41:36,174 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:41:36,174 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-16 22:41:36,174 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-16 22:41:36,174 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:41:36,174 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-16 22:41:36,175 python_multipart.multipart DEBUG Calling on_part_data with data[158:114688]
2025-07-16 22:41:36,175 python_multipart.multipart DEBUG Calling on_part_data with data[0:106775]
2025-07-16 22:41:36,175 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-16 22:41:36,175 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-16 22:41:36,192 root ERROR Error getting db session : When initializing mapper Mapper[File(file)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.models.File'> class after both dependent classes have been defined.
2025-07-16 22:41:36,194 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 42, in upload_file
    file_data = db.query(models.File).filter(models.File.md5 == file_hash).first()
                ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1661, in do_init
    self._generate_backref()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2145, in _generate_backref
    self._add_reverse_property(self.back_populates)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1613, in _add_reverse_property
    other._setup_entity()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1866, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[File(file)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'models.models.File'> class after both dependent classes have been defined.
2025-07-16 22:42:38,898 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 22:42:38,900 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 22:42:38,959 uvicorn.error INFO Shutting down
2025-07-16 22:42:39,053 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:42:39,054 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:42:39,057 uvicorn.error INFO Finished server process [29744]
2025-07-16 22:42:41,127 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2503687953200'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2503687953200')}
2025-07-16 22:42:42,474 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:42:42,475 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:42:42,475 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:42:42,477 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:42:42,477 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:42:42,478 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:42:42,478 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:42:42,479 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:42:42,480 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:42:42,481 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:42:42,481 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:42:42,483 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:42:43,242 uvicorn.error INFO Started server process [3632]
2025-07-16 22:42:43,245 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:42:43,246 uvicorn.error INFO Application startup complete.
2025-07-16 22:50:07,266 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 22:50:07,266 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 22:50:07,311 uvicorn.error INFO Shutting down
2025-07-16 22:50:07,420 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:50:07,422 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:50:07,422 uvicorn.error INFO Finished server process [3632]
2025-07-16 22:50:08,441 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2476840999728'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2476840999728')}
2025-07-16 22:50:09,059 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:50:09,060 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:50:09,060 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:50:09,061 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:50:09,061 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:50:09,061 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:50:09,062 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:50:09,062 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:50:09,063 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:50:09,063 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:50:09,063 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:50:09,064 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:50:09,358 uvicorn.error INFO Started server process [9568]
2025-07-16 22:50:09,360 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:50:09,361 uvicorn.error INFO Application startup complete.
2025-07-16 22:51:00,868 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 22:51:00,868 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 22:51:00,906 uvicorn.error INFO Shutting down
2025-07-16 22:51:01,016 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:51:01,017 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:51:01,017 uvicorn.error INFO Finished server process [9568]
2025-07-16 22:51:02,102 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2369538710320'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2369538710320')}
2025-07-16 22:51:02,763 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:51:02,763 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:51:02,764 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:51:02,765 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:51:02,765 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:51:02,765 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:51:02,765 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:51:02,766 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:51:02,766 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:51:02,766 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:51:02,766 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:51:02,767 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:51:03,078 uvicorn.error INFO Started server process [4508]
2025-07-16 22:51:03,080 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:51:03,081 uvicorn.error INFO Application startup complete.
2025-07-16 22:51:14,846 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-16 22:51:14,847 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-16 22:51:14,847 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-16 22:51:14,847 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:51:14,847 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-16 22:51:14,847 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-16 22:51:14,847 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:51:14,847 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-16 22:51:14,847 python_multipart.multipart DEBUG Calling on_part_data with data[158:147456]
2025-07-16 22:51:14,848 python_multipart.multipart DEBUG Calling on_part_data with data[0:74007]
2025-07-16 22:51:14,848 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-16 22:51:14,848 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-16 22:51:14,859 root ERROR Error getting db session : Could not determine join condition between parent/child tables on relationship ChatHistory.citation - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-16 22:51:14,861 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2435, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\selectable.py", line 1444, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'chat_history' and 'citation'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 42, in upload_file
    file_data = db.query(models.File).filter(models.File.md5 == file_hash).first()
                ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1658, in do_init
    self._setup_join_conditions()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1896, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2322, in __init__
    self._determine_joins()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2456, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship ChatHistory.citation - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-16 22:52:10,577 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 22:52:10,577 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 22:52:10,627 uvicorn.error INFO Shutting down
2025-07-16 22:52:10,737 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:52:10,738 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:52:10,740 uvicorn.error INFO Finished server process [4508]
2025-07-16 22:52:11,873 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1947135007536'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.1947135007536'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc')}
2025-07-16 22:52:12,497 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:52:12,497 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:52:12,498 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:52:12,498 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:52:12,498 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:52:12,500 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:52:12,500 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:52:12,500 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:52:12,500 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:52:12,501 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:52:12,501 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:52:12,502 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:52:12,795 uvicorn.error INFO Started server process [18680]
2025-07-16 22:52:12,796 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:52:12,798 uvicorn.error INFO Application startup complete.
2025-07-16 22:52:13,555 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-16 22:52:13,556 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-16 22:52:13,556 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-16 22:52:13,556 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:52:13,556 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-16 22:52:13,556 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-16 22:52:13,556 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:52:13,556 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-16 22:52:13,556 python_multipart.multipart DEBUG Calling on_part_data with data[158:81920]
2025-07-16 22:52:13,556 python_multipart.multipart DEBUG Calling on_part_data with data[0:139543]
2025-07-16 22:52:13,556 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-16 22:52:13,556 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-16 22:52:13,569 root ERROR Error getting db session : Could not determine join condition between parent/child tables on relationship ChatHistory.citation - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-16 22:52:13,570 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2435, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\selectable.py", line 1444, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'chat_history' and 'citation'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 42, in upload_file
    file_data = db.query(models.File).filter(models.File.md5 == file_hash).first()
                ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1658, in do_init
    self._setup_join_conditions()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1896, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2322, in __init__
    self._determine_joins()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2456, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship ChatHistory.citation - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-16 22:52:55,259 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-16 22:52:55,259 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-16 22:52:55,350 uvicorn.error INFO Shutting down
2025-07-16 22:52:55,460 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 22:52:55,462 uvicorn.error INFO Application shutdown complete.
2025-07-16 22:52:55,464 uvicorn.error INFO Finished server process [18680]
2025-07-16 22:52:56,478 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2226580773680'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2226580773680'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc')}
2025-07-16 22:52:57,085 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:52:57,086 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 22:52:57,086 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:52:57,087 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 22:52:57,087 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:52:57,088 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 22:52:57,088 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:52:57,088 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 22:52:57,088 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:52:57,089 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 22:52:57,089 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 22:52:57,089 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 22:52:57,390 uvicorn.error INFO Started server process [31180]
2025-07-16 22:52:57,391 uvicorn.error INFO Waiting for application startup.
2025-07-16 22:52:57,392 uvicorn.error INFO Application startup complete.
2025-07-16 22:53:00,948 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-16 22:53:00,948 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-16 22:53:00,948 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-16 22:53:00,948 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:53:00,948 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-16 22:53:00,948 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-16 22:53:00,948 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 22:53:00,948 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-16 22:53:00,948 python_multipart.multipart DEBUG Calling on_part_data with data[158:180224]
2025-07-16 22:53:00,949 python_multipart.multipart DEBUG Calling on_part_data with data[0:41239]
2025-07-16 22:53:00,949 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-16 22:53:00,949 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-16 22:53:00,966 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 22:53:00,969 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-16 22:53:00,969 sqlalchemy.engine.Engine INFO [generated in 0.00050s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-16 22:53:00,970 root ERROR Error getting db session : [Errno 2] No such file or directory: '/user_files\\RahulSharmaResume (1).pdf'
2025-07-16 22:53:00,971 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 22:53:00,973 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 47, in upload_file
    with open(file_path, "wb") as out_file:
         ^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/user_files\\RahulSharmaResume (1).pdf'
2025-07-16 22:53:12,954 watchfiles.main DEBUG 1 change detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\user_files')}
2025-07-16 22:53:21,013 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\user_files')}
2025-07-16 23:15:13,360 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\config_vars.py')}
2025-07-16 23:15:13,360 uvicorn.error WARNING WatchFiles detected changes in 'utils\config_vars.py'. Reloading...
2025-07-16 23:15:13,456 uvicorn.error INFO Shutting down
2025-07-16 23:15:13,563 uvicorn.error INFO Waiting for application shutdown.
2025-07-16 23:15:13,564 uvicorn.error INFO Application shutdown complete.
2025-07-16 23:15:13,565 uvicorn.error INFO Finished server process [31180]
2025-07-16 23:15:17,506 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc.2449966062096'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\utils\\__pycache__\\config_vars.cpython-312.pyc.2449966062096')}
2025-07-16 23:15:19,565 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:15:19,566 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-16 23:15:19,566 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 23:15:19,567 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-16 23:15:19,567 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 23:15:19,568 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-16 23:15:19,568 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 23:15:19,568 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-16 23:15:19,568 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 23:15:19,569 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-16 23:15:19,569 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-16 23:15:19,570 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 23:15:19,873 uvicorn.error INFO Started server process [26236]
2025-07-16 23:15:19,874 uvicorn.error INFO Waiting for application startup.
2025-07-16 23:15:19,875 uvicorn.error INFO Application startup complete.
2025-07-16 23:15:20,297 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-16 23:15:20,298 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-16 23:15:20,298 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-16 23:15:20,298 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 23:15:20,298 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-16 23:15:20,298 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-16 23:15:20,298 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 23:15:20,298 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-16 23:15:20,298 python_multipart.multipart DEBUG Calling on_part_data with data[158:98304]
2025-07-16 23:15:20,299 python_multipart.multipart DEBUG Calling on_part_data with data[0:123159]
2025-07-16 23:15:20,299 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-16 23:15:20,299 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-16 23:15:20,321 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:15:20,325 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-16 23:15:20,325 sqlalchemy.engine.Engine INFO [generated in 0.00054s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-16 23:15:20,339 sqlalchemy.engine.Engine INFO INSERT INTO file (user_id, md5, file_name, file_type, file_path) VALUES (?, ?, ?, ?, ?)
2025-07-16 23:15:20,339 sqlalchemy.engine.Engine INFO [generated in 0.00033s] (1, '8f41101129fcdc1e72d0c7d8fc4a3970', 'RahulSharmaResume (1).pdf', 'pdf', 'user_files\\RahulSharmaResume (1).pdf')
2025-07-16 23:15:20,340 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 23:15:20,385 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:15:20,387 sqlalchemy.engine.Engine INFO SELECT file.id, file.user_id, file.md5, file.file_name, file.file_type, file.file_path 
FROM file 
WHERE file.id = ?
2025-07-16 23:15:20,387 sqlalchemy.engine.Engine INFO [generated in 0.00033s] (1,)
2025-07-16 23:15:20,388 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:15:20,474 watchfiles.main DEBUG 4 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\user_files\\RahulSharmaResume (1).pdf'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-16 23:15:28,892 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\user_files')}
2025-07-16 23:16:05,012 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:16:05,013 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path 
FROM file 
WHERE file.user_id = ?
2025-07-16 23:16:05,014 sqlalchemy.engine.Engine INFO [generated in 0.00051s] (1,)
2025-07-16 23:16:05,015 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:16:13,978 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-16 23:16:13,978 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-16 23:16:13,978 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-16 23:16:13,978 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 23:16:13,978 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-16 23:16:13,978 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-16 23:16:13,978 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 23:16:13,978 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-16 23:16:13,979 python_multipart.multipart DEBUG Calling on_part_data with data[158:81920]
2025-07-16 23:16:13,979 python_multipart.multipart DEBUG Calling on_part_data with data[0:139543]
2025-07-16 23:16:13,979 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-16 23:16:13,979 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-16 23:16:13,981 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:16:13,981 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-16 23:16:13,981 sqlalchemy.engine.Engine INFO [cached since 53.66s ago] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-16 23:16:13,982 root ERROR Error getting db session : 400: File alredy present
2025-07-16 23:16:13,982 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:24:16,418 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:24:16,420 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-16 23:24:16,420 sqlalchemy.engine.Engine INFO [generated in 0.00053s] (1,)
2025-07-16 23:24:16,422 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:24:42,506 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:24:42,507 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-16 23:24:42,507 sqlalchemy.engine.Engine INFO [cached since 26.09s ago] (1,)
2025-07-16 23:24:42,508 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:24:42,516 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:24:42,516 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-16 23:24:42,518 sqlalchemy.engine.Engine INFO [cached since 26.1s ago] (1,)
2025-07-16 23:24:42,519 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:24:45,600 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:24:45,600 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path 
FROM file 
WHERE file.user_id = ?
2025-07-16 23:24:45,601 sqlalchemy.engine.Engine INFO [cached since 520.6s ago] (1,)
2025-07-16 23:24:45,602 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:24:45,605 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:24:45,606 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path 
FROM file 
WHERE file.user_id = ?
2025-07-16 23:24:45,606 sqlalchemy.engine.Engine INFO [cached since 520.6s ago] (1,)
2025-07-16 23:24:45,608 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:25:57,823 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:25:57,827 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-16 23:25:57,828 sqlalchemy.engine.Engine INFO [cached since 101.4s ago] (1,)
2025-07-16 23:25:57,832 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:25:57,843 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:25:57,845 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-16 23:25:57,845 sqlalchemy.engine.Engine INFO [cached since 101.4s ago] (1,)
2025-07-16 23:25:57,849 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:25:58,413 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:25:58,415 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-16 23:25:58,417 sqlalchemy.engine.Engine INFO [cached since 102s ago] (1,)
2025-07-16 23:25:58,419 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:25:58,439 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:25:58,442 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-16 23:25:58,452 sqlalchemy.engine.Engine INFO [cached since 102s ago] (1,)
2025-07-16 23:25:58,455 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:26:01,094 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:26:01,095 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path 
FROM file 
WHERE file.user_id = ?
2025-07-16 23:26:01,096 sqlalchemy.engine.Engine INFO [cached since 596.1s ago] (1,)
2025-07-16 23:26:01,096 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:26:01,101 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:26:01,102 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path 
FROM file 
WHERE file.user_id = ?
2025-07-16 23:26:01,103 sqlalchemy.engine.Engine INFO [cached since 596.1s ago] (1,)
2025-07-16 23:26:01,104 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:27:08,193 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-16 23:27:08,193 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-16 23:27:08,193 python_multipart.multipart DEBUG Calling on_header_value with data[63:109]
2025-07-16 23:27:08,193 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 23:27:08,193 python_multipart.multipart DEBUG Calling on_header_field with data[111:123]
2025-07-16 23:27:08,193 python_multipart.multipart DEBUG Calling on_header_value with data[125:196]
2025-07-16 23:27:08,193 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-16 23:27:08,193 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-16 23:27:08,193 python_multipart.multipart DEBUG Calling on_part_data with data[200:16384]
2025-07-16 23:27:08,195 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,202 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,205 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,210 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,215 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,215 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,219 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,224 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,229 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,233 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,233 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,234 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,234 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,235 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,235 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,238 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,239 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,239 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,240 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,241 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,241 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,241 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,242 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,242 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,242 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,243 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,243 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,243 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,243 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,243 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,243 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,244 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,245 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,245 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,248 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,248 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,248 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,249 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,249 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,249 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,250 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,250 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,250 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,250 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,251 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,251 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,251 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,252 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,252 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,252 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,253 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,254 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,254 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,254 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,254 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,254 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,255 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,255 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,255 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,256 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,256 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,256 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,257 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,257 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,259 python_multipart.multipart DEBUG Calling on_part_data with data[0:131072]
2025-07-16 23:27:08,260 python_multipart.multipart DEBUG Calling on_part_data with data[0:49152]
2025-07-16 23:27:08,261 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,261 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,262 python_multipart.multipart DEBUG Calling on_part_data with data[0:49152]
2025-07-16 23:27:08,262 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,263 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,263 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,263 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,264 python_multipart.multipart DEBUG Calling on_part_data with data[0:32768]
2025-07-16 23:27:08,265 python_multipart.multipart DEBUG Calling on_part_data with data[0:32768]
2025-07-16 23:27:08,265 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,266 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,266 python_multipart.multipart DEBUG Calling on_part_data with data[0:32768]
2025-07-16 23:27:08,266 python_multipart.multipart DEBUG Calling on_part_data with data[0:32768]
2025-07-16 23:27:08,266 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,266 python_multipart.multipart DEBUG Calling on_part_data with data[0:16384]
2025-07-16 23:27:08,268 python_multipart.multipart DEBUG Calling on_part_data with data[0:5844]
2025-07-16 23:27:08,268 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-16 23:27:08,268 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-16 23:27:08,311 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:27:08,311 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-16 23:27:08,312 sqlalchemy.engine.Engine INFO [cached since 708s ago] ('caa1add53389bb2b43b95c0311d6c4eb', 1, 0)
2025-07-16 23:27:08,374 sqlalchemy.engine.Engine INFO INSERT INTO file (user_id, md5, file_name, file_type, file_path) VALUES (?, ?, ?, ?, ?)
2025-07-16 23:27:08,375 sqlalchemy.engine.Engine INFO [cached since 708s ago] (1, 'caa1add53389bb2b43b95c0311d6c4eb', 'Resume.docx', 'docx', 'user_files\\Resume.docx')
2025-07-16 23:27:08,377 sqlalchemy.engine.Engine INFO COMMIT
2025-07-16 23:27:08,385 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:27:08,386 sqlalchemy.engine.Engine INFO SELECT file.id, file.user_id, file.md5, file.file_name, file.file_type, file.file_path 
FROM file 
WHERE file.id = ?
2025-07-16 23:27:08,386 sqlalchemy.engine.Engine INFO [cached since 708s ago] (2,)
2025-07-16 23:27:08,387 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:27:08,394 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-16 23:27:08,395 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path 
FROM file 
WHERE file.user_id = ?
2025-07-16 23:27:08,396 sqlalchemy.engine.Engine INFO [cached since 663.4s ago] (1,)
2025-07-16 23:27:08,398 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-16 23:27:08,486 watchfiles.main DEBUG 4 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\user_files\\Resume.docx')}
2025-07-17 00:04:24,014 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\file.py')}
2025-07-17 00:04:24,015 uvicorn.error WARNING WatchFiles detected changes in 'langchain\file.py'. Reloading...
2025-07-17 00:04:24,024 uvicorn.error INFO Shutting down
2025-07-17 00:04:24,134 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 00:04:24,136 uvicorn.error INFO Application shutdown complete.
2025-07-17 00:04:24,137 uvicorn.error INFO Finished server process [26236]
2025-07-17 00:04:26,039 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 00:04:26,039 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 00:04:26,040 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:04:26,041 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 00:04:26,041 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:04:26,042 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 00:04:26,042 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:04:26,043 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 00:04:26,043 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:04:26,043 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 00:04:26,044 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:04:26,045 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 00:04:26,368 uvicorn.error INFO Started server process [26324]
2025-07-17 00:04:26,369 uvicorn.error INFO Waiting for application startup.
2025-07-17 00:04:26,370 uvicorn.error INFO Application startup complete.
2025-07-17 00:09:16,052 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\file.py')}
2025-07-17 00:09:16,052 uvicorn.error WARNING WatchFiles detected changes in 'langchain\file.py'. Reloading...
2025-07-17 00:09:16,132 uvicorn.error INFO Shutting down
2025-07-17 00:09:16,241 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 00:09:16,242 uvicorn.error INFO Application shutdown complete.
2025-07-17 00:09:16,244 uvicorn.error INFO Finished server process [26324]
2025-07-17 00:09:18,372 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 00:09:18,372 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 00:09:18,372 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:09:18,373 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 00:09:18,373 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:09:18,374 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 00:09:18,374 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:09:18,375 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 00:09:18,375 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:09:18,375 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 00:09:18,376 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:09:18,376 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 00:09:18,693 uvicorn.error INFO Started server process [28228]
2025-07-17 00:09:18,695 uvicorn.error INFO Waiting for application startup.
2025-07-17 00:09:18,696 uvicorn.error INFO Application startup complete.
2025-07-17 00:16:13,591 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\chunking.py')}
2025-07-17 00:16:13,591 uvicorn.error WARNING WatchFiles detected changes in 'langchain\chunking.py'. Reloading...
2025-07-17 00:16:13,597 uvicorn.error INFO Shutting down
2025-07-17 00:16:13,705 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 00:16:13,706 uvicorn.error INFO Application shutdown complete.
2025-07-17 00:16:13,706 uvicorn.error INFO Finished server process [28228]
2025-07-17 00:16:14,288 watchfiles.main DEBUG 2 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\user_files'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain')}
2025-07-17 00:16:15,649 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 00:16:15,650 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 00:16:15,650 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:16:15,651 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 00:16:15,651 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:16:15,652 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 00:16:15,652 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:16:15,652 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 00:16:15,652 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:16:15,654 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 00:16:15,654 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:16:15,655 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 00:16:16,021 uvicorn.error INFO Started server process [1260]
2025-07-17 00:16:16,023 uvicorn.error INFO Waiting for application startup.
2025-07-17 00:16:16,024 uvicorn.error INFO Application startup complete.
2025-07-17 00:16:22,410 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\embeding.py')}
2025-07-17 00:16:22,411 uvicorn.error WARNING WatchFiles detected changes in 'langchain\embeding.py'. Reloading...
2025-07-17 00:16:22,467 uvicorn.error INFO Shutting down
2025-07-17 00:16:22,575 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 00:16:22,576 uvicorn.error INFO Application shutdown complete.
2025-07-17 00:16:22,576 uvicorn.error INFO Finished server process [1260]
2025-07-17 00:16:23,145 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain')}
2025-07-17 00:16:24,509 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 00:16:24,511 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 00:16:24,511 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:16:24,511 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 00:16:24,511 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:16:24,512 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 00:16:24,512 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:16:24,512 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 00:16:24,512 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:16:24,512 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 00:16:24,513 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:16:24,513 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 00:16:24,843 uvicorn.error INFO Started server process [19528]
2025-07-17 00:16:24,844 uvicorn.error INFO Waiting for application startup.
2025-07-17 00:16:24,845 uvicorn.error INFO Application startup complete.
2025-07-17 00:34:02,364 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\file.py')}
2025-07-17 00:34:02,365 uvicorn.error WARNING WatchFiles detected changes in 'langchain\file.py'. Reloading...
2025-07-17 00:34:02,432 uvicorn.error INFO Shutting down
2025-07-17 00:34:02,541 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 00:34:02,543 uvicorn.error INFO Application shutdown complete.
2025-07-17 00:34:02,543 uvicorn.error INFO Finished server process [19528]
2025-07-17 00:34:04,292 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 00:34:04,293 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 00:34:04,293 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:34:04,295 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 00:34:04,295 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:34:04,295 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 00:34:04,295 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:34:04,296 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 00:34:04,296 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:34:04,296 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 00:34:04,296 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:34:04,297 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 00:34:04,597 uvicorn.error INFO Started server process [9704]
2025-07-17 00:34:04,599 uvicorn.error INFO Waiting for application startup.
2025-07-17 00:34:04,600 uvicorn.error INFO Application startup complete.
2025-07-17 00:40:28,434 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 00:40:28,435 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 00:40:28,481 uvicorn.error INFO Shutting down
2025-07-17 00:40:28,589 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 00:40:28,591 uvicorn.error INFO Application shutdown complete.
2025-07-17 00:40:28,592 uvicorn.error INFO Finished server process [9704]
2025-07-17 00:40:30,371 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 00:40:30,371 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 00:40:30,371 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:40:30,373 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 00:40:30,373 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:40:30,373 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 00:40:30,373 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:40:30,374 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 00:40:30,374 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:40:30,374 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 00:40:30,374 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:40:30,375 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 00:40:30,434 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2930359031472'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2930359031472'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc')}
2025-07-17 00:40:30,726 uvicorn.error INFO Started server process [24496]
2025-07-17 00:40:30,728 uvicorn.error INFO Waiting for application startup.
2025-07-17 00:40:30,730 uvicorn.error INFO Application startup complete.
2025-07-17 00:45:30,455 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\orcastator.py')}
2025-07-17 00:45:30,455 uvicorn.error WARNING WatchFiles detected changes in 'langchain\orcastator.py'. Reloading...
2025-07-17 00:45:30,522 uvicorn.error INFO Shutting down
2025-07-17 00:45:30,631 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 00:45:30,633 uvicorn.error INFO Application shutdown complete.
2025-07-17 00:45:30,634 uvicorn.error INFO Finished server process [24496]
2025-07-17 00:45:31,213 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain')}
2025-07-17 00:45:32,603 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 00:45:32,604 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 00:45:32,604 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:45:32,605 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 00:45:32,605 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:45:32,607 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 00:45:32,607 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:45:32,608 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 00:45:32,608 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:45:32,608 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 00:45:32,608 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:45:32,609 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 00:45:32,932 uvicorn.error INFO Started server process [21380]
2025-07-17 00:45:32,933 uvicorn.error INFO Waiting for application startup.
2025-07-17 00:45:32,934 uvicorn.error INFO Application startup complete.
2025-07-17 00:45:56,300 watchfiles.main DEBUG 1 change detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\embeding.py')}
2025-07-17 00:45:56,300 uvicorn.error WARNING WatchFiles detected changes in 'langchain\embeding.py'. Reloading...
2025-07-17 00:45:56,357 uvicorn.error INFO Shutting down
2025-07-17 00:45:56,467 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 00:45:56,468 uvicorn.error INFO Application shutdown complete.
2025-07-17 00:45:56,470 uvicorn.error INFO Finished server process [21380]
2025-07-17 00:45:57,085 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\orcastator.py'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\chunking.py')}
2025-07-17 00:45:57,085 uvicorn.error WARNING WatchFiles detected changes in 'langchain\chunking.py', 'langchain\orcastator.py'. Reloading...
2025-07-17 00:45:59,046 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 00:45:59,047 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 00:45:59,047 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:45:59,048 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 00:45:59,048 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:45:59,048 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 00:45:59,048 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:45:59,049 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 00:45:59,049 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:45:59,049 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 00:45:59,049 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:45:59,051 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 00:45:59,372 uvicorn.error INFO Started server process [12516]
2025-07-17 00:45:59,374 uvicorn.error INFO Waiting for application startup.
2025-07-17 00:45:59,375 uvicorn.error INFO Application startup complete.
2025-07-17 00:46:09,333 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\langchain.py')}
2025-07-17 00:46:09,333 uvicorn.error WARNING WatchFiles detected changes in 'langchain\langchain.py'. Reloading...
2025-07-17 00:46:09,386 uvicorn.error INFO Shutting down
2025-07-17 00:46:09,495 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 00:46:09,496 uvicorn.error INFO Application shutdown complete.
2025-07-17 00:46:09,497 uvicorn.error INFO Finished server process [12516]
2025-07-17 00:46:10,066 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain')}
2025-07-17 00:46:11,715 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 00:46:11,716 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 00:46:11,716 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:46:11,718 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 00:46:11,718 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:46:11,719 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 00:46:11,719 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:46:11,720 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 00:46:11,720 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:46:11,722 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 00:46:11,722 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 00:46:11,723 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 00:46:12,046 uvicorn.error INFO Started server process [18684]
2025-07-17 00:46:12,047 uvicorn.error INFO Waiting for application startup.
2025-07-17 00:46:12,049 uvicorn.error INFO Application startup complete.
2025-07-17 08:31:04,970 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:31:04,978 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 08:31:04,978 sqlalchemy.engine.Engine INFO [generated in 0.00097s] (1,)
2025-07-17 08:31:04,984 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 08:31:04,993 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:31:04,993 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 08:31:04,994 sqlalchemy.engine.Engine INFO [cached since 0.01676s ago] (1,)
2025-07-17 08:31:04,996 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 08:31:05,002 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:31:05,002 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 08:31:05,003 sqlalchemy.engine.Engine INFO [cached since 0.02623s ago] (1,)
2025-07-17 08:31:05,005 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 08:31:05,011 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:31:05,012 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 08:31:05,012 sqlalchemy.engine.Engine INFO [cached since 0.03553s ago] (1,)
2025-07-17 08:31:05,015 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 08:37:41,630 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\langchain.py')}
2025-07-17 08:37:41,631 uvicorn.error WARNING WatchFiles detected changes in 'langchain\langchain.py'. Reloading...
2025-07-17 08:37:41,641 uvicorn.error INFO Shutting down
2025-07-17 08:37:41,750 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 08:37:41,751 uvicorn.error INFO Application shutdown complete.
2025-07-17 08:37:41,752 uvicorn.error INFO Finished server process [18684]
2025-07-17 08:37:43,920 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:37:43,921 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 08:37:43,921 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:37:43,922 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 08:37:43,923 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:37:43,924 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 08:37:43,924 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:37:43,925 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 08:37:43,925 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:37:43,926 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 08:37:43,926 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:37:43,927 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 08:37:44,290 uvicorn.error INFO Started server process [30060]
2025-07-17 08:37:44,292 uvicorn.error INFO Waiting for application startup.
2025-07-17 08:37:44,294 uvicorn.error INFO Application startup complete.
2025-07-17 08:37:52,205 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\langchain.py')}
2025-07-17 08:37:52,205 uvicorn.error WARNING WatchFiles detected changes in 'langchain\langchain.py'. Reloading...
2025-07-17 08:37:52,288 uvicorn.error INFO Shutting down
2025-07-17 08:37:52,399 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 08:37:52,401 uvicorn.error INFO Application shutdown complete.
2025-07-17 08:37:52,402 uvicorn.error INFO Finished server process [30060]
2025-07-17 08:37:54,694 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:37:54,696 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 08:37:54,697 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:37:54,698 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 08:37:54,699 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:37:54,700 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 08:37:54,701 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:37:54,702 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 08:37:54,705 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:37:54,706 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 08:37:54,708 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:37:54,713 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 08:37:55,236 uvicorn.error INFO Started server process [9904]
2025-07-17 08:37:55,238 uvicorn.error INFO Waiting for application startup.
2025-07-17 08:37:55,239 uvicorn.error INFO Application startup complete.
2025-07-17 08:41:43,831 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-17 08:41:43,831 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-17 08:41:43,906 uvicorn.error INFO Shutting down
2025-07-17 08:41:44,016 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 08:41:44,019 uvicorn.error INFO Application shutdown complete.
2025-07-17 08:41:44,020 uvicorn.error INFO Finished server process [9904]
2025-07-17 08:41:45,604 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2001429671792'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2001429671792')}
2025-07-17 08:41:46,346 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:41:46,346 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 08:41:46,347 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:41:46,348 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 08:41:46,349 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:41:46,350 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 08:41:46,350 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:41:46,350 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 08:41:46,351 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:41:46,351 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 08:41:46,352 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:41:46,353 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 08:41:46,690 uvicorn.error INFO Started server process [28168]
2025-07-17 08:41:46,691 uvicorn.error INFO Waiting for application startup.
2025-07-17 08:41:46,694 uvicorn.error INFO Application startup complete.
2025-07-17 08:49:56,511 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\file.py')}
2025-07-17 08:49:56,512 uvicorn.error WARNING WatchFiles detected changes in 'schema\file.py'. Reloading...
2025-07-17 08:49:56,617 uvicorn.error INFO Shutting down
2025-07-17 08:49:56,726 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 08:49:56,738 uvicorn.error INFO Application shutdown complete.
2025-07-17 08:49:56,739 uvicorn.error INFO Finished server process [28168]
2025-07-17 08:49:59,115 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:49:59,115 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 08:49:59,116 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:49:59,118 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 08:49:59,118 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:49:59,118 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 08:49:59,119 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:49:59,120 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 08:49:59,120 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:49:59,121 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 08:49:59,121 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:49:59,122 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 08:49:59,209 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\file.cpython-312.pyc.3012544441360'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\file.cpython-312.pyc.3012544441360'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\file.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\file.cpython-312.pyc')}
2025-07-17 08:49:59,486 uvicorn.error INFO Started server process [25480]
2025-07-17 08:49:59,488 uvicorn.error INFO Waiting for application startup.
2025-07-17 08:49:59,489 uvicorn.error INFO Application startup complete.
2025-07-17 08:50:24,546 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 08:50:24,546 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 08:50:24,557 uvicorn.error INFO Shutting down
2025-07-17 08:50:24,666 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 08:50:24,667 uvicorn.error INFO Application shutdown complete.
2025-07-17 08:50:24,668 uvicorn.error INFO Finished server process [25480]
2025-07-17 08:50:28,284 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:50:28,285 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 08:50:28,285 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:50:28,287 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 08:50:28,287 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:50:28,288 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 08:50:28,289 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:50:28,290 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 08:50:28,290 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:50:28,292 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 08:50:28,292 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:50:28,293 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 08:50:28,326 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2248741743344'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2248741743344'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc')}
2025-07-17 08:50:28,757 uvicorn.error INFO Started server process [31116]
2025-07-17 08:50:28,760 uvicorn.error INFO Waiting for application startup.
2025-07-17 08:50:28,762 uvicorn.error INFO Application startup complete.
2025-07-17 08:50:48,496 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:50:48,500 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.user_id = ?
2025-07-17 08:50:48,500 sqlalchemy.engine.Engine INFO [generated in 0.00060s] (1,)
2025-07-17 08:50:48,503 root ERROR Error getting db session : (sqlite3.OperationalError) no such column: file.chunking_status
[SQL: SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.user_id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-17 08:50:48,503 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 08:50:48,504 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: file.chunking_status

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 15, in list_files
    return db.query(models.File).filter(models.File.user_id == user_id).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: file.chunking_status
[SQL: SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.user_id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-17 08:52:46,792 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\file.py')}
2025-07-17 08:52:46,792 uvicorn.error WARNING WatchFiles detected changes in 'langchain\file.py'. Reloading...
2025-07-17 08:52:46,838 uvicorn.error INFO Shutting down
2025-07-17 08:52:46,947 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 08:52:46,948 uvicorn.error INFO Application shutdown complete.
2025-07-17 08:52:46,949 uvicorn.error INFO Finished server process [31116]
2025-07-17 08:52:48,920 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:52:48,921 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 08:52:48,921 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:48,922 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 08:52:48,923 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:48,923 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 08:52:48,923 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:48,924 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 08:52:48,924 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:48,924 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 08:52:48,924 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:48,925 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 08:52:49,240 uvicorn.error INFO Started server process [32908]
2025-07-17 08:52:49,241 uvicorn.error INFO Waiting for application startup.
2025-07-17 08:52:49,243 uvicorn.error INFO Application startup complete.
2025-07-17 08:52:49,355 uvicorn.error INFO Shutting down
2025-07-17 08:52:49,461 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 08:52:49,462 uvicorn.error INFO Application shutdown complete.
2025-07-17 08:52:49,463 uvicorn.error INFO Finished server process [32908]
2025-07-17 08:52:49,644 uvicorn.error INFO Stopping reloader process [1884]
2025-07-17 08:52:54,356 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:52:54,357 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 08:52:54,357 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:54,358 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 08:52:54,358 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:54,358 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 08:52:54,359 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:54,359 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 08:52:54,359 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:54,359 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 08:52:54,360 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:54,361 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 08:52:54,664 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-17 08:52:54,666 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-17 08:52:54,667 uvicorn.error INFO Started reloader process [3248] using WatchFiles
2025-07-17 08:52:56,142 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:52:56,144 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 08:52:56,144 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:56,145 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 08:52:56,145 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:56,146 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 08:52:56,146 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:56,146 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 08:52:56,146 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:56,147 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 08:52:56,147 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:52:56,147 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 08:52:56,444 uvicorn.error INFO Started server process [19824]
2025-07-17 08:52:56,446 uvicorn.error INFO Waiting for application startup.
2025-07-17 08:52:56,447 uvicorn.error INFO Application startup complete.
2025-07-17 08:52:59,860 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:52:59,865 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.user_id = ?
2025-07-17 08:52:59,865 sqlalchemy.engine.Engine INFO [generated in 0.00055s] (1,)
2025-07-17 08:52:59,866 root ERROR Error getting db session : (sqlite3.OperationalError) no such column: file.chunking_status
[SQL: SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.user_id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-17 08:52:59,867 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 08:52:59,869 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: file.chunking_status

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 15, in list_files
    return db.query(models.File).filter(models.File.user_id == user_id).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: file.chunking_status
[SQL: SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.user_id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-17 08:53:10,133 uvicorn.error INFO Shutting down
2025-07-17 08:53:10,240 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 08:53:10,241 uvicorn.error INFO Application shutdown complete.
2025-07-17 08:53:10,242 uvicorn.error INFO Finished server process [19824]
2025-07-17 08:53:10,420 uvicorn.error INFO Stopping reloader process [3248]
2025-07-17 08:53:25,860 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:53:25,862 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 08:53:25,862 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:25,863 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("user")
2025-07-17 08:53:25,863 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:25,863 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 08:53:25,863 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:25,864 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("session")
2025-07-17 08:53:25,864 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:25,865 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 08:53:25,865 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:25,865 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("chat_history")
2025-07-17 08:53:25,865 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:25,865 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 08:53:25,865 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:25,867 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("file")
2025-07-17 08:53:25,867 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:25,867 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 08:53:25,867 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:25,868 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("citation")
2025-07-17 08:53:25,868 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:25,869 sqlalchemy.engine.Engine INFO 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	email VARCHAR, 
	PRIMARY KEY (id)
)


2025-07-17 08:53:25,869 sqlalchemy.engine.Engine INFO [no key 0.00028s] ()
2025-07-17 08:53:25,883 sqlalchemy.engine.Engine INFO CREATE INDEX ix_user_id ON user (id)
2025-07-17 08:53:25,884 sqlalchemy.engine.Engine INFO [no key 0.00039s] ()
2025-07-17 08:53:25,894 sqlalchemy.engine.Engine INFO CREATE UNIQUE INDEX ix_user_email ON user (email)
2025-07-17 08:53:25,894 sqlalchemy.engine.Engine INFO [no key 0.00029s] ()
2025-07-17 08:53:25,903 sqlalchemy.engine.Engine INFO 
CREATE TABLE session (
	id INTEGER NOT NULL, 
	session_name VARCHAR, 
	session_type VARCHAR, 
	model_name VARCHAR, 
	temperature FLOAT, 
	file_id VARCHAR, 
	user_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-17 08:53:25,903 sqlalchemy.engine.Engine INFO [no key 0.00040s] ()
2025-07-17 08:53:25,913 sqlalchemy.engine.Engine INFO CREATE INDEX ix_session_id ON session (id)
2025-07-17 08:53:25,913 sqlalchemy.engine.Engine INFO [no key 0.00038s] ()
2025-07-17 08:53:25,923 sqlalchemy.engine.Engine INFO 
CREATE TABLE file (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	md5 VARCHAR, 
	file_name VARCHAR, 
	file_type VARCHAR, 
	file_path VARCHAR, 
	chunking_status VARCHAR, 
	embeding_status VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-17 08:53:25,923 sqlalchemy.engine.Engine INFO [no key 0.00039s] ()
2025-07-17 08:53:25,932 sqlalchemy.engine.Engine INFO CREATE INDEX ix_file_id ON file (id)
2025-07-17 08:53:25,933 sqlalchemy.engine.Engine INFO [no key 0.00043s] ()
2025-07-17 08:53:25,942 sqlalchemy.engine.Engine INFO 
CREATE TABLE chat_history (
	id INTEGER NOT NULL, 
	message VARCHAR, 
	message_type VARCHAR, 
	session_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(session_id) REFERENCES session (id)
)


2025-07-17 08:53:25,942 sqlalchemy.engine.Engine INFO [no key 0.00056s] ()
2025-07-17 08:53:25,952 sqlalchemy.engine.Engine INFO CREATE INDEX ix_chat_history_id ON chat_history (id)
2025-07-17 08:53:25,953 sqlalchemy.engine.Engine INFO [no key 0.00036s] ()
2025-07-17 08:53:25,962 sqlalchemy.engine.Engine INFO 
CREATE TABLE citation (
	id INTEGER NOT NULL, 
	citation VARCHAR, 
	file_name VARCHAR, 
	file_id INTEGER, 
	chat_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(chat_id) REFERENCES chat_history (id)
)


2025-07-17 08:53:25,963 sqlalchemy.engine.Engine INFO [no key 0.00036s] ()
2025-07-17 08:53:25,972 sqlalchemy.engine.Engine INFO CREATE INDEX ix_citation_id ON citation (id)
2025-07-17 08:53:25,972 sqlalchemy.engine.Engine INFO [no key 0.00042s] ()
2025-07-17 08:53:25,981 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 08:53:26,283 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-17 08:53:26,285 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-17 08:53:26,287 uvicorn.error INFO Started reloader process [20648] using WatchFiles
2025-07-17 08:53:27,827 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:53:27,828 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 08:53:27,828 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:27,829 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 08:53:27,829 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:27,829 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 08:53:27,829 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:27,831 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 08:53:27,831 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:27,831 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 08:53:27,831 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 08:53:27,832 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 08:53:28,161 uvicorn.error INFO Started server process [23684]
2025-07-17 08:53:28,164 uvicorn.error INFO Waiting for application startup.
2025-07-17 08:53:28,165 uvicorn.error INFO Application startup complete.
2025-07-17 08:53:32,113 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 08:53:32,117 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.user_id = ?
2025-07-17 08:53:32,118 sqlalchemy.engine.Engine INFO [generated in 0.00068s] (1,)
2025-07-17 08:53:32,120 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 09:09:10,688 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\file.py')}
2025-07-17 09:09:10,688 uvicorn.error WARNING WatchFiles detected changes in 'langchain\file.py'. Reloading...
2025-07-17 09:09:10,788 uvicorn.error INFO Shutting down
2025-07-17 09:09:10,895 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 09:09:10,897 uvicorn.error INFO Application shutdown complete.
2025-07-17 09:09:10,897 uvicorn.error INFO Finished server process [23684]
2025-07-17 09:09:14,895 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\langchain.py')}
2025-07-17 09:09:14,895 uvicorn.error WARNING WatchFiles detected changes in 'langchain\langchain.py'. Reloading...
2025-07-17 09:09:18,846 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 09:09:18,847 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 09:09:18,847 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 09:09:18,849 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 09:09:18,849 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 09:09:18,850 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 09:09:18,850 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 09:09:18,851 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 09:09:18,851 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 09:09:18,851 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 09:09:18,852 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 09:09:18,853 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 09:09:19,169 uvicorn.error INFO Started server process [248]
2025-07-17 09:09:19,171 uvicorn.error INFO Waiting for application startup.
2025-07-17 09:09:19,172 uvicorn.error INFO Application startup complete.
2025-07-17 09:09:19,204 uvicorn.error ERROR Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 691, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-07-17 09:09:20,996 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 09:09:20,996 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 09:09:20,997 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 09:09:20,997 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 09:09:20,997 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 09:09:20,998 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 09:09:20,998 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 09:09:20,999 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 09:09:20,999 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 09:09:20,999 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 09:09:20,999 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 09:09:21,000 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 09:09:21,300 uvicorn.error INFO Started server process [11672]
2025-07-17 09:09:21,303 uvicorn.error INFO Waiting for application startup.
2025-07-17 09:09:21,304 uvicorn.error INFO Application startup complete.
2025-07-17 12:02:33,164 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 12:02:33,175 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 12:02:33,176 sqlalchemy.engine.Engine INFO [generated in 0.00096s] (1,)
2025-07-17 12:02:33,181 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 12:02:33,190 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 12:02:33,192 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 12:02:33,194 sqlalchemy.engine.Engine INFO [cached since 0.01828s ago] (1,)
2025-07-17 12:02:33,196 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 12:02:33,203 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 12:02:33,206 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 12:02:33,207 sqlalchemy.engine.Engine INFO [cached since 0.03113s ago] (1,)
2025-07-17 12:02:33,208 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 12:02:33,217 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 12:02:33,217 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 12:02:33,218 sqlalchemy.engine.Engine INFO [cached since 0.04273s ago] (1,)
2025-07-17 12:02:33,221 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 13:35:05,342 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 13:35:05,343 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 13:35:05,345 sqlalchemy.engine.Engine INFO [cached since 5549s ago] (1,)
2025-07-17 13:35:05,348 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 13:35:05,358 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 13:35:05,359 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 13:35:05,360 sqlalchemy.engine.Engine INFO [cached since 5549s ago] (1,)
2025-07-17 13:35:05,364 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 13:35:05,371 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 13:35:05,372 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 13:35:05,373 sqlalchemy.engine.Engine INFO [cached since 5549s ago] (1,)
2025-07-17 13:35:05,376 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 13:35:05,383 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 13:35:05,384 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 13:35:05,384 sqlalchemy.engine.Engine INFO [cached since 5549s ago] (1,)
2025-07-17 13:35:05,386 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 16:18:17,714 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 16:18:17,716 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 16:18:17,718 sqlalchemy.engine.Engine INFO [cached since 1.534e+04s ago] (1,)
2025-07-17 16:18:17,721 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 16:18:17,728 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 16:18:17,729 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 16:18:17,730 sqlalchemy.engine.Engine INFO [cached since 1.534e+04s ago] (1,)
2025-07-17 16:18:17,732 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 16:18:17,738 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 16:18:17,739 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 16:18:17,740 sqlalchemy.engine.Engine INFO [cached since 1.534e+04s ago] (1,)
2025-07-17 16:18:17,742 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 16:18:17,750 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 16:18:17,751 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-07-17 16:18:17,753 sqlalchemy.engine.Engine INFO [cached since 1.534e+04s ago] (1,)
2025-07-17 16:18:17,756 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 17:17:20,223 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\file.py')}
2025-07-17 17:17:20,227 uvicorn.error WARNING WatchFiles detected changes in 'langchain\file.py'. Reloading...
2025-07-17 17:17:20,307 uvicorn.error INFO Shutting down
2025-07-17 17:17:20,418 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 17:17:20,420 uvicorn.error INFO Application shutdown complete.
2025-07-17 17:17:20,421 uvicorn.error INFO Finished server process [11672]
2025-07-17 17:17:22,185 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:17:22,186 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 17:17:22,186 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:17:22,187 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 17:17:22,187 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:17:22,188 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 17:17:22,188 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:17:22,188 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 17:17:22,188 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:17:22,189 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 17:17:22,189 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:17:22,189 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 17:17:22,476 uvicorn.error INFO Started server process [18264]
2025-07-17 17:17:22,477 uvicorn.error INFO Waiting for application startup.
2025-07-17 17:17:22,478 uvicorn.error INFO Application startup complete.
2025-07-17 17:21:46,275 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\file.py')}
2025-07-17 17:21:46,275 uvicorn.error WARNING WatchFiles detected changes in 'langchain\file.py'. Reloading...
2025-07-17 17:21:46,301 uvicorn.error INFO Shutting down
2025-07-17 17:21:46,409 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 17:21:46,411 uvicorn.error INFO Application shutdown complete.
2025-07-17 17:21:46,412 uvicorn.error INFO Finished server process [18264]
2025-07-17 17:21:47,985 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:21:47,986 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 17:21:47,987 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:21:47,988 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 17:21:47,988 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:21:47,989 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 17:21:47,989 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:21:47,989 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 17:21:47,989 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:21:47,990 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 17:21:47,990 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:21:47,990 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 17:21:48,270 uvicorn.error INFO Started server process [16084]
2025-07-17 17:21:48,271 uvicorn.error INFO Waiting for application startup.
2025-07-17 17:21:48,273 uvicorn.error INFO Application startup complete.
2025-07-17 17:27:10,403 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\file.py')}
2025-07-17 17:27:10,403 uvicorn.error WARNING WatchFiles detected changes in 'langchain\file.py'. Reloading...
2025-07-17 17:27:10,412 uvicorn.error INFO Shutting down
2025-07-17 17:27:10,519 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 17:27:10,521 uvicorn.error INFO Application shutdown complete.
2025-07-17 17:27:10,522 uvicorn.error INFO Finished server process [16084]
2025-07-17 17:27:12,220 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:27:12,221 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 17:27:12,221 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:27:12,222 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 17:27:12,222 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:27:12,222 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 17:27:12,222 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:27:12,223 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 17:27:12,223 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:27:12,223 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 17:27:12,223 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:27:12,224 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 17:27:12,525 uvicorn.error INFO Started server process [8432]
2025-07-17 17:27:12,526 uvicorn.error INFO Waiting for application startup.
2025-07-17 17:27:12,527 uvicorn.error INFO Application startup complete.
2025-07-17 17:27:21,830 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain\\file.py')}
2025-07-17 17:27:21,830 uvicorn.error WARNING WatchFiles detected changes in 'langchain\file.py'. Reloading...
2025-07-17 17:27:21,892 uvicorn.error INFO Shutting down
2025-07-17 17:27:21,999 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 17:27:22,000 uvicorn.error INFO Application shutdown complete.
2025-07-17 17:27:22,000 uvicorn.error INFO Finished server process [8432]
2025-07-17 17:27:23,649 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:27:23,649 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 17:27:23,649 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:27:23,650 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 17:27:23,651 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:27:23,651 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 17:27:23,651 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:27:23,652 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 17:27:23,652 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:27:23,652 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 17:27:23,653 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:27:23,653 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 17:27:23,962 uvicorn.error INFO Started server process [6400]
2025-07-17 17:27:23,963 uvicorn.error INFO Waiting for application startup.
2025-07-17 17:27:23,965 uvicorn.error INFO Application startup complete.
2025-07-17 17:29:22,591 watchfiles.main DEBUG 2 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain_wrapre')}
2025-07-17 17:29:37,768 watchfiles.main DEBUG 2 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain_wrapre'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain_wraper')}
2025-07-17 17:32:24,390 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 17:32:24,390 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 17:32:24,492 uvicorn.error INFO Shutting down
2025-07-17 17:32:24,601 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 17:32:24,602 uvicorn.error INFO Application shutdown complete.
2025-07-17 17:32:24,603 uvicorn.error INFO Finished server process [6400]
2025-07-17 17:32:26,412 watchfiles.main DEBUG 9 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain_wraper\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2444856814320'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain_wraper\\__pycache__\\file.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain_wraper\\__pycache__\\file.cpython-312.pyc.2444856814608'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain_wraper\\__pycache__\\file.cpython-312.pyc.2444856814608'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2444856814320')}
2025-07-17 17:32:28,127 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:32:28,127 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 17:32:28,127 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:32:28,128 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 17:32:28,128 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:32:28,129 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 17:32:28,129 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:32:28,129 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 17:32:28,129 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:32:28,130 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 17:32:28,130 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:32:28,131 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 17:32:28,430 uvicorn.error INFO Started server process [16780]
2025-07-17 17:32:28,432 uvicorn.error INFO Waiting for application startup.
2025-07-17 17:32:28,434 uvicorn.error INFO Application startup complete.
2025-07-17 17:32:40,553 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:32:40,557 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.user_id = ?
2025-07-17 17:32:40,559 sqlalchemy.engine.Engine INFO [generated in 0.00060s] (1,)
2025-07-17 17:32:40,560 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 17:33:10,449 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 17:33:10,449 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 17:33:10,449 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 17:33:10,449 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 17:33:10,449 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 17:33:10,449 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 17:33:10,449 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 17:33:10,449 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 17:33:10,449 python_multipart.multipart DEBUG Calling on_part_data with data[158:131072]
2025-07-17 17:33:10,450 python_multipart.multipart DEBUG Calling on_part_data with data[0:90391]
2025-07-17 17:33:10,450 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 17:33:10,450 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 17:33:10,452 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:33:10,453 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 17:33:10,454 sqlalchemy.engine.Engine INFO [generated in 0.00055s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 17:33:10,454 root ERROR Error getting db session : BackgroundTasks.add_task() missing 1 required positional argument: 'func'
2025-07-17 17:33:10,456 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 17:33:10,457 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 54, in upload_file
    BackgroundTasks.add_task(write_file, file=file, file_path=file_path)
TypeError: BackgroundTasks.add_task() missing 1 required positional argument: 'func'
2025-07-17 17:33:14,692 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\langchain_wraper')}
2025-07-17 17:33:26,597 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 17:33:26,597 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 17:33:26,654 uvicorn.error INFO Shutting down
2025-07-17 17:33:26,763 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 17:33:26,765 uvicorn.error INFO Application shutdown complete.
2025-07-17 17:33:26,766 uvicorn.error INFO Finished server process [16780]
2025-07-17 17:33:28,530 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2350142270192'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2350142270192')}
2025-07-17 17:33:28,926 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:33:28,926 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 17:33:28,927 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:33:28,928 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 17:33:28,928 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:33:28,928 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 17:33:28,928 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:33:28,930 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 17:33:28,930 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:33:28,930 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 17:33:28,930 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:33:28,931 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 17:33:29,211 uvicorn.error INFO Started server process [15948]
2025-07-17 17:33:29,213 uvicorn.error INFO Waiting for application startup.
2025-07-17 17:33:29,215 uvicorn.error INFO Application startup complete.
2025-07-17 17:33:32,652 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 17:33:32,652 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 17:33:32,652 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 17:33:32,652 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 17:33:32,652 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 17:33:32,653 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 17:33:32,653 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 17:33:32,653 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 17:33:32,653 python_multipart.multipart DEBUG Calling on_part_data with data[158:65535]
2025-07-17 17:33:32,654 python_multipart.multipart DEBUG Calling on_part_data with data[0:1]
2025-07-17 17:33:32,654 python_multipart.multipart DEBUG Calling on_part_data with data[0:155927]
2025-07-17 17:33:32,654 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 17:33:32,654 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 17:33:32,667 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:33:32,670 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 17:33:32,670 sqlalchemy.engine.Engine INFO [generated in 0.00053s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 17:33:32,672 root ERROR Error getting db session : BackgroundTasks.add_task() missing 1 required positional argument: 'self'
2025-07-17 17:33:32,672 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 17:33:32,673 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 54, in upload_file
    BackgroundTasks.add_task(func=write_file, file=file, file_path=file_path)
TypeError: BackgroundTasks.add_task() missing 1 required positional argument: 'self'
2025-07-17 17:36:54,129 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 17:36:54,129 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 17:36:54,212 uvicorn.error INFO Shutting down
2025-07-17 17:36:54,321 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 17:36:54,322 uvicorn.error INFO Application shutdown complete.
2025-07-17 17:36:54,323 uvicorn.error INFO Finished server process [15948]
2025-07-17 17:36:56,129 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2303533083376'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2303533083376'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc')}
2025-07-17 17:36:56,549 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:36:56,550 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 17:36:56,551 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:36:56,551 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 17:36:56,552 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:36:56,552 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 17:36:56,552 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:36:56,552 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 17:36:56,553 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:36:56,553 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 17:36:56,553 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:36:56,554 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 17:36:56,842 uvicorn.error INFO Started server process [30232]
2025-07-17 17:36:56,843 uvicorn.error INFO Waiting for application startup.
2025-07-17 17:36:56,845 uvicorn.error INFO Application startup complete.
2025-07-17 17:36:59,729 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 17:36:59,729 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 17:36:59,729 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 17:36:59,729 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 17:36:59,729 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 17:36:59,729 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 17:36:59,729 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 17:36:59,729 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 17:36:59,729 python_multipart.multipart DEBUG Calling on_part_data with data[158:81920]
2025-07-17 17:36:59,730 python_multipart.multipart DEBUG Calling on_part_data with data[0:139543]
2025-07-17 17:36:59,730 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 17:36:59,730 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 17:36:59,743 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:36:59,746 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 17:36:59,746 sqlalchemy.engine.Engine INFO [generated in 0.00052s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 17:36:59,748 root ERROR Error getting db session : super(type, obj): obj must be an instance or subtype of type
2025-07-17 17:36:59,748 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 17:36:59,751 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 54, in upload_file
    BackgroundTasks.add_task(write_file, file, file_path)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\background.py", line 59, in add_task
    return super().add_task(func, *args, **kwargs)
           ^^^^^^^^^^^^^^^^
TypeError: super(type, obj): obj must be an instance or subtype of type
2025-07-17 17:37:35,454 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 17:37:35,454 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 17:37:35,538 uvicorn.error INFO Shutting down
2025-07-17 17:37:35,646 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 17:37:35,648 uvicorn.error INFO Application shutdown complete.
2025-07-17 17:37:35,649 uvicorn.error INFO Finished server process [30232]
2025-07-17 17:37:37,401 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2141901384432'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2141901384432'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc')}
2025-07-17 17:37:37,775 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:37:37,777 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 17:37:37,777 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:37:37,778 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 17:37:37,778 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:37:37,779 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 17:37:37,780 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:37:37,780 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 17:37:37,780 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:37:37,780 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 17:37:37,780 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:37:37,781 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 17:37:38,063 uvicorn.error INFO Started server process [27752]
2025-07-17 17:37:38,065 uvicorn.error INFO Waiting for application startup.
2025-07-17 17:37:38,066 uvicorn.error INFO Application startup complete.
2025-07-17 17:37:42,363 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 17:37:42,363 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 17:37:42,363 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 17:37:42,363 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 17:37:42,363 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 17:37:42,363 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 17:37:42,363 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 17:37:42,363 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 17:37:42,363 python_multipart.multipart DEBUG Calling on_part_data with data[158:114688]
2025-07-17 17:37:42,364 python_multipart.multipart DEBUG Calling on_part_data with data[0:106775]
2025-07-17 17:37:42,364 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 17:37:42,364 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 17:37:42,378 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:37:42,382 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 17:37:42,382 sqlalchemy.engine.Engine INFO [generated in 0.00047s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 17:37:42,383 root ERROR Error getting db session : super(type, obj): obj must be an instance or subtype of type
2025-07-17 17:37:42,383 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 17:37:42,385 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 54, in upload_file
    BackgroundTasks.add_task(write_file, file, file_path)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\background.py", line 59, in add_task
    return super().add_task(func, *args, **kwargs)
           ^^^^^^^^^^^^^^^^
TypeError: super(type, obj): obj must be an instance or subtype of type
2025-07-17 17:39:03,584 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 17:39:03,584 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 17:39:03,592 uvicorn.error INFO Shutting down
2025-07-17 17:39:03,702 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 17:39:03,703 uvicorn.error INFO Application shutdown complete.
2025-07-17 17:39:03,704 uvicorn.error INFO Finished server process [27752]
2025-07-17 17:39:05,488 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2471189883632'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2471189883632')}
2025-07-17 17:39:05,879 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:39:05,879 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 17:39:05,880 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:39:05,880 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 17:39:05,880 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:39:05,881 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 17:39:05,881 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:39:05,881 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 17:39:05,881 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:39:05,882 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 17:39:05,882 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:39:05,884 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 17:39:06,176 uvicorn.error INFO Started server process [11372]
2025-07-17 17:39:06,178 uvicorn.error INFO Waiting for application startup.
2025-07-17 17:39:06,178 uvicorn.error INFO Application startup complete.
2025-07-17 17:39:06,598 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 17:39:06,598 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 17:39:06,613 uvicorn.error INFO Shutting down
2025-07-17 17:39:06,722 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 17:39:06,723 uvicorn.error INFO Application shutdown complete.
2025-07-17 17:39:06,724 uvicorn.error INFO Finished server process [11372]
2025-07-17 17:39:08,476 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2099848424176'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2099848424176'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc')}
2025-07-17 17:39:08,903 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:39:08,905 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 17:39:08,905 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:39:08,906 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 17:39:08,907 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:39:08,907 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 17:39:08,908 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:39:08,908 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 17:39:08,908 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:39:08,909 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 17:39:08,909 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 17:39:08,910 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 17:39:09,213 uvicorn.error INFO Started server process [29968]
2025-07-17 17:39:09,215 uvicorn.error INFO Waiting for application startup.
2025-07-17 17:39:09,216 uvicorn.error INFO Application startup complete.
2025-07-17 17:39:09,249 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 17:39:09,249 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 17:39:09,249 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 17:39:09,249 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 17:39:09,249 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 17:39:09,249 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 17:39:09,249 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 17:39:09,249 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 17:39:09,250 python_multipart.multipart DEBUG Calling on_part_data with data[158:49152]
2025-07-17 17:39:09,250 python_multipart.multipart DEBUG Calling on_part_data with data[0:172311]
2025-07-17 17:39:09,250 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 17:39:09,250 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 17:39:09,263 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:39:09,267 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 17:39:09,268 sqlalchemy.engine.Engine INFO [generated in 0.00072s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 17:39:09,277 sqlalchemy.engine.Engine INFO INSERT INTO file (user_id, md5, file_name, file_type, file_path, chunking_status, embeding_status) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-07-17 17:39:09,277 sqlalchemy.engine.Engine INFO [generated in 0.00044s] (1, '8f41101129fcdc1e72d0c7d8fc4a3970', 'RahulSharmaResume (1).pdf', 'pdf', 'user_files\\RahulSharmaResume (1).pdf', None, None)
2025-07-17 17:39:09,279 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 17:39:09,288 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:39:09,290 sqlalchemy.engine.Engine INFO SELECT file.id, file.user_id, file.md5, file.file_name, file.file_type, file.file_path, file.chunking_status, file.embeding_status 
FROM file 
WHERE file.id = ?
2025-07-17 17:39:09,290 sqlalchemy.engine.Engine INFO [generated in 0.00046s] (1,)
2025-07-17 17:39:09,291 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 17:39:09,387 watchfiles.main DEBUG 3 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-17 17:39:18,316 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 17:39:18,317 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.user_id = ?
2025-07-17 17:39:18,317 sqlalchemy.engine.Engine INFO [generated in 0.00038s] (1,)
2025-07-17 17:39:18,318 root ERROR Error getting db session : 2 validation errors:
  {'type': 'string_type', 'loc': ('response', 0, 'chunking_status'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'missing', 'loc': ('response', 0, 'embedding_status'), 'msg': 'Field required', 'input': <models.models.File object at 0x000001E8E5A49D60>}

2025-07-17 17:39:18,318 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 17:39:18,320 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 177, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 2 validation errors:
  {'type': 'string_type', 'loc': ('response', 0, 'chunking_status'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'missing', 'loc': ('response', 0, 'embedding_status'), 'msg': 'Field required', 'input': <models.models.File object at 0x000001E8E5A49D60>}

2025-07-17 18:16:17,203 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\file.py')}
2025-07-17 18:16:17,204 uvicorn.error WARNING WatchFiles detected changes in 'schema\file.py'. Reloading...
2025-07-17 18:16:17,257 uvicorn.error INFO Shutting down
2025-07-17 18:16:17,367 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:16:17,369 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:16:17,371 uvicorn.error INFO Finished server process [29968]
2025-07-17 18:16:19,209 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\file.cpython-312.pyc.2179456330768'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\file.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\file.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\schema\\__pycache__\\file.cpython-312.pyc.2179456330768')}
2025-07-17 18:16:19,607 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:16:19,607 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:16:19,608 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:16:19,608 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:16:19,608 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:16:19,609 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:16:19,609 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:16:19,610 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:16:19,610 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:16:19,610 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:16:19,610 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:16:19,611 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:16:19,894 uvicorn.error INFO Started server process [18908]
2025-07-17 18:16:19,895 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:16:19,897 uvicorn.error INFO Application startup complete.
2025-07-17 18:16:43,595 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-17 18:16:43,595 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-17 18:16:43,615 uvicorn.error INFO Shutting down
2025-07-17 18:16:43,726 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:16:43,727 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:16:43,728 uvicorn.error INFO Finished server process [18908]
2025-07-17 18:16:44,894 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2356702850928'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2356702850928'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__')}
2025-07-17 18:16:45,922 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:16:45,922 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:16:45,923 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:16:45,923 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:16:45,924 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:16:45,924 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:16:45,924 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:16:45,924 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:16:45,924 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:16:45,925 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:16:45,925 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:16:45,925 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:16:46,214 uvicorn.error INFO Started server process [26328]
2025-07-17 18:16:46,215 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:16:46,216 uvicorn.error INFO Application startup complete.
2025-07-17 18:16:48,829 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:16:48,832 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.user_id = ?
2025-07-17 18:16:48,832 sqlalchemy.engine.Engine INFO [generated in 0.00037s] (1,)
2025-07-17 18:16:48,834 root ERROR Error getting db session : 2 validation errors:
  {'type': 'string_type', 'loc': ('response', 0, 'chunking_status'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'missing', 'loc': ('response', 0, 'embedding_status'), 'msg': 'Field required', 'input': <models.models.File object at 0x00000224BB3ED520>}

2025-07-17 18:16:48,834 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:16:48,836 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 177, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 2 validation errors:
  {'type': 'string_type', 'loc': ('response', 0, 'chunking_status'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'missing', 'loc': ('response', 0, 'embedding_status'), 'msg': 'Field required', 'input': <models.models.File object at 0x00000224BB3ED520>}

2025-07-17 18:16:52,606 uvicorn.error INFO Shutting down
2025-07-17 18:16:52,715 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:16:52,716 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:16:52,717 uvicorn.error INFO Finished server process [26328]
2025-07-17 18:16:52,938 uvicorn.error INFO Stopping reloader process [20648]
2025-07-17 18:17:12,140 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:17:12,141 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:17:12,141 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:12,142 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("user")
2025-07-17 18:17:12,143 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:12,143 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:17:12,143 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:12,144 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("session")
2025-07-17 18:17:12,144 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:12,144 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:17:12,144 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:12,145 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("chat_history")
2025-07-17 18:17:12,145 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:12,145 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:17:12,145 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:12,145 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("file")
2025-07-17 18:17:12,146 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:12,146 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:17:12,146 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:12,146 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("citation")
2025-07-17 18:17:12,147 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:12,148 sqlalchemy.engine.Engine INFO 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	email VARCHAR, 
	PRIMARY KEY (id)
)


2025-07-17 18:17:12,148 sqlalchemy.engine.Engine INFO [no key 0.00035s] ()
2025-07-17 18:17:12,163 sqlalchemy.engine.Engine INFO CREATE UNIQUE INDEX ix_user_email ON user (email)
2025-07-17 18:17:12,163 sqlalchemy.engine.Engine INFO [no key 0.00043s] ()
2025-07-17 18:17:12,173 sqlalchemy.engine.Engine INFO CREATE INDEX ix_user_id ON user (id)
2025-07-17 18:17:12,173 sqlalchemy.engine.Engine INFO [no key 0.00031s] ()
2025-07-17 18:17:12,183 sqlalchemy.engine.Engine INFO 
CREATE TABLE session (
	id INTEGER NOT NULL, 
	session_name VARCHAR, 
	session_type VARCHAR, 
	model_name VARCHAR, 
	temperature FLOAT, 
	file_id VARCHAR, 
	user_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-17 18:17:12,183 sqlalchemy.engine.Engine INFO [no key 0.00062s] ()
2025-07-17 18:17:12,192 sqlalchemy.engine.Engine INFO CREATE INDEX ix_session_id ON session (id)
2025-07-17 18:17:12,192 sqlalchemy.engine.Engine INFO [no key 0.00037s] ()
2025-07-17 18:17:12,202 sqlalchemy.engine.Engine INFO 
CREATE TABLE file (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	md5 VARCHAR, 
	file_name VARCHAR, 
	file_type VARCHAR, 
	file_path VARCHAR, 
	chunking_status VARCHAR, 
	embeding_status VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-17 18:17:12,203 sqlalchemy.engine.Engine INFO [no key 0.00063s] ()
2025-07-17 18:17:12,211 sqlalchemy.engine.Engine INFO CREATE INDEX ix_file_id ON file (id)
2025-07-17 18:17:12,212 sqlalchemy.engine.Engine INFO [no key 0.00038s] ()
2025-07-17 18:17:12,221 sqlalchemy.engine.Engine INFO 
CREATE TABLE chat_history (
	id INTEGER NOT NULL, 
	message VARCHAR, 
	message_type VARCHAR, 
	session_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(session_id) REFERENCES session (id)
)


2025-07-17 18:17:12,221 sqlalchemy.engine.Engine INFO [no key 0.00055s] ()
2025-07-17 18:17:12,230 sqlalchemy.engine.Engine INFO CREATE INDEX ix_chat_history_id ON chat_history (id)
2025-07-17 18:17:12,230 sqlalchemy.engine.Engine INFO [no key 0.00028s] ()
2025-07-17 18:17:12,240 sqlalchemy.engine.Engine INFO 
CREATE TABLE citation (
	id INTEGER NOT NULL, 
	citation VARCHAR, 
	file_name VARCHAR, 
	file_id INTEGER, 
	chat_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(chat_id) REFERENCES chat_history (id)
)


2025-07-17 18:17:12,240 sqlalchemy.engine.Engine INFO [no key 0.00056s] ()
2025-07-17 18:17:12,251 sqlalchemy.engine.Engine INFO CREATE INDEX ix_citation_id ON citation (id)
2025-07-17 18:17:12,252 sqlalchemy.engine.Engine INFO [no key 0.00042s] ()
2025-07-17 18:17:12,261 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:17:12,556 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-17 18:17:12,558 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-17 18:17:12,559 uvicorn.error INFO Started reloader process [22804] using WatchFiles
2025-07-17 18:17:14,478 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:17:14,478 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:17:14,478 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:14,479 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:17:14,479 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:14,480 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:17:14,480 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:14,480 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:17:14,480 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:14,482 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:17:14,482 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:17:14,482 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:17:14,767 uvicorn.error INFO Started server process [17988]
2025-07-17 18:17:14,768 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:17:14,770 uvicorn.error INFO Application startup complete.
2025-07-17 18:17:46,768 watchfiles.main DEBUG 1 change detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\user_files')}
2025-07-17 18:17:52,725 watchfiles.main DEBUG 1 change detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\user_files')}
2025-07-17 18:18:02,867 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 18:18:02,868 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 18:18:02,868 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 18:18:02,868 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:18:02,868 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 18:18:02,868 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 18:18:02,868 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:18:02,868 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 18:18:02,868 python_multipart.multipart DEBUG Calling on_part_data with data[158:65535]
2025-07-17 18:18:02,868 python_multipart.multipart DEBUG Calling on_part_data with data[0:1]
2025-07-17 18:18:02,868 python_multipart.multipart DEBUG Calling on_part_data with data[0:155927]
2025-07-17 18:18:02,869 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 18:18:02,869 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 18:18:02,883 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:18:02,885 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 18:18:02,885 sqlalchemy.engine.Engine INFO [generated in 0.00046s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 18:18:02,890 root ERROR Error getting db session : 2 validation errors for FileInput
chunking_status
  Field required [type=missing, input_value={'file_name': 'RahulSharm...70', 'file_type': 'pdf'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
embedding_status
  Field required [type=missing, input_value={'file_name': 'RahulSharm...70', 'file_type': 'pdf'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-17 18:18:02,890 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:18:02,892 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 57, in upload_file
    file_data = FileInput(
                ^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 2 validation errors for FileInput
chunking_status
  Field required [type=missing, input_value={'file_name': 'RahulSharm...70', 'file_type': 'pdf'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
embedding_status
  Field required [type=missing, input_value={'file_name': 'RahulSharm...70', 'file_type': 'pdf'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-17 18:19:09,352 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 18:19:09,353 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 18:19:09,403 uvicorn.error INFO Shutting down
2025-07-17 18:19:09,513 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:19:09,514 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:19:09,515 uvicorn.error INFO Finished server process [17988]
2025-07-17 18:19:20,044 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 18:19:20,044 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 18:19:21,639 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2210456234736'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2210456234736'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc')}
2025-07-17 18:19:22,044 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:19:22,044 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:19:22,044 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:19:22,045 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:19:22,045 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:19:22,045 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:19:22,046 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:19:22,046 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:19:22,046 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:19:22,047 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:19:22,047 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:19:22,048 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:19:22,334 uvicorn.error INFO Started server process [15500]
2025-07-17 18:19:22,335 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:19:22,336 uvicorn.error INFO Application startup complete.
2025-07-17 18:19:22,338 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 18:19:22,338 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 18:19:22,338 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 18:19:22,338 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:19:22,338 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 18:19:22,338 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 18:19:22,338 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:19:22,338 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 18:19:22,338 python_multipart.multipart DEBUG Calling on_part_data with data[158:196608]
2025-07-17 18:19:22,339 python_multipart.multipart DEBUG Calling on_part_data with data[0:24855]
2025-07-17 18:19:22,339 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 18:19:22,339 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 18:19:22,354 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:19:22,358 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 18:19:22,358 sqlalchemy.engine.Engine INFO [generated in 0.00042s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 18:19:22,360 root ERROR Error getting db session : 'embedding_status' is an invalid keyword argument for File
2025-07-17 18:19:22,361 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:19:22,363 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 66, in upload_file
    save_file(file_data, db)
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 20, in save_file
    db_session = models.File(**file.model_dump())
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2173, in _declarative_constructor
    raise TypeError(
TypeError: 'embedding_status' is an invalid keyword argument for File
2025-07-17 18:19:23,626 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 18:19:23,627 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 18:19:23,627 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 18:19:23,627 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:19:23,627 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 18:19:23,627 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 18:19:23,627 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:19:23,627 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 18:19:23,627 python_multipart.multipart DEBUG Calling on_part_data with data[158:98304]
2025-07-17 18:19:23,627 python_multipart.multipart DEBUG Calling on_part_data with data[0:123159]
2025-07-17 18:19:23,627 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 18:19:23,627 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 18:19:23,629 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:19:23,630 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 18:19:23,630 sqlalchemy.engine.Engine INFO [cached since 1.274s ago] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 18:19:23,632 root ERROR Error getting db session : 'embedding_status' is an invalid keyword argument for File
2025-07-17 18:19:23,632 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:19:23,634 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 66, in upload_file
    save_file(file_data, db)
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 20, in save_file
    db_session = models.File(**file.model_dump())
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2173, in _declarative_constructor
    raise TypeError(
TypeError: 'embedding_status' is an invalid keyword argument for File
2025-07-17 18:19:44,411 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 18:19:44,411 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 18:19:44,471 uvicorn.error INFO Shutting down
2025-07-17 18:19:44,579 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:19:44,580 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:19:44,581 uvicorn.error INFO Finished server process [15500]
2025-07-17 18:19:46,389 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.3228219812592'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.3228219812592'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc')}
2025-07-17 18:19:46,865 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:19:46,866 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:19:46,867 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:19:46,869 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:19:46,869 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:19:46,870 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:19:46,870 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:19:46,871 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:19:46,871 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:19:46,872 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:19:46,872 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:19:46,873 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:19:47,201 uvicorn.error INFO Started server process [16900]
2025-07-17 18:19:47,203 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:19:47,204 uvicorn.error INFO Application startup complete.
2025-07-17 18:19:48,794 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 18:19:48,794 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 18:19:48,794 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 18:19:48,794 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:19:48,794 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 18:19:48,794 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 18:19:48,794 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:19:48,794 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 18:19:48,794 python_multipart.multipart DEBUG Calling on_part_data with data[158:32768]
2025-07-17 18:19:48,795 python_multipart.multipart DEBUG Calling on_part_data with data[0:188695]
2025-07-17 18:19:48,795 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 18:19:48,795 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 18:19:48,811 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:19:48,814 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embeding_status AS file_embeding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 18:19:48,814 sqlalchemy.engine.Engine INFO [generated in 0.00060s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 18:19:48,819 root ERROR Error getting db session : 'embedding_status' is an invalid keyword argument for File
2025-07-17 18:19:48,819 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:19:48,820 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 66, in upload_file
    save_file(file_data, db)
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 20, in save_file
    db_session = models.File(**file.model_dump())
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2173, in _declarative_constructor
    raise TypeError(
TypeError: 'embedding_status' is an invalid keyword argument for File
2025-07-17 18:22:31,520 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\models.py')}
2025-07-17 18:22:31,520 uvicorn.error WARNING WatchFiles detected changes in 'models\models.py'. Reloading...
2025-07-17 18:22:31,574 uvicorn.error INFO Shutting down
2025-07-17 18:22:31,680 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:22:31,682 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:22:31,682 uvicorn.error INFO Finished server process [16900]
2025-07-17 18:22:32,834 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2705349783408'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\models\\__pycache__\\models.cpython-312.pyc.2705349783408')}
2025-07-17 18:22:33,891 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:22:33,891 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:22:33,892 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:22:33,892 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:22:33,893 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:22:33,893 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:22:33,893 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:22:33,894 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:22:33,894 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:22:33,894 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:22:33,895 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:22:33,895 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:22:34,195 uvicorn.error INFO Started server process [34116]
2025-07-17 18:22:34,196 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:22:34,197 uvicorn.error INFO Application startup complete.
2025-07-17 18:22:34,519 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 18:22:34,519 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 18:22:34,519 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 18:22:34,519 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:22:34,519 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 18:22:34,519 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 18:22:34,519 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:22:34,519 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 18:22:34,520 python_multipart.multipart DEBUG Calling on_part_data with data[158:16384]
2025-07-17 18:22:34,520 python_multipart.multipart DEBUG Calling on_part_data with data[0:205079]
2025-07-17 18:22:34,520 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 18:22:34,520 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 18:22:34,534 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:22:34,537 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 18:22:34,537 sqlalchemy.engine.Engine INFO [generated in 0.00053s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 18:22:34,539 root ERROR Error getting db session : (sqlite3.OperationalError) no such column: file.embedding_status
[SQL: SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?]
[parameters: ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-17 18:22:34,539 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:22:34,541 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: file.embedding_status

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 49, in upload_file
    file_data = db.query(models.File).filter(models.File.md5 == file_hash).first()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: file.embedding_status
[SQL: SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?]
[parameters: ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-17 18:22:42,995 uvicorn.error INFO Shutting down
2025-07-17 18:22:43,104 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:22:43,106 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:22:43,106 uvicorn.error INFO Finished server process [34116]
2025-07-17 18:22:43,309 uvicorn.error INFO Stopping reloader process [22804]
2025-07-17 18:23:00,707 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:23:00,707 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:23:00,708 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:00,708 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("user")
2025-07-17 18:23:00,709 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:00,709 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:23:00,709 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:00,710 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("session")
2025-07-17 18:23:00,710 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:00,710 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:23:00,711 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:00,711 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("chat_history")
2025-07-17 18:23:00,712 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:00,712 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:23:00,712 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:00,713 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("file")
2025-07-17 18:23:00,713 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:00,713 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:23:00,713 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:00,713 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("citation")
2025-07-17 18:23:00,714 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:00,714 sqlalchemy.engine.Engine INFO 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	email VARCHAR, 
	PRIMARY KEY (id)
)


2025-07-17 18:23:00,714 sqlalchemy.engine.Engine INFO [no key 0.00029s] ()
2025-07-17 18:23:00,730 sqlalchemy.engine.Engine INFO CREATE UNIQUE INDEX ix_user_email ON user (email)
2025-07-17 18:23:00,730 sqlalchemy.engine.Engine INFO [no key 0.00038s] ()
2025-07-17 18:23:00,739 sqlalchemy.engine.Engine INFO CREATE INDEX ix_user_id ON user (id)
2025-07-17 18:23:00,739 sqlalchemy.engine.Engine INFO [no key 0.00026s] ()
2025-07-17 18:23:00,750 sqlalchemy.engine.Engine INFO 
CREATE TABLE session (
	id INTEGER NOT NULL, 
	session_name VARCHAR, 
	session_type VARCHAR, 
	model_name VARCHAR, 
	temperature FLOAT, 
	file_id VARCHAR, 
	user_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-17 18:23:00,750 sqlalchemy.engine.Engine INFO [no key 0.00052s] ()
2025-07-17 18:23:00,759 sqlalchemy.engine.Engine INFO CREATE INDEX ix_session_id ON session (id)
2025-07-17 18:23:00,759 sqlalchemy.engine.Engine INFO [no key 0.00034s] ()
2025-07-17 18:23:00,768 sqlalchemy.engine.Engine INFO 
CREATE TABLE file (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	md5 VARCHAR, 
	file_name VARCHAR, 
	file_type VARCHAR, 
	file_path VARCHAR, 
	chunking_status VARCHAR, 
	embedding_status VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-17 18:23:00,768 sqlalchemy.engine.Engine INFO [no key 0.00037s] ()
2025-07-17 18:23:00,777 sqlalchemy.engine.Engine INFO CREATE INDEX ix_file_id ON file (id)
2025-07-17 18:23:00,778 sqlalchemy.engine.Engine INFO [no key 0.00039s] ()
2025-07-17 18:23:00,787 sqlalchemy.engine.Engine INFO 
CREATE TABLE chat_history (
	id INTEGER NOT NULL, 
	message VARCHAR, 
	message_type VARCHAR, 
	session_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(session_id) REFERENCES session (id)
)


2025-07-17 18:23:00,788 sqlalchemy.engine.Engine INFO [no key 0.00048s] ()
2025-07-17 18:23:00,798 sqlalchemy.engine.Engine INFO CREATE INDEX ix_chat_history_id ON chat_history (id)
2025-07-17 18:23:00,798 sqlalchemy.engine.Engine INFO [no key 0.00035s] ()
2025-07-17 18:23:00,807 sqlalchemy.engine.Engine INFO 
CREATE TABLE citation (
	id INTEGER NOT NULL, 
	citation VARCHAR, 
	file_name VARCHAR, 
	file_id INTEGER, 
	chat_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(chat_id) REFERENCES chat_history (id)
)


2025-07-17 18:23:00,807 sqlalchemy.engine.Engine INFO [no key 0.00056s] ()
2025-07-17 18:23:00,818 sqlalchemy.engine.Engine INFO CREATE INDEX ix_citation_id ON citation (id)
2025-07-17 18:23:00,818 sqlalchemy.engine.Engine INFO [no key 0.00038s] ()
2025-07-17 18:23:00,827 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:23:01,136 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-17 18:23:01,137 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-17 18:23:01,138 uvicorn.error INFO Started reloader process [2988] using WatchFiles
2025-07-17 18:23:03,027 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:23:03,027 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:23:03,028 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:03,028 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:23:03,028 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:03,029 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:23:03,029 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:03,029 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:23:03,029 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:03,030 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:23:03,030 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:23:03,030 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:23:03,318 uvicorn.error INFO Started server process [1640]
2025-07-17 18:23:03,320 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:23:03,322 uvicorn.error INFO Application startup complete.
2025-07-17 18:23:05,123 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 18:23:05,124 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 18:23:05,124 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 18:23:05,124 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:23:05,124 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 18:23:05,124 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 18:23:05,124 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:23:05,124 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 18:23:05,124 python_multipart.multipart DEBUG Calling on_part_data with data[158:114688]
2025-07-17 18:23:05,124 python_multipart.multipart DEBUG Calling on_part_data with data[0:106775]
2025-07-17 18:23:05,125 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 18:23:05,125 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 18:23:05,138 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:23:05,141 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 18:23:05,141 sqlalchemy.engine.Engine INFO [generated in 0.00048s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 18:23:05,147 sqlalchemy.engine.Engine INFO INSERT INTO file (user_id, md5, file_name, file_type, file_path, chunking_status, embedding_status) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-07-17 18:23:05,147 sqlalchemy.engine.Engine INFO [generated in 0.00039s] (1, '8f41101129fcdc1e72d0c7d8fc4a3970', 'RahulSharmaResume (1).pdf', 'pdf', 'user_files\\RahulSharmaResume (1).pdf', 'processing', 'processing')
2025-07-17 18:23:05,149 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:23:05,186 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:23:05,187 sqlalchemy.engine.Engine INFO SELECT file.id, file.user_id, file.md5, file.file_name, file.file_type, file.file_path, file.chunking_status, file.embedding_status 
FROM file 
WHERE file.id = ?
2025-07-17 18:23:05,187 sqlalchemy.engine.Engine INFO [generated in 0.00037s] (1,)
2025-07-17 18:23:05,189 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:23:05,262 watchfiles.main DEBUG 3 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-17 18:23:50,145 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:23:50,146 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.user_id = ?
2025-07-17 18:23:50,147 sqlalchemy.engine.Engine INFO [generated in 0.00043s] (1,)
2025-07-17 18:23:50,148 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:24:09,288 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 18:24:09,288 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 18:24:09,395 uvicorn.error INFO Shutting down
2025-07-17 18:24:09,503 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:24:09,504 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:24:09,505 uvicorn.error INFO Finished server process [1640]
2025-07-17 18:24:11,484 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2241954605808'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2241954605808'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc')}
2025-07-17 18:24:11,887 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:24:11,887 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:24:11,887 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:24:11,889 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:24:11,889 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:24:11,889 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:24:11,889 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:24:11,890 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:24:11,890 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:24:11,890 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:24:11,890 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:24:11,891 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:24:12,195 uvicorn.error INFO Started server process [844]
2025-07-17 18:24:12,198 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:24:12,199 uvicorn.error INFO Application startup complete.
2025-07-17 18:24:33,748 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:24:33,751 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.id = ?
 LIMIT ? OFFSET ?
2025-07-17 18:24:33,752 sqlalchemy.engine.Engine INFO [generated in 0.00049s] (1, 1, 0)
2025-07-17 18:24:33,753 root ERROR Error getting db session : File path user_files\RahulSharmaResume (1).pdf is not a valid file or url
2025-07-17 18:24:33,753 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:24:33,754 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 74, in doc_data
    return load_files(file.file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\langchain_wraper\file.py", line 6, in load_files
    loader = PyMuPDF4LLMLoader(file_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\langchain_pymupdf4llm\pymupdf4llm_loader.py", line 228, in __init__
    super().__init__(file_path, headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\langchain_pymupdf4llm\pymupdf4llm_loader.py", line 82, in __init__
    raise ValueError("File path %s is not a valid file or url" % self.file_path)
ValueError: File path user_files\RahulSharmaResume (1).pdf is not a valid file or url
2025-07-17 18:25:54,253 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 18:25:54,253 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 18:25:54,303 uvicorn.error INFO Shutting down
2025-07-17 18:25:54,413 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:25:54,414 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:25:54,415 uvicorn.error INFO Finished server process [844]
2025-07-17 18:25:56,186 watchfiles.main DEBUG 5 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2174066453232'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2174066453232'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc')}
2025-07-17 18:25:56,584 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:25:56,585 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:25:56,585 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:25:56,586 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:25:56,587 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:25:56,587 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:25:56,587 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:25:56,587 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:25:56,588 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:25:56,588 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:25:56,588 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:25:56,589 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:25:56,871 uvicorn.error INFO Started server process [26324]
2025-07-17 18:25:56,873 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:25:56,874 uvicorn.error INFO Application startup complete.
2025-07-17 18:25:58,276 uvicorn.error INFO Shutting down
2025-07-17 18:25:58,383 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:25:58,384 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:25:58,385 uvicorn.error INFO Finished server process [26324]
2025-07-17 18:25:58,636 uvicorn.error INFO Stopping reloader process [2988]
2025-07-17 18:26:33,426 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:26:33,426 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:26:33,428 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:33,428 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("user")
2025-07-17 18:26:33,428 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:33,429 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:26:33,429 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:33,429 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("session")
2025-07-17 18:26:33,430 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:33,430 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:26:33,430 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:33,430 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("chat_history")
2025-07-17 18:26:33,430 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:33,431 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:26:33,431 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:33,431 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("file")
2025-07-17 18:26:33,431 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:33,432 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:26:33,432 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:33,432 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("citation")
2025-07-17 18:26:33,432 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:33,433 sqlalchemy.engine.Engine INFO 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	email VARCHAR, 
	PRIMARY KEY (id)
)


2025-07-17 18:26:33,433 sqlalchemy.engine.Engine INFO [no key 0.00037s] ()
2025-07-17 18:26:33,450 sqlalchemy.engine.Engine INFO CREATE UNIQUE INDEX ix_user_email ON user (email)
2025-07-17 18:26:33,451 sqlalchemy.engine.Engine INFO [no key 0.00054s] ()
2025-07-17 18:26:33,459 sqlalchemy.engine.Engine INFO CREATE INDEX ix_user_id ON user (id)
2025-07-17 18:26:33,459 sqlalchemy.engine.Engine INFO [no key 0.00028s] ()
2025-07-17 18:26:33,469 sqlalchemy.engine.Engine INFO 
CREATE TABLE session (
	id INTEGER NOT NULL, 
	session_name VARCHAR, 
	session_type VARCHAR, 
	model_name VARCHAR, 
	temperature FLOAT, 
	file_id VARCHAR, 
	user_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-17 18:26:33,469 sqlalchemy.engine.Engine INFO [no key 0.00032s] ()
2025-07-17 18:26:33,478 sqlalchemy.engine.Engine INFO CREATE INDEX ix_session_id ON session (id)
2025-07-17 18:26:33,478 sqlalchemy.engine.Engine INFO [no key 0.00042s] ()
2025-07-17 18:26:33,487 sqlalchemy.engine.Engine INFO 
CREATE TABLE file (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	md5 VARCHAR, 
	file_name VARCHAR, 
	file_type VARCHAR, 
	file_path VARCHAR, 
	chunking_status VARCHAR, 
	embedding_status VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-17 18:26:33,487 sqlalchemy.engine.Engine INFO [no key 0.00047s] ()
2025-07-17 18:26:33,496 sqlalchemy.engine.Engine INFO CREATE INDEX ix_file_id ON file (id)
2025-07-17 18:26:33,496 sqlalchemy.engine.Engine INFO [no key 0.00037s] ()
2025-07-17 18:26:33,505 sqlalchemy.engine.Engine INFO 
CREATE TABLE chat_history (
	id INTEGER NOT NULL, 
	message VARCHAR, 
	message_type VARCHAR, 
	session_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(session_id) REFERENCES session (id)
)


2025-07-17 18:26:33,506 sqlalchemy.engine.Engine INFO [no key 0.00044s] ()
2025-07-17 18:26:33,515 sqlalchemy.engine.Engine INFO CREATE INDEX ix_chat_history_id ON chat_history (id)
2025-07-17 18:26:33,515 sqlalchemy.engine.Engine INFO [no key 0.00034s] ()
2025-07-17 18:26:33,524 sqlalchemy.engine.Engine INFO 
CREATE TABLE citation (
	id INTEGER NOT NULL, 
	citation VARCHAR, 
	file_name VARCHAR, 
	file_id INTEGER, 
	chat_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(chat_id) REFERENCES chat_history (id)
)


2025-07-17 18:26:33,524 sqlalchemy.engine.Engine INFO [no key 0.00044s] ()
2025-07-17 18:26:33,534 sqlalchemy.engine.Engine INFO CREATE INDEX ix_citation_id ON citation (id)
2025-07-17 18:26:33,534 sqlalchemy.engine.Engine INFO [no key 0.00034s] ()
2025-07-17 18:26:33,543 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:26:33,839 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-17 18:26:33,841 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-17 18:26:33,842 uvicorn.error INFO Started reloader process [18312] using WatchFiles
2025-07-17 18:26:35,729 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:26:35,729 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:26:35,729 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:35,730 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:26:35,731 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:35,731 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:26:35,731 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:35,732 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:26:35,732 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:35,732 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:26:35,734 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:35,734 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:26:36,014 uvicorn.error INFO Started server process [18816]
2025-07-17 18:26:36,015 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:26:36,017 uvicorn.error INFO Application startup complete.
2025-07-17 18:26:41,207 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 18:26:41,208 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 18:26:41,208 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 18:26:41,208 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:26:41,208 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 18:26:41,208 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 18:26:41,208 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:26:41,208 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 18:26:41,208 python_multipart.multipart DEBUG Calling on_part_data with data[158:114688]
2025-07-17 18:26:41,208 python_multipart.multipart DEBUG Calling on_part_data with data[0:106775]
2025-07-17 18:26:41,208 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 18:26:41,208 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 18:26:41,216 root ERROR Error getting db session : cannot access local variable 'file_data' where it is not associated with a value
2025-07-17 18:26:41,219 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 48, in upload_file
    file_path = os.path.join(FILE_URL, file_data + "." + file.filename.split(".")[-1])
                                       ^^^^^^^^^
UnboundLocalError: cannot access local variable 'file_data' where it is not associated with a value
2025-07-17 18:26:50,663 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 18:26:50,664 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 18:26:50,670 uvicorn.error INFO Shutting down
2025-07-17 18:26:50,778 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:26:50,779 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:26:50,781 uvicorn.error INFO Finished server process [18816]
2025-07-17 18:26:52,582 watchfiles.main DEBUG 5 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2754327177968'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2754327177968'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc')}
2025-07-17 18:26:53,010 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:26:53,011 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:26:53,011 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:53,011 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:26:53,011 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:53,012 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:26:53,012 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:53,012 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:26:53,012 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:53,012 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:26:53,012 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:26:53,014 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:26:53,303 uvicorn.error INFO Started server process [19068]
2025-07-17 18:26:53,305 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:26:53,306 uvicorn.error INFO Application startup complete.
2025-07-17 18:26:54,961 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 18:26:54,962 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 18:26:54,962 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 18:26:54,962 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:26:54,962 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 18:26:54,962 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 18:26:54,962 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:26:54,962 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 18:26:54,962 python_multipart.multipart DEBUG Calling on_part_data with data[158:221463]
2025-07-17 18:26:54,962 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 18:26:54,962 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 18:26:54,977 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:26:54,979 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 18:26:54,980 sqlalchemy.engine.Engine INFO [generated in 0.00048s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 18:26:54,985 sqlalchemy.engine.Engine INFO INSERT INTO file (user_id, md5, file_name, file_type, file_path, chunking_status, embedding_status) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-07-17 18:26:54,985 sqlalchemy.engine.Engine INFO [generated in 0.00058s] (1, '8f41101129fcdc1e72d0c7d8fc4a3970', 'RahulSharmaResume (1).pdf', 'pdf', 'user_files\\8f41101129fcdc1e72d0c7d8fc4a3970.pdf', 'processing', 'processing')
2025-07-17 18:26:54,988 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:26:54,997 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:26:54,999 sqlalchemy.engine.Engine INFO SELECT file.id, file.user_id, file.md5, file.file_name, file.file_type, file.file_path, file.chunking_status, file.embedding_status 
FROM file 
WHERE file.id = ?
2025-07-17 18:26:54,999 sqlalchemy.engine.Engine INFO [generated in 0.00035s] (1,)
2025-07-17 18:26:55,000 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:26:55,097 watchfiles.main DEBUG 3 changes detected: {(<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db')}
2025-07-17 18:27:03,007 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:27:03,008 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.user_id = ?
2025-07-17 18:27:03,009 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (1,)
2025-07-17 18:27:03,010 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:27:23,697 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:27:23,699 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.id = ?
 LIMIT ? OFFSET ?
2025-07-17 18:27:23,699 sqlalchemy.engine.Engine INFO [generated in 0.00041s] (1, 1, 0)
2025-07-17 18:27:23,700 root ERROR Error getting db session : File path user_files\8f41101129fcdc1e72d0c7d8fc4a3970.pdf is not a valid file or url
2025-07-17 18:27:23,701 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:27:23,703 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 75, in doc_data
    return load_files(file.file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\langchain_wraper\file.py", line 6, in load_files
    loader = PyMuPDF4LLMLoader(file_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\langchain_pymupdf4llm\pymupdf4llm_loader.py", line 228, in __init__
    super().__init__(file_path, headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\langchain_pymupdf4llm\pymupdf4llm_loader.py", line 82, in __init__
    raise ValueError("File path %s is not a valid file or url" % self.file_path)
ValueError: File path user_files\8f41101129fcdc1e72d0c7d8fc4a3970.pdf is not a valid file or url
2025-07-17 18:28:04,448 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 18:28:04,448 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 18:28:04,458 uvicorn.error INFO Shutting down
2025-07-17 18:28:04,565 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:28:04,567 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:28:04,568 uvicorn.error INFO Finished server process [19068]
2025-07-17 18:28:06,337 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2379237124848'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.2379237124848'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc')}
2025-07-17 18:28:06,789 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:28:06,789 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:28:06,791 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:28:06,791 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:28:06,791 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:28:06,792 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:28:06,792 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:28:06,792 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:28:06,793 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:28:06,794 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:28:06,794 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:28:06,795 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:28:07,080 uvicorn.error INFO Started server process [31028]
2025-07-17 18:28:07,082 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:28:07,083 uvicorn.error INFO Application startup complete.
2025-07-17 18:28:16,179 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 18:28:16,179 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 18:28:16,179 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 18:28:16,180 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:28:16,180 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 18:28:16,180 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 18:28:16,180 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:28:16,180 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 18:28:16,180 python_multipart.multipart DEBUG Calling on_part_data with data[158:98304]
2025-07-17 18:28:16,180 python_multipart.multipart DEBUG Calling on_part_data with data[0:123159]
2025-07-17 18:28:16,180 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 18:28:16,180 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 18:28:16,197 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:28:16,200 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 18:28:16,200 sqlalchemy.engine.Engine INFO [generated in 0.00041s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 18:28:16,201 root ERROR Error getting db session : 400: File alredy present
2025-07-17 18:28:16,201 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:30:24,355 uvicorn.error INFO Shutting down
2025-07-17 18:30:24,463 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:30:24,465 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:30:24,466 uvicorn.error INFO Finished server process [31028]
2025-07-17 18:30:24,673 uvicorn.error INFO Stopping reloader process [18312]
2025-07-17 18:30:35,596 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:30:35,596 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:30:35,596 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:35,597 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("user")
2025-07-17 18:30:35,597 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:35,598 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:30:35,598 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:35,600 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("session")
2025-07-17 18:30:35,600 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:35,600 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:30:35,600 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:35,601 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("chat_history")
2025-07-17 18:30:35,601 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:35,601 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:30:35,602 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:35,602 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("file")
2025-07-17 18:30:35,603 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:35,603 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:30:35,603 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:35,604 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("citation")
2025-07-17 18:30:35,604 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:35,605 sqlalchemy.engine.Engine INFO 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	email VARCHAR, 
	PRIMARY KEY (id)
)


2025-07-17 18:30:35,605 sqlalchemy.engine.Engine INFO [no key 0.00024s] ()
2025-07-17 18:30:35,620 sqlalchemy.engine.Engine INFO CREATE INDEX ix_user_id ON user (id)
2025-07-17 18:30:35,620 sqlalchemy.engine.Engine INFO [no key 0.00030s] ()
2025-07-17 18:30:35,629 sqlalchemy.engine.Engine INFO CREATE UNIQUE INDEX ix_user_email ON user (email)
2025-07-17 18:30:35,629 sqlalchemy.engine.Engine INFO [no key 0.00037s] ()
2025-07-17 18:30:35,639 sqlalchemy.engine.Engine INFO 
CREATE TABLE session (
	id INTEGER NOT NULL, 
	session_name VARCHAR, 
	session_type VARCHAR, 
	model_name VARCHAR, 
	temperature FLOAT, 
	file_id VARCHAR, 
	user_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-17 18:30:35,640 sqlalchemy.engine.Engine INFO [no key 0.00061s] ()
2025-07-17 18:30:35,649 sqlalchemy.engine.Engine INFO CREATE INDEX ix_session_id ON session (id)
2025-07-17 18:30:35,649 sqlalchemy.engine.Engine INFO [no key 0.00043s] ()
2025-07-17 18:30:35,660 sqlalchemy.engine.Engine INFO 
CREATE TABLE file (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	md5 VARCHAR, 
	file_name VARCHAR, 
	file_type VARCHAR, 
	file_path VARCHAR, 
	chunking_status VARCHAR, 
	embedding_status VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-17 18:30:35,660 sqlalchemy.engine.Engine INFO [no key 0.00075s] ()
2025-07-17 18:30:35,669 sqlalchemy.engine.Engine INFO CREATE INDEX ix_file_id ON file (id)
2025-07-17 18:30:35,670 sqlalchemy.engine.Engine INFO [no key 0.00049s] ()
2025-07-17 18:30:35,678 sqlalchemy.engine.Engine INFO 
CREATE TABLE chat_history (
	id INTEGER NOT NULL, 
	message VARCHAR, 
	message_type VARCHAR, 
	session_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(session_id) REFERENCES session (id)
)


2025-07-17 18:30:35,678 sqlalchemy.engine.Engine INFO [no key 0.00055s] ()
2025-07-17 18:30:35,690 sqlalchemy.engine.Engine INFO CREATE INDEX ix_chat_history_id ON chat_history (id)
2025-07-17 18:30:35,695 sqlalchemy.engine.Engine INFO [no key 0.00562s] ()
2025-07-17 18:30:35,704 sqlalchemy.engine.Engine INFO 
CREATE TABLE citation (
	id INTEGER NOT NULL, 
	citation VARCHAR, 
	file_name VARCHAR, 
	file_id INTEGER, 
	chat_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(chat_id) REFERENCES chat_history (id)
)


2025-07-17 18:30:35,706 sqlalchemy.engine.Engine INFO [no key 0.00051s] ()
2025-07-17 18:30:35,714 sqlalchemy.engine.Engine INFO CREATE INDEX ix_citation_id ON citation (id)
2025-07-17 18:30:35,715 sqlalchemy.engine.Engine INFO [no key 0.00114s] ()
2025-07-17 18:30:35,726 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:30:36,035 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-17 18:30:36,037 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-17 18:30:36,037 uvicorn.error INFO Started reloader process [4512] using WatchFiles
2025-07-17 18:30:37,894 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:30:37,895 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:30:37,895 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:37,897 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:30:37,897 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:37,898 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:30:37,898 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:37,898 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:30:37,898 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:37,898 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:30:37,898 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:30:37,900 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:30:38,180 uvicorn.error INFO Started server process [20652]
2025-07-17 18:30:38,183 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:30:38,184 uvicorn.error INFO Application startup complete.
2025-07-17 18:30:43,215 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 18:30:43,215 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 18:30:43,215 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 18:30:43,215 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:30:43,215 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 18:30:43,215 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 18:30:43,215 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:30:43,215 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 18:30:43,216 python_multipart.multipart DEBUG Calling on_part_data with data[158:16384]
2025-07-17 18:30:43,216 python_multipart.multipart DEBUG Calling on_part_data with data[0:205079]
2025-07-17 18:30:43,216 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 18:30:43,216 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 18:30:43,230 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:30:43,232 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 18:30:43,232 sqlalchemy.engine.Engine INFO [generated in 0.00047s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 18:30:43,237 sqlalchemy.engine.Engine INFO INSERT INTO file (user_id, md5, file_name, file_type, file_path, chunking_status, embedding_status) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-07-17 18:30:43,238 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (1, '8f41101129fcdc1e72d0c7d8fc4a3970', 'RahulSharmaResume (1).pdf', 'pdf', 'user_files\\8f41101129fcdc1e72d0c7d8fc4a3970.pdf', 'processing', 'processing')
2025-07-17 18:30:43,241 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:30:43,250 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:30:43,251 sqlalchemy.engine.Engine INFO SELECT file.id, file.user_id, file.md5, file.file_name, file.file_type, file.file_path, file.chunking_status, file.embedding_status 
FROM file 
WHERE file.id = ?
2025-07-17 18:30:43,251 sqlalchemy.engine.Engine INFO [generated in 0.00035s] (1,)
2025-07-17 18:30:43,252 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:30:43,323 watchfiles.main DEBUG 3 changes detected: {(<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-17 18:30:52,444 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:30:52,446 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.user_id = ?
2025-07-17 18:30:52,447 sqlalchemy.engine.Engine INFO [generated in 0.00061s] (1,)
2025-07-17 18:30:52,448 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:30:58,968 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:30:58,971 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.id = ?
 LIMIT ? OFFSET ?
2025-07-17 18:30:58,971 sqlalchemy.engine.Engine INFO [generated in 0.00073s] (1, 1, 0)
2025-07-17 18:30:58,973 root ERROR Error getting db session : File path user_files\8f41101129fcdc1e72d0c7d8fc4a3970.pdf is not a valid file or url
2025-07-17 18:30:58,973 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:30:58,975 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\routes\files.py", line 75, in doc_data
    return load_files(file.file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\dev\open_projects\simple_chat_interface\Backend\langchain_wraper\file.py", line 6, in load_files
    loader = PyMuPDF4LLMLoader(file_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\langchain_pymupdf4llm\pymupdf4llm_loader.py", line 228, in __init__
    super().__init__(file_path, headers=headers)
  File "d:\dev\open_projects\simple_chat_interface\.venv\Lib\site-packages\langchain_pymupdf4llm\pymupdf4llm_loader.py", line 82, in __init__
    raise ValueError("File path %s is not a valid file or url" % self.file_path)
ValueError: File path user_files\8f41101129fcdc1e72d0c7d8fc4a3970.pdf is not a valid file or url
2025-07-17 18:32:27,901 watchfiles.main DEBUG 1 change detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\files.py')}
2025-07-17 18:32:27,902 uvicorn.error WARNING WatchFiles detected changes in 'routes\files.py'. Reloading...
2025-07-17 18:32:27,925 uvicorn.error INFO Shutting down
2025-07-17 18:32:28,035 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:32:28,036 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:32:28,037 uvicorn.error INFO Finished server process [20652]
2025-07-17 18:32:29,808 watchfiles.main DEBUG 5 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.1222467480304'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\routes\\__pycache__\\files.cpython-312.pyc.1222467480304')}
2025-07-17 18:32:30,195 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:32:30,195 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:32:30,196 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:30,197 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:32:30,197 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:30,198 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:32:30,198 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:30,198 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:32:30,198 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:30,199 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:32:30,199 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:30,199 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:32:30,478 uvicorn.error INFO Started server process [10204]
2025-07-17 18:32:30,480 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:32:30,481 uvicorn.error INFO Application startup complete.
2025-07-17 18:32:31,471 uvicorn.error INFO Shutting down
2025-07-17 18:32:31,582 uvicorn.error INFO Waiting for application shutdown.
2025-07-17 18:32:31,583 uvicorn.error INFO Application shutdown complete.
2025-07-17 18:32:31,585 uvicorn.error INFO Finished server process [10204]
2025-07-17 18:32:31,785 uvicorn.error INFO Stopping reloader process [4512]
2025-07-17 18:32:44,962 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:32:44,962 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:32:44,963 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:44,963 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("user")
2025-07-17 18:32:44,964 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:44,964 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:32:44,964 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:44,965 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("session")
2025-07-17 18:32:44,965 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:44,965 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:32:44,965 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:44,966 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("chat_history")
2025-07-17 18:32:44,966 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:44,967 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:32:44,967 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:44,967 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("file")
2025-07-17 18:32:44,968 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:44,968 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:32:44,968 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:44,969 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("citation")
2025-07-17 18:32:44,969 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:44,971 sqlalchemy.engine.Engine INFO 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	email VARCHAR, 
	PRIMARY KEY (id)
)


2025-07-17 18:32:44,971 sqlalchemy.engine.Engine INFO [no key 0.00038s] ()
2025-07-17 18:32:45,033 sqlalchemy.engine.Engine INFO CREATE UNIQUE INDEX ix_user_email ON user (email)
2025-07-17 18:32:45,033 sqlalchemy.engine.Engine INFO [no key 0.00042s] ()
2025-07-17 18:32:45,070 sqlalchemy.engine.Engine INFO CREATE INDEX ix_user_id ON user (id)
2025-07-17 18:32:45,070 sqlalchemy.engine.Engine INFO [no key 0.00029s] ()
2025-07-17 18:32:45,101 sqlalchemy.engine.Engine INFO 
CREATE TABLE session (
	id INTEGER NOT NULL, 
	session_name VARCHAR, 
	session_type VARCHAR, 
	model_name VARCHAR, 
	temperature FLOAT, 
	file_id VARCHAR, 
	user_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-17 18:32:45,101 sqlalchemy.engine.Engine INFO [no key 0.00041s] ()
2025-07-17 18:32:45,145 sqlalchemy.engine.Engine INFO CREATE INDEX ix_session_id ON session (id)
2025-07-17 18:32:45,145 sqlalchemy.engine.Engine INFO [no key 0.00035s] ()
2025-07-17 18:32:45,182 sqlalchemy.engine.Engine INFO 
CREATE TABLE file (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	md5 VARCHAR, 
	file_name VARCHAR, 
	file_type VARCHAR, 
	file_path VARCHAR, 
	chunking_status VARCHAR, 
	embedding_status VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-07-17 18:32:45,183 sqlalchemy.engine.Engine INFO [no key 0.00061s] ()
2025-07-17 18:32:45,219 sqlalchemy.engine.Engine INFO CREATE INDEX ix_file_id ON file (id)
2025-07-17 18:32:45,219 sqlalchemy.engine.Engine INFO [no key 0.00035s] ()
2025-07-17 18:32:45,261 sqlalchemy.engine.Engine INFO 
CREATE TABLE chat_history (
	id INTEGER NOT NULL, 
	message VARCHAR, 
	message_type VARCHAR, 
	session_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(session_id) REFERENCES session (id)
)


2025-07-17 18:32:45,261 sqlalchemy.engine.Engine INFO [no key 0.00045s] ()
2025-07-17 18:32:45,306 sqlalchemy.engine.Engine INFO CREATE INDEX ix_chat_history_id ON chat_history (id)
2025-07-17 18:32:45,307 sqlalchemy.engine.Engine INFO [no key 0.00039s] ()
2025-07-17 18:32:45,348 sqlalchemy.engine.Engine INFO 
CREATE TABLE citation (
	id INTEGER NOT NULL, 
	citation VARCHAR, 
	file_name VARCHAR, 
	file_id INTEGER, 
	chat_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(chat_id) REFERENCES chat_history (id)
)


2025-07-17 18:32:45,350 sqlalchemy.engine.Engine INFO [no key 0.00061s] ()
2025-07-17 18:32:45,379 sqlalchemy.engine.Engine INFO CREATE INDEX ix_citation_id ON citation (id)
2025-07-17 18:32:45,380 sqlalchemy.engine.Engine INFO [no key 0.00038s] ()
2025-07-17 18:32:45,423 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:32:45,759 uvicorn.error INFO Will watch for changes in these directories: ['D:\\dev\\open_projects\\simple_chat_interface\\backend']
2025-07-17 18:32:45,760 uvicorn.error INFO Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-17 18:32:45,761 uvicorn.error INFO Started reloader process [22156] using WatchFiles
2025-07-17 18:32:47,610 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:32:47,610 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-07-17 18:32:47,610 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:47,611 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-07-17 18:32:47,611 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:47,611 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-07-17 18:32:47,611 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:47,611 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-07-17 18:32:47,611 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:47,613 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-07-17 18:32:47,613 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-07-17 18:32:47,613 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:32:47,897 uvicorn.error INFO Started server process [24640]
2025-07-17 18:32:47,900 uvicorn.error INFO Waiting for application startup.
2025-07-17 18:32:47,901 uvicorn.error INFO Application startup complete.
2025-07-17 18:33:10,842 python_multipart.multipart DEBUG Calling on_part_begin with no data
2025-07-17 18:33:10,844 python_multipart.multipart DEBUG Calling on_header_field with data[42:61]
2025-07-17 18:33:10,844 python_multipart.multipart DEBUG Calling on_header_value with data[63:123]
2025-07-17 18:33:10,844 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:33:10,844 python_multipart.multipart DEBUG Calling on_header_field with data[125:137]
2025-07-17 18:33:10,844 python_multipart.multipart DEBUG Calling on_header_value with data[139:154]
2025-07-17 18:33:10,844 python_multipart.multipart DEBUG Calling on_header_end with no data
2025-07-17 18:33:10,844 python_multipart.multipart DEBUG Calling on_headers_finished with no data
2025-07-17 18:33:10,844 python_multipart.multipart DEBUG Calling on_part_data with data[158:16384]
2025-07-17 18:33:10,844 python_multipart.multipart DEBUG Calling on_part_data with data[0:205079]
2025-07-17 18:33:10,844 python_multipart.multipart DEBUG Calling on_part_end with no data
2025-07-17 18:33:10,845 python_multipart.multipart DEBUG Calling on_end with no data
2025-07-17 18:33:10,860 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:33:10,862 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.md5 = ?
 LIMIT ? OFFSET ?
2025-07-17 18:33:10,863 sqlalchemy.engine.Engine INFO [generated in 0.00048s] ('8f41101129fcdc1e72d0c7d8fc4a3970', 1, 0)
2025-07-17 18:33:10,866 sqlalchemy.engine.Engine INFO INSERT INTO file (user_id, md5, file_name, file_type, file_path, chunking_status, embedding_status) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-07-17 18:33:10,867 sqlalchemy.engine.Engine INFO [generated in 0.00047s] (1, '8f41101129fcdc1e72d0c7d8fc4a3970', 'RahulSharmaResume (1).pdf', 'pdf', 'user_files/8f41101129fcdc1e72d0c7d8fc4a3970.pdf', 'processing', 'processing')
2025-07-17 18:33:10,871 sqlalchemy.engine.Engine INFO COMMIT
2025-07-17 18:33:10,880 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:33:10,881 sqlalchemy.engine.Engine INFO SELECT file.id, file.user_id, file.md5, file.file_name, file.file_type, file.file_path, file.chunking_status, file.embedding_status 
FROM file 
WHERE file.id = ?
2025-07-17 18:33:10,882 sqlalchemy.engine.Engine INFO [generated in 0.00042s] (1,)
2025-07-17 18:33:10,883 sqlalchemy.engine.Engine INFO ROLLBACK
2025-07-17 18:33:10,937 watchfiles.main DEBUG 3 changes detected: {(<Change.modified: 2>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db'), (<Change.deleted: 3>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal'), (<Change.added: 1>, 'D:\\dev\\open_projects\\simple_chat_interface\\backend\\.database.db-journal')}
2025-07-17 18:33:15,862 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-07-17 18:33:15,863 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.user_id = ?
2025-07-17 18:33:15,863 sqlalchemy.engine.Engine INFO [generated in 0.00043s] (1,)
2025-07-17 18:33:15,865 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 21:52:30,769 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 21:52:30,770 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-09-10 21:52:30,771 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 21:52:30,776 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-09-10 21:52:30,778 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 21:52:30,779 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-09-10 21:52:30,779 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 21:52:30,780 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-09-10 21:52:30,781 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 21:52:30,781 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-09-10 21:52:30,782 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 21:52:30,783 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 21:52:51,842 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 21:52:51,846 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user
2025-09-10 21:52:51,846 sqlalchemy.engine.Engine INFO [generated in 0.00048s] ()
2025-09-10 21:52:51,849 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 21:52:54,705 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 21:52:54,706 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user
2025-09-10 21:52:54,706 sqlalchemy.engine.Engine INFO [cached since 2.86s ago] ()
2025-09-10 21:52:54,710 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 21:53:02,011 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 21:53:02,014 sqlalchemy.engine.Engine INFO INSERT INTO user (name, email) VALUES (?, ?)
2025-09-10 21:53:02,015 sqlalchemy.engine.Engine INFO [generated in 0.00101s] ('string', 'string')
2025-09-10 21:53:02,021 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 21:53:02,060 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 21:53:02,063 sqlalchemy.engine.Engine INFO SELECT user.id, user.name, user.email 
FROM user 
WHERE user.id = ?
2025-09-10 21:53:02,063 sqlalchemy.engine.Engine INFO [generated in 0.00076s] (1,)
2025-09-10 21:53:02,067 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 21:53:07,153 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 21:53:07,154 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user
2025-09-10 21:53:07,154 sqlalchemy.engine.Engine INFO [cached since 15.31s ago] ()
2025-09-10 21:53:07,158 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 21:53:36,520 root ERROR Error getting db session : 'files' is an invalid keyword argument for Session
2025-09-10 22:03:19,383 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:03:19,383 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-09-10 22:03:19,384 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:03:19,385 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("user")
2025-09-10 22:03:19,386 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:03:19,386 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-09-10 22:03:19,387 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:03:19,387 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("session")
2025-09-10 22:03:19,388 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:03:19,388 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-09-10 22:03:19,389 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:03:19,390 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("chat_history")
2025-09-10 22:03:19,391 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:03:19,391 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-09-10 22:03:19,391 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:03:19,394 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("file")
2025-09-10 22:03:19,394 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:03:19,394 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-09-10 22:03:19,396 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:03:19,396 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("citation")
2025-09-10 22:03:19,397 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:03:19,399 sqlalchemy.engine.Engine INFO 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	email VARCHAR, 
	PRIMARY KEY (id)
)


2025-09-10 22:03:19,400 sqlalchemy.engine.Engine INFO [no key 0.00082s] ()
2025-09-10 22:03:19,420 sqlalchemy.engine.Engine INFO CREATE INDEX ix_user_id ON user (id)
2025-09-10 22:03:19,420 sqlalchemy.engine.Engine INFO [no key 0.00049s] ()
2025-09-10 22:03:19,433 sqlalchemy.engine.Engine INFO CREATE UNIQUE INDEX ix_user_email ON user (email)
2025-09-10 22:03:19,433 sqlalchemy.engine.Engine INFO [no key 0.00053s] ()
2025-09-10 22:03:19,446 sqlalchemy.engine.Engine INFO 
CREATE TABLE session (
	id INTEGER NOT NULL, 
	session_name VARCHAR, 
	session_type VARCHAR, 
	model_name VARCHAR, 
	temperature FLOAT, 
	file_id VARCHAR, 
	user_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-09-10 22:03:19,446 sqlalchemy.engine.Engine INFO [no key 0.00082s] ()
2025-09-10 22:03:19,458 sqlalchemy.engine.Engine INFO CREATE INDEX ix_session_id ON session (id)
2025-09-10 22:03:19,459 sqlalchemy.engine.Engine INFO [no key 0.00064s] ()
2025-09-10 22:03:19,471 sqlalchemy.engine.Engine INFO 
CREATE TABLE file (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	md5 VARCHAR, 
	file_name VARCHAR, 
	file_type VARCHAR, 
	file_path VARCHAR, 
	chunking_status VARCHAR, 
	embedding_status VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-09-10 22:03:19,471 sqlalchemy.engine.Engine INFO [no key 0.00099s] ()
2025-09-10 22:03:19,487 sqlalchemy.engine.Engine INFO CREATE INDEX ix_file_id ON file (id)
2025-09-10 22:03:19,489 sqlalchemy.engine.Engine INFO [no key 0.00106s] ()
2025-09-10 22:03:19,500 sqlalchemy.engine.Engine INFO 
CREATE TABLE chat_history (
	id INTEGER NOT NULL, 
	message VARCHAR, 
	message_type VARCHAR, 
	session_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(session_id) REFERENCES session (id)
)


2025-09-10 22:03:19,501 sqlalchemy.engine.Engine INFO [no key 0.00063s] ()
2025-09-10 22:03:19,519 sqlalchemy.engine.Engine INFO CREATE INDEX ix_chat_history_id ON chat_history (id)
2025-09-10 22:03:19,519 sqlalchemy.engine.Engine INFO [no key 0.00510s] ()
2025-09-10 22:03:19,532 sqlalchemy.engine.Engine INFO 
CREATE TABLE citation (
	id INTEGER NOT NULL, 
	citation VARCHAR, 
	file_name VARCHAR, 
	file_id INTEGER, 
	chat_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(chat_id) REFERENCES chat_history (id)
)


2025-09-10 22:03:19,533 sqlalchemy.engine.Engine INFO [no key 0.00090s] ()
2025-09-10 22:03:19,544 sqlalchemy.engine.Engine INFO CREATE INDEX ix_citation_id ON citation (id)
2025-09-10 22:03:19,545 sqlalchemy.engine.Engine INFO [no key 0.00063s] ()
2025-09-10 22:03:19,556 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:03:33,042 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:03:33,046 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-09-10 22:03:33,047 sqlalchemy.engine.Engine INFO [generated in 0.00113s] (1,)
2025-09-10 22:03:33,051 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:03:33,158 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:03:33,160 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-09-10 22:03:33,160 sqlalchemy.engine.Engine INFO [cached since 0.114s ago] (1,)
2025-09-10 22:03:33,164 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:04:31,200 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:04:31,202 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-09-10 22:04:31,203 sqlalchemy.engine.Engine INFO [cached since 58.16s ago] (1,)
2025-09-10 22:04:31,206 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:04:31,213 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:04:31,215 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id 
FROM session 
WHERE session.user_id = ?
2025-09-10 22:04:31,216 sqlalchemy.engine.Engine INFO [cached since 58.17s ago] (1,)
2025-09-10 22:04:31,219 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:07:23,942 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:07:23,946 sqlalchemy.engine.Engine INFO INSERT INTO user (name, email) VALUES (?, ?)
2025-09-10 22:07:23,947 sqlalchemy.engine.Engine INFO [generated in 0.00063s] ('string', 'string')
2025-09-10 22:07:23,950 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:07:23,960 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:07:23,962 sqlalchemy.engine.Engine INFO SELECT user.id, user.name, user.email 
FROM user 
WHERE user.id = ?
2025-09-10 22:07:23,962 sqlalchemy.engine.Engine INFO [generated in 0.00053s] (1,)
2025-09-10 22:07:23,965 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:07:28,470 root ERROR Error getting db session : 'files' is an invalid keyword argument for Session
2025-09-10 22:08:47,234 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:08:47,235 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-09-10 22:08:47,236 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:08:47,237 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-09-10 22:08:47,238 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:08:47,239 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-09-10 22:08:47,239 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:08:47,240 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-09-10 22:08:47,240 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:08:47,240 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-09-10 22:08:47,242 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:08:47,243 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:08:52,734 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:08:52,742 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, file_id, user_id, files) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-09-10 22:08:52,743 sqlalchemy.engine.Engine INFO [generated in 0.00392s] ('string', 'string', 'string', 0.0, None, 1, 'string')
2025-09-10 22:08:52,744 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:08:52,745 root ERROR Error getting db session : (sqlite3.OperationalError) table session has no column named files
[SQL: INSERT INTO session (session_name, session_type, model_name, temperature, file_id, user_id, files) VALUES (?, ?, ?, ?, ?, ?, ?)]
[parameters: ('string', 'string', 'string', 0.0, None, 1, 'string')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-09-10 22:09:14,743 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:09:14,744 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-09-10 22:09:14,744 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:14,746 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-09-10 22:09:14,746 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:14,747 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-09-10 22:09:14,747 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:14,748 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-09-10 22:09:14,748 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:14,749 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-09-10 22:09:14,749 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:14,750 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:09:23,584 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:09:23,587 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, file_id, user_id, files) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-09-10 22:09:23,587 sqlalchemy.engine.Engine INFO [generated in 0.00070s] ('string', 'string', 'string', 0.0, None, 1, 'string')
2025-09-10 22:09:23,588 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:09:23,590 root ERROR Error getting db session : (sqlite3.OperationalError) table session has no column named files
[SQL: INSERT INTO session (session_name, session_type, model_name, temperature, file_id, user_id, files) VALUES (?, ?, ?, ?, ?, ?, ?)]
[parameters: ('string', 'string', 'string', 0.0, None, 1, 'string')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-09-10 22:09:47,228 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:09:47,229 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-09-10 22:09:47,229 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:47,230 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("user")
2025-09-10 22:09:47,231 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:47,232 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-09-10 22:09:47,232 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:47,233 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("session")
2025-09-10 22:09:47,234 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:47,235 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-09-10 22:09:47,235 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:47,236 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("chat_history")
2025-09-10 22:09:47,236 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:47,237 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-09-10 22:09:47,238 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:47,238 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("file")
2025-09-10 22:09:47,239 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:47,240 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-09-10 22:09:47,240 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:47,241 sqlalchemy.engine.Engine INFO PRAGMA temp.table_info("citation")
2025-09-10 22:09:47,241 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:09:47,242 sqlalchemy.engine.Engine INFO 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	email VARCHAR, 
	PRIMARY KEY (id)
)


2025-09-10 22:09:47,243 sqlalchemy.engine.Engine INFO [no key 0.00068s] ()
2025-09-10 22:09:47,259 sqlalchemy.engine.Engine INFO CREATE INDEX ix_user_id ON user (id)
2025-09-10 22:09:47,261 sqlalchemy.engine.Engine INFO [no key 0.00063s] ()
2025-09-10 22:09:47,278 sqlalchemy.engine.Engine INFO CREATE UNIQUE INDEX ix_user_email ON user (email)
2025-09-10 22:09:47,281 sqlalchemy.engine.Engine INFO [no key 0.00366s] ()
2025-09-10 22:09:47,297 sqlalchemy.engine.Engine INFO 
CREATE TABLE session (
	id INTEGER NOT NULL, 
	session_name VARCHAR, 
	session_type VARCHAR, 
	model_name VARCHAR, 
	temperature FLOAT, 
	file_id VARCHAR, 
	user_id INTEGER, 
	files VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-09-10 22:09:47,298 sqlalchemy.engine.Engine INFO [no key 0.00095s] ()
2025-09-10 22:09:47,312 sqlalchemy.engine.Engine INFO CREATE INDEX ix_session_id ON session (id)
2025-09-10 22:09:47,314 sqlalchemy.engine.Engine INFO [no key 0.00188s] ()
2025-09-10 22:09:47,327 sqlalchemy.engine.Engine INFO 
CREATE TABLE file (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	md5 VARCHAR, 
	file_name VARCHAR, 
	file_type VARCHAR, 
	file_path VARCHAR, 
	chunking_status VARCHAR, 
	embedding_status VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-09-10 22:09:47,328 sqlalchemy.engine.Engine INFO [no key 0.00094s] ()
2025-09-10 22:09:47,340 sqlalchemy.engine.Engine INFO CREATE INDEX ix_file_id ON file (id)
2025-09-10 22:09:47,341 sqlalchemy.engine.Engine INFO [no key 0.00077s] ()
2025-09-10 22:09:47,351 sqlalchemy.engine.Engine INFO 
CREATE TABLE chat_history (
	id INTEGER NOT NULL, 
	message VARCHAR, 
	message_type VARCHAR, 
	session_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(session_id) REFERENCES session (id)
)


2025-09-10 22:09:47,351 sqlalchemy.engine.Engine INFO [no key 0.00066s] ()
2025-09-10 22:09:47,369 sqlalchemy.engine.Engine INFO CREATE INDEX ix_chat_history_id ON chat_history (id)
2025-09-10 22:09:47,370 sqlalchemy.engine.Engine INFO [no key 0.00601s] ()
2025-09-10 22:09:47,382 sqlalchemy.engine.Engine INFO 
CREATE TABLE citation (
	id INTEGER NOT NULL, 
	citation VARCHAR, 
	file_name VARCHAR, 
	file_id INTEGER, 
	chat_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(chat_id) REFERENCES chat_history (id)
)


2025-09-10 22:09:47,383 sqlalchemy.engine.Engine INFO [no key 0.00091s] ()
2025-09-10 22:09:47,393 sqlalchemy.engine.Engine INFO CREATE INDEX ix_citation_id ON citation (id)
2025-09-10 22:09:47,393 sqlalchemy.engine.Engine INFO [no key 0.00053s] ()
2025-09-10 22:09:47,403 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:09:54,580 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:09:54,586 sqlalchemy.engine.Engine INFO INSERT INTO user (name, email) VALUES (?, ?)
2025-09-10 22:09:54,586 sqlalchemy.engine.Engine INFO [generated in 0.00129s] ('string', 'string')
2025-09-10 22:09:54,591 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:09:54,604 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:09:54,609 sqlalchemy.engine.Engine INFO SELECT user.id, user.name, user.email 
FROM user 
WHERE user.id = ?
2025-09-10 22:09:54,609 sqlalchemy.engine.Engine INFO [generated in 0.00091s] (1,)
2025-09-10 22:09:54,613 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:09:57,296 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:09:57,298 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, file_id, user_id, files) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-09-10 22:09:57,299 sqlalchemy.engine.Engine INFO [generated in 0.00083s] ('string', 'string', 'string', 0.0, None, 1, 'string')
2025-09-10 22:09:57,303 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:09:57,313 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:09:57,316 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.file_id, session.user_id, session.files 
FROM session 
WHERE session.id = ?
2025-09-10 22:09:57,317 sqlalchemy.engine.Engine INFO [generated in 0.00090s] (1,)
2025-09-10 22:09:57,322 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-09-10 22:09:57,323 sqlalchemy.engine.Engine INFO [generated in 0.00086s] (1,)
2025-09-10 22:09:57,325 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:11:45,140 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:11:45,142 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.user_id = ?
2025-09-10 22:11:45,143 sqlalchemy.engine.Engine INFO [generated in 0.00072s] (1,)
2025-09-10 22:11:45,146 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:11:45,155 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:11:45,156 sqlalchemy.engine.Engine INFO SELECT file.id AS file_id, file.user_id AS file_user_id, file.md5 AS file_md5, file.file_name AS file_file_name, file.file_type AS file_file_type, file.file_path AS file_file_path, file.chunking_status AS file_chunking_status, file.embedding_status AS file_embedding_status 
FROM file 
WHERE file.user_id = ?
2025-09-10 22:11:45,157 sqlalchemy.engine.Engine INFO [cached since 0.01504s ago] (1,)
2025-09-10 22:11:45,160 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:12:10,450 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:12:10,453 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.user_id = ?
2025-09-10 22:12:10,453 sqlalchemy.engine.Engine INFO [generated in 0.00099s] (1,)
2025-09-10 22:12:10,456 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-09-10 22:12:10,457 sqlalchemy.engine.Engine INFO [cached since 133.1s ago] (1,)
2025-09-10 22:12:10,459 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:12:17,775 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:12:17,776 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, file_id, user_id, files) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-09-10 22:12:17,776 sqlalchemy.engine.Engine INFO [cached since 140.5s ago] ('\nhi', 'chat', 'goekdenizguelmez/JOSIEFIED-Qwen3:0.6b', 0.0, None, 1, '')
2025-09-10 22:12:17,779 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:12:17,790 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:12:17,792 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.file_id, session.user_id, session.files 
FROM session 
WHERE session.id = ?
2025-09-10 22:12:17,792 sqlalchemy.engine.Engine INFO [cached since 140.5s ago] (2,)
2025-09-10 22:12:17,794 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-09-10 22:12:17,795 sqlalchemy.engine.Engine INFO [cached since 140.5s ago] (1,)
2025-09-10 22:12:17,796 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:12:17,862 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:12:17,864 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 22:12:17,864 sqlalchemy.engine.Engine INFO [generated in 0.00083s] (2,)
2025-09-10 22:12:17,869 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:12:17,914 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:12:17,916 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-09-10 22:12:17,917 sqlalchemy.engine.Engine INFO [generated in 0.00064s] ('\nhi', 'user', 2)
2025-09-10 22:12:17,920 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:12:17,930 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:12:17,931 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-09-10 22:12:17,931 sqlalchemy.engine.Engine INFO [generated in 0.00069s] (1,)
2025-09-10 22:12:17,934 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:12:17,936 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:12:17,937 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 22:12:17,941 sqlalchemy.engine.Engine INFO [cached since 0.07742s ago] (2,)
2025-09-10 22:12:17,979 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-09-10 22:12:17,979 sqlalchemy.engine.Engine INFO [generated in 0.00094s] (2, 1, 0)
2025-09-10 22:12:17,983 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:12:17,983 sqlalchemy.engine.Engine INFO [generated in 0.00062s] (2,)
2025-09-10 22:12:17,986 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-09-10 22:12:17,987 sqlalchemy.engine.Engine INFO [cached since 0.009663s ago] (2, 1, 0)
2025-09-10 22:12:17,991 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:12:17,992 sqlalchemy.engine.Engine INFO [cached since 0.008526s ago] (2,)
2025-09-10 22:12:17,995 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-09-10 22:12:18,268 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020A01599400>
2025-09-10 22:12:18,269 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-09-10 22:12:18,269 httpcore.http11 DEBUG send_request_headers.complete
2025-09-10 22:12:18,270 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-09-10 22:12:18,270 httpcore.http11 DEBUG send_request_body.complete
2025-09-10 22:12:18,270 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-09-10 22:12:38,284 httpcore.http11 DEBUG receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2025-09-10 22:12:38,284 httpcore.http11 DEBUG response_closed.started
2025-09-10 22:12:38,285 httpcore.http11 DEBUG response_closed.complete
2025-09-10 22:13:33,760 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:13:33,760 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-09-10 22:13:33,760 sqlalchemy.engine.Engine INFO [cached since 75.84s ago] ('hi\n', 'user', 2)
2025-09-10 22:13:33,765 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:13:33,775 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:13:33,776 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-09-10 22:13:33,776 sqlalchemy.engine.Engine INFO [cached since 75.85s ago] (2,)
2025-09-10 22:13:33,779 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:13:33,781 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:13:33,782 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 22:13:33,782 sqlalchemy.engine.Engine INFO [cached since 75.92s ago] (2,)
2025-09-10 22:13:33,784 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-09-10 22:13:33,785 sqlalchemy.engine.Engine INFO [cached since 75.81s ago] (2, 1, 0)
2025-09-10 22:13:33,787 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:13:33,788 sqlalchemy.engine.Engine INFO [cached since 75.81s ago] (2,)
2025-09-10 22:13:33,790 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-09-10 22:13:33,790 sqlalchemy.engine.Engine INFO [cached since 75.81s ago] (2, 1, 0)
2025-09-10 22:13:33,792 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:13:33,792 sqlalchemy.engine.Engine INFO [cached since 75.81s ago] (2,)
2025-09-10 22:13:33,795 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-09-10 22:13:34,053 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020A051A8950>
2025-09-10 22:13:34,053 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-09-10 22:13:34,054 httpcore.http11 DEBUG send_request_headers.complete
2025-09-10 22:13:34,054 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-09-10 22:13:34,054 httpcore.http11 DEBUG send_request_body.complete
2025-09-10 22:13:34,055 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-09-10 22:13:45,367 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Wed, 10 Sep 2025 16:43:45 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-09-10 22:13:45,369 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-09-10 22:13:45,369 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-09-10 22:13:51,129 httpcore.http11 DEBUG receive_response_body.complete
2025-09-10 22:13:51,129 httpcore.http11 DEBUG response_closed.started
2025-09-10 22:13:51,129 httpcore.http11 DEBUG response_closed.complete
2025-09-10 22:13:51,131 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-09-10 22:13:51,132 sqlalchemy.engine.Engine INFO [cached since 93.22s ago] ('<think>\nOkay, the user just said "hi". I need to respond politely. Since I\'m Josie, I should acknowledge their greeting. I should make sure to be f ... (199 characters truncated) ... y other detail I need to include, but seems straightforward. Just a simple, friendly reply should do.\n</think>\n\nHello! How can I assist you today?', 'assistant', 2)
2025-09-10 22:13:51,137 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:13:51,148 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:13:51,149 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-09-10 22:13:51,150 sqlalchemy.engine.Engine INFO [cached since 93.22s ago] (3,)
2025-09-10 22:15:14,750 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:15:14,752 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.user_id = ?
2025-09-10 22:15:14,752 sqlalchemy.engine.Engine INFO [cached since 184.3s ago] (1,)
2025-09-10 22:15:14,756 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-09-10 22:15:14,757 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:15:14,757 sqlalchemy.engine.Engine INFO [cached since 317.4s ago] (1,)
2025-09-10 22:15:14,758 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 22:15:14,759 sqlalchemy.engine.Engine INFO [cached since 176.9s ago] (2,)
2025-09-10 22:15:14,761 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:15:14,763 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:15:14,764 sqlalchemy.engine.Engine INFO [cached since 176.8s ago] (2,)
2025-09-10 22:15:14,769 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:15:14,770 sqlalchemy.engine.Engine INFO [cached since 176.8s ago] (2,)
2025-09-10 22:15:14,773 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:15:26,578 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:15:26,579 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.user_id = ?
2025-09-10 22:15:26,581 sqlalchemy.engine.Engine INFO [cached since 196.1s ago] (1,)
2025-09-10 22:15:26,583 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-09-10 22:15:26,583 sqlalchemy.engine.Engine INFO [cached since 329.3s ago] (1,)
2025-09-10 22:15:26,585 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:15:26,598 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:15:26,599 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.user_id = ?
2025-09-10 22:15:26,599 sqlalchemy.engine.Engine INFO [cached since 196.1s ago] (1,)
2025-09-10 22:15:26,603 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-09-10 22:15:26,604 sqlalchemy.engine.Engine INFO [cached since 329.3s ago] (1,)
2025-09-10 22:15:26,605 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:15:28,301 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:15:28,302 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 22:15:28,303 sqlalchemy.engine.Engine INFO [cached since 190.4s ago] (2,)
2025-09-10 22:15:28,305 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:15:28,306 sqlalchemy.engine.Engine INFO [cached since 190.3s ago] (2,)
2025-09-10 22:15:28,309 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:15:28,309 sqlalchemy.engine.Engine INFO [cached since 190.3s ago] (2,)
2025-09-10 22:15:28,312 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:15:31,669 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:15:31,670 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-09-10 22:15:31,671 sqlalchemy.engine.Engine INFO [cached since 193.8s ago] ('hi', 'user', 2)
2025-09-10 22:15:31,674 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:15:31,686 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:15:31,687 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-09-10 22:15:31,687 sqlalchemy.engine.Engine INFO [cached since 193.8s ago] (4,)
2025-09-10 22:15:31,689 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:15:31,692 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:15:31,693 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 22:15:31,694 sqlalchemy.engine.Engine INFO [cached since 193.8s ago] (2,)
2025-09-10 22:15:31,697 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-09-10 22:15:31,697 sqlalchemy.engine.Engine INFO [cached since 193.7s ago] (2, 1, 0)
2025-09-10 22:15:31,699 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:15:31,699 sqlalchemy.engine.Engine INFO [cached since 193.7s ago] (2,)
2025-09-10 22:15:31,701 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-09-10 22:15:31,702 sqlalchemy.engine.Engine INFO [cached since 193.7s ago] (2, 1, 0)
2025-09-10 22:15:31,702 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:15:31,704 sqlalchemy.engine.Engine INFO [cached since 193.7s ago] (2,)
2025-09-10 22:15:31,705 httpcore.connection DEBUG close.started
2025-09-10 22:15:31,706 httpcore.connection DEBUG close.complete
2025-09-10 22:15:31,706 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-09-10 22:15:31,978 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020A050B6AE0>
2025-09-10 22:15:31,978 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-09-10 22:15:31,979 httpcore.http11 DEBUG send_request_headers.complete
2025-09-10 22:15:31,979 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-09-10 22:15:31,979 httpcore.http11 DEBUG send_request_body.complete
2025-09-10 22:15:31,979 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-09-10 22:15:32,277 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Wed, 10 Sep 2025 16:45:32 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-09-10 22:15:32,277 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-09-10 22:15:32,278 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-09-10 22:15:36,896 httpcore.http11 DEBUG receive_response_body.complete
2025-09-10 22:15:36,896 httpcore.http11 DEBUG response_closed.started
2025-09-10 22:15:36,897 httpcore.http11 DEBUG response_closed.complete
2025-09-10 22:15:36,898 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-09-10 22:15:36,899 sqlalchemy.engine.Engine INFO [cached since 199s ago] ('<think>\nOkay, the user just said "hi" again. I need to respond appropriately. Since I am J.O.S.I.E., I should acknowledge their greeting. Let me mak ... (127 characters truncated) ... a question or request, a simple greeting should suffice. I\'ll keep it conversational and offer help.\n</think>\n\nHello! How can I assist you today?', 'assistant', 2)
2025-09-10 22:15:36,904 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:15:36,916 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:15:36,917 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-09-10 22:15:36,917 sqlalchemy.engine.Engine INFO [cached since 199s ago] (5,)
2025-09-10 22:16:25,264 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:16:25,266 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("user")
2025-09-10 22:16:25,267 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:16:25,269 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("session")
2025-09-10 22:16:25,269 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:16:25,273 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("chat_history")
2025-09-10 22:16:25,278 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:16:25,286 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("file")
2025-09-10 22:16:25,286 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:16:25,288 sqlalchemy.engine.Engine INFO PRAGMA main.table_info("citation")
2025-09-10 22:16:25,289 sqlalchemy.engine.Engine INFO [raw sql] ()
2025-09-10 22:16:25,291 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:16:27,747 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:16:27,754 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.user_id = ?
2025-09-10 22:16:27,754 sqlalchemy.engine.Engine INFO [generated in 0.00096s] (1,)
2025-09-10 22:16:27,762 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-09-10 22:16:27,762 sqlalchemy.engine.Engine INFO [generated in 0.00099s] (1,)
2025-09-10 22:16:27,765 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:16:27,769 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:16:27,772 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.user_id = ?
2025-09-10 22:16:27,773 sqlalchemy.engine.Engine INFO [cached since 0.01938s ago] (1,)
2025-09-10 22:16:27,776 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-09-10 22:16:27,777 sqlalchemy.engine.Engine INFO [cached since 0.01489s ago] (1,)
2025-09-10 22:16:27,779 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:16:38,714 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:16:38,716 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 22:16:38,717 sqlalchemy.engine.Engine INFO [generated in 0.00094s] (1,)
2025-09-10 22:16:38,721 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:16:39,217 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:16:39,218 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 22:16:39,219 sqlalchemy.engine.Engine INFO [cached since 0.5022s ago] (2,)
2025-09-10 22:16:39,222 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:16:39,223 sqlalchemy.engine.Engine INFO [generated in 0.00085s] (2,)
2025-09-10 22:16:39,225 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:16:39,226 sqlalchemy.engine.Engine INFO [cached since 0.004s ago] (2,)
2025-09-10 22:16:39,228 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:16:42,267 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:16:42,268 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-09-10 22:16:42,269 sqlalchemy.engine.Engine INFO [generated in 0.00057s] ('hi', 'user', 2)
2025-09-10 22:16:42,274 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:16:42,286 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:16:42,288 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-09-10 22:16:42,288 sqlalchemy.engine.Engine INFO [generated in 0.00064s] (6,)
2025-09-10 22:16:42,290 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:16:42,293 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:16:42,294 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 22:16:42,295 sqlalchemy.engine.Engine INFO [cached since 3.579s ago] (2,)
2025-09-10 22:16:42,298 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-09-10 22:16:42,299 sqlalchemy.engine.Engine INFO [generated in 0.00065s] (2, 1, 0)
2025-09-10 22:16:42,300 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:16:42,301 sqlalchemy.engine.Engine INFO [cached since 3.079s ago] (2,)
2025-09-10 22:16:42,303 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-09-10 22:16:42,304 sqlalchemy.engine.Engine INFO [cached since 0.005516s ago] (2, 1, 0)
2025-09-10 22:16:42,306 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:16:42,307 sqlalchemy.engine.Engine INFO [cached since 3.085s ago] (2,)
2025-09-10 22:16:42,310 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-09-10 22:16:42,585 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000029DAC08B2C0>
2025-09-10 22:16:42,585 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-09-10 22:16:42,587 httpcore.http11 DEBUG send_request_headers.complete
2025-09-10 22:16:42,587 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-09-10 22:16:42,587 httpcore.http11 DEBUG send_request_body.complete
2025-09-10 22:16:42,587 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-09-10 22:16:42,916 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Wed, 10 Sep 2025 16:46:42 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-09-10 22:16:42,918 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-09-10 22:16:42,918 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-09-10 22:16:49,153 httpcore.http11 DEBUG receive_response_body.complete
2025-09-10 22:16:49,153 httpcore.http11 DEBUG response_closed.started
2025-09-10 22:16:49,154 httpcore.http11 DEBUG response_closed.complete
2025-09-10 22:16:49,156 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-09-10 22:16:49,156 sqlalchemy.engine.Engine INFO [cached since 6.888s ago] ('<think>\nOkay, the user just said "hi" again. Let me check the conversation history. The previous messages were "hi" and then the assistant replied w ... (281 characters truncated) ... ep it friendly and open-ended. Just a simple "Hello!" and ask if there\'s anything I can assist with.\n</think>\n\nHello! How can I assist you today?', 'assistant', 2)
2025-09-10 22:16:49,161 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:16:49,172 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:16:49,173 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-09-10 22:16:49,173 sqlalchemy.engine.Engine INFO [cached since 6.886s ago] (7,)
2025-09-10 22:17:23,330 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:17:23,331 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.user_id = ?
2025-09-10 22:17:23,331 sqlalchemy.engine.Engine INFO [cached since 55.58s ago] (1,)
2025-09-10 22:17:23,335 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-09-10 22:17:23,335 sqlalchemy.engine.Engine INFO [cached since 55.57s ago] (1,)
2025-09-10 22:17:23,338 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:17:23,352 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:17:23,353 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.user_id = ?
2025-09-10 22:17:23,354 sqlalchemy.engine.Engine INFO [cached since 55.6s ago] (1,)
2025-09-10 22:17:23,356 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-09-10 22:17:23,357 sqlalchemy.engine.Engine INFO [cached since 55.6s ago] (1,)
2025-09-10 22:17:23,360 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:17:27,621 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:17:27,621 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 22:17:27,623 sqlalchemy.engine.Engine INFO [cached since 48.91s ago] (2,)
2025-09-10 22:17:27,625 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:17:27,626 sqlalchemy.engine.Engine INFO [cached since 48.4s ago] (2,)
2025-09-10 22:17:27,628 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:17:27,629 sqlalchemy.engine.Engine INFO [cached since 48.41s ago] (2,)
2025-09-10 22:17:27,632 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:17:33,006 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:17:33,007 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 22:17:33,008 sqlalchemy.engine.Engine INFO [cached since 54.29s ago] (1,)
2025-09-10 22:17:33,010 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 22:17:34,932 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:17:34,934 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
 LIMIT ? OFFSET ?
2025-09-10 22:17:34,935 sqlalchemy.engine.Engine INFO [generated in 0.00062s] (1, 1, 0)
2025-09-10 22:17:34,939 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE ? = chat_history.session_id
2025-09-10 22:17:34,939 sqlalchemy.engine.Engine INFO [generated in 0.00078s] (1,)
2025-09-10 22:17:34,944 sqlalchemy.engine.Engine INFO DELETE FROM session WHERE session.id = ?
2025-09-10 22:17:34,944 sqlalchemy.engine.Engine INFO [generated in 0.00068s] (1,)
2025-09-10 22:17:34,950 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 22:17:41,488 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 22:17:41,490 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 22:17:41,491 sqlalchemy.engine.Engine INFO [cached since 62.77s ago] (2,)
2025-09-10 22:17:41,494 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:17:41,494 sqlalchemy.engine.Engine INFO [cached since 62.27s ago] (2,)
2025-09-10 22:17:41,496 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 22:17:41,497 sqlalchemy.engine.Engine INFO [cached since 62.27s ago] (2,)
2025-09-10 22:17:41,500 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 23:07:58,580 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 23:07:58,583 sqlalchemy.engine.Engine INFO INSERT INTO session (session_name, session_type, model_name, temperature, file_id, user_id, files) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-09-10 23:07:58,583 sqlalchemy.engine.Engine INFO [generated in 0.00079s] ('hi', 'chat', 'goekdenizguelmez/JOSIEFIED-Qwen3:0.6b', 0.0, None, 1, '')
2025-09-10 23:07:58,589 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 23:07:58,601 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 23:07:58,604 sqlalchemy.engine.Engine INFO SELECT session.id, session.session_name, session.session_type, session.model_name, session.temperature, session.file_id, session.user_id, session.files 
FROM session 
WHERE session.id = ?
2025-09-10 23:07:58,605 sqlalchemy.engine.Engine INFO [generated in 0.00080s] (3,)
2025-09-10 23:07:58,608 sqlalchemy.engine.Engine INFO SELECT user.id AS user_id, user.name AS user_name, user.email AS user_email 
FROM user 
WHERE user.id = ?
2025-09-10 23:07:58,609 sqlalchemy.engine.Engine INFO [cached since 3091s ago] (1,)
2025-09-10 23:07:58,611 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 23:07:58,662 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 23:07:58,663 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 23:07:58,664 sqlalchemy.engine.Engine INFO [cached since 3080s ago] (3,)
2025-09-10 23:07:58,667 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 23:07:58,725 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 23:07:58,727 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-09-10 23:07:58,729 sqlalchemy.engine.Engine INFO [cached since 3076s ago] ('hi', 'user', 3)
2025-09-10 23:07:58,733 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 23:07:58,744 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 23:07:58,745 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-09-10 23:07:58,745 sqlalchemy.engine.Engine INFO [cached since 3076s ago] (8,)
2025-09-10 23:07:58,747 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 23:07:58,749 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 23:07:58,750 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 23:07:58,751 sqlalchemy.engine.Engine INFO [cached since 3080s ago] (3,)
2025-09-10 23:07:58,753 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-09-10 23:07:58,753 sqlalchemy.engine.Engine INFO [cached since 3076s ago] (3, 1, 0)
2025-09-10 23:07:58,755 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 23:07:58,755 sqlalchemy.engine.Engine INFO [cached since 3080s ago] (3,)
2025-09-10 23:07:58,758 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-09-10 23:07:58,759 sqlalchemy.engine.Engine INFO [cached since 3076s ago] (3, 1, 0)
2025-09-10 23:07:58,761 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 23:07:58,761 sqlalchemy.engine.Engine INFO [cached since 3080s ago] (3,)
2025-09-10 23:07:58,764 httpcore.connection DEBUG close.started
2025-09-10 23:07:58,765 httpcore.connection DEBUG close.complete
2025-09-10 23:07:58,765 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-09-10 23:07:59,025 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000029DACEDD8E0>
2025-09-10 23:07:59,025 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-09-10 23:07:59,027 httpcore.http11 DEBUG send_request_headers.complete
2025-09-10 23:07:59,027 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-09-10 23:07:59,028 httpcore.http11 DEBUG send_request_body.complete
2025-09-10 23:07:59,028 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-09-10 23:08:11,680 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Wed, 10 Sep 2025 17:38:11 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-09-10 23:08:11,681 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-09-10 23:08:11,684 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-09-10 23:08:15,929 httpcore.http11 DEBUG receive_response_body.complete
2025-09-10 23:08:15,929 httpcore.http11 DEBUG response_closed.started
2025-09-10 23:08:15,929 httpcore.http11 DEBUG response_closed.complete
2025-09-10 23:08:15,931 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-09-10 23:08:15,932 sqlalchemy.engine.Engine INFO [cached since 3094s ago] ('<think>\nOkay, the user just said "hi." I need to respond appropriately. Since I\'m Josie, I should acknowledge their greeting warmly. Let me check i ... (196 characters truncated) ...  help. I should make sure my response is friendly and open-ended to encourage further conversation.\n</think>\n\nHello! How can I assist you today? \U0001f60a', 'assistant', 3)
2025-09-10 23:08:15,936 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 23:08:15,948 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 23:08:15,949 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-09-10 23:08:15,950 sqlalchemy.engine.Engine INFO [cached since 3094s ago] (9,)
2025-09-10 23:11:17,997 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 23:11:17,998 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-09-10 23:11:17,998 sqlalchemy.engine.Engine INFO [cached since 3276s ago] ('\nhi', 'user', 3)
2025-09-10 23:11:18,001 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 23:11:18,012 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 23:11:18,014 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-09-10 23:11:18,014 sqlalchemy.engine.Engine INFO [cached since 3276s ago] (10,)
2025-09-10 23:11:18,016 sqlalchemy.engine.Engine INFO ROLLBACK
2025-09-10 23:11:18,018 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 23:11:18,019 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
2025-09-10 23:11:18,019 sqlalchemy.engine.Engine INFO [cached since 3279s ago] (3,)
2025-09-10 23:11:18,021 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-09-10 23:11:18,022 sqlalchemy.engine.Engine INFO [cached since 3276s ago] (3, 1, 0)
2025-09-10 23:11:18,023 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 23:11:18,024 sqlalchemy.engine.Engine INFO [cached since 3279s ago] (3,)
2025-09-10 23:11:18,026 sqlalchemy.engine.Engine INFO SELECT chat_history.id AS chat_history_id, chat_history.message AS chat_history_message, chat_history.message_type AS chat_history_message_type, chat_history.session_id AS chat_history_session_id 
FROM chat_history 
WHERE chat_history.session_id = ?
 LIMIT ? OFFSET ?
2025-09-10 23:11:18,027 sqlalchemy.engine.Engine INFO [cached since 3276s ago] (3, 1, 0)
2025-09-10 23:11:18,028 sqlalchemy.engine.Engine INFO SELECT session.id AS session_id, session.session_name AS session_session_name, session.session_type AS session_session_type, session.model_name AS session_model_name, session.temperature AS session_temperature, session.file_id AS session_file_id, session.user_id AS session_user_id, session.files AS session_files 
FROM session 
WHERE session.id = ?
2025-09-10 23:11:18,029 sqlalchemy.engine.Engine INFO [cached since 3279s ago] (3,)
2025-09-10 23:11:18,030 httpcore.connection DEBUG close.started
2025-09-10 23:11:18,031 httpcore.connection DEBUG close.complete
2025-09-10 23:11:18,031 httpcore.connection DEBUG connect_tcp.started host='localhost' port=11434 local_address=None timeout=10.0 socket_options=None
2025-09-10 23:11:18,286 httpcore.connection DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000029DACEDDBE0>
2025-09-10 23:11:18,286 httpcore.http11 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-09-10 23:11:18,287 httpcore.http11 DEBUG send_request_headers.complete
2025-09-10 23:11:18,287 httpcore.http11 DEBUG send_request_body.started request=<Request [b'POST']>
2025-09-10 23:11:18,287 httpcore.http11 DEBUG send_request_body.complete
2025-09-10 23:11:18,287 httpcore.http11 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-09-10 23:11:18,566 httpcore.http11 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/x-ndjson'), (b'Date', b'Wed, 10 Sep 2025 17:41:18 GMT'), (b'Transfer-Encoding', b'chunked')])
2025-09-10 23:11:18,567 httpx INFO HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2025-09-10 23:11:18,567 httpcore.http11 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-09-10 23:11:23,901 httpcore.http11 DEBUG receive_response_body.complete
2025-09-10 23:11:23,901 httpcore.http11 DEBUG response_closed.started
2025-09-10 23:11:23,901 httpcore.http11 DEBUG response_closed.complete
2025-09-10 23:11:23,902 sqlalchemy.engine.Engine INFO INSERT INTO chat_history (message, message_type, session_id) VALUES (?, ?, ?)
2025-09-10 23:11:23,903 sqlalchemy.engine.Engine INFO [cached since 3282s ago] ('<think>\nOkay, the user just said "hi" again. Let me check the conversation history. The last message was "hi" from the user, and I responded with "H ... (258 characters truncated) ... keep it light. Let me make sure there\'s no other context needed here. Just a simple, polite reply.\n</think>\n\nHello! How can I assist you today? \U0001f60a', 'assistant', 3)
2025-09-10 23:11:23,908 sqlalchemy.engine.Engine INFO COMMIT
2025-09-10 23:11:23,919 sqlalchemy.engine.Engine INFO BEGIN (implicit)
2025-09-10 23:11:23,920 sqlalchemy.engine.Engine INFO SELECT chat_history.id, chat_history.message, chat_history.message_type, chat_history.session_id 
FROM chat_history 
WHERE chat_history.id = ?
2025-09-10 23:11:23,920 sqlalchemy.engine.Engine INFO [cached since 3282s ago] (11,)
